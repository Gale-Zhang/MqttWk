[INFO ] 10:35:22.131 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 10:35:22.141 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 10:35:22.191 org.nutz.resource.Scans - Locations count=79 time use 43ms
[DEBUG] 10:35:22.197 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 10:35:22.197 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 10:35:22.199 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 10:35:22.347 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 10:35:22.347 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 10:35:22.348 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 10:35:22.395 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 10:35:22.397 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 10:35:22.399 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 10:35:22.419 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 10:35:22.448 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 10:35:22.463 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 10:35:22.476 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 10:35:22.479 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 10:35:22.481 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 10:35:22.482 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 10:35:22.488 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 10:35:22.493 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 10:35:22.494 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 10:35:22.495 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 10:35:22.499 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 10:35:22.506 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 10:35:22.509 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 10:35:22.510 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 10:35:22.511 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 10:35:22.515 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 10:35:22.516 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 10:35:22.517 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 10:35:22.518 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 10:35:22.522 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 10:35:22.523 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 10:35:22.525 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 10:35:22.526 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 10:35:22.527 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 10:35:22.527 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 10:35:22.528 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 10:35:22.530 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 10:35:22.548 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 10:35:22.552 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 10:35:22.552 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 10:35:22.554 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 10:35:22.559 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 10:35:22.598 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 10:35:22.599 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 10:35:22.602 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 10:35:22.605 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 10:35:22.606 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 10:35:22.606 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 10:35:22.606 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 10:35:22.607 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 10:35:22.608 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 10:35:22.633 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 10:35:22.659 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-enabled               |no        |                    |true      |SSL是否启用             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|72  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|74  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|79  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|86  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|87  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|89  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 10:35:22.670 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 10:35:22.671 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 10:35:22.671 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 10:35:22.671 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 10:35:22.672 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 10:35:22.679 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 10:35:22.680 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 10:35:22.681 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 10:35:22.682 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 10:35:22.683 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 10:35:22.684 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 10:35:22.685 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@308889081
[DEBUG] 10:35:22.685 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 10:35:22.705 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 10:35:22.746 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 10:35:22.747 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 10:35:22.747 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:35:22.747 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 10:35:22.747 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 10:35:22.748 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 10:35:22.751 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:35:22.758 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 10:35:22.758 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 10:35:22.758 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:35:22.759 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 10:35:22.759 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 10:35:22.760 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 10:35:22.761 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:35:22.762 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 10:35:22.762 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 10:35:22.762 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 10:35:22.762 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:35:22.763 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 10:35:22.763 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 10:35:22.763 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 10:35:22.764 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:35:22.765 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 10:35:22.765 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 10:35:22.765 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:35:22.766 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 10:35:22.766 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 10:35:22.767 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 10:35:22.768 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:35:22.768 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 10:35:22.796 org.eclipse.jetty.util.log - Logging initialized @1448ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 10:35:22.964 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 10:35:22.964 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 10:35:22.964 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:35:22.965 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 10:35:22.965 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 10:35:22.965 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 10:35:22.966 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 10:35:23.077 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 10:35:23.082 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 10:35:23.082 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 10:35:23.083 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:35:23.083 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 10:35:23.083 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 10:35:23.084 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 10:35:23.085 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 10:35:23.085 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 10:35:23.085 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:35:23.086 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 10:35:23.086 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 10:35:23.086 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 10:35:23.087 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:35:23.118 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 10:35:23.118 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 10:35:23.133 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 10:35:23.147 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 10:35:23.147 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 10:35:23.170 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 10:35:23.171 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 10:35:23.173 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 10:35:23.174 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 10:35:23.175 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 10:35:23.176 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 10:35:23.177 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 10:35:23.178 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 10:35:23.179 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @4dd02341
[DEBUG] 10:35:23.181 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 10:35:23.181 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 10:35:23.183 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 10:35:23.184 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 10:35:23.184 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 10:35:23.185 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 10:35:23.186 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 10:35:23.186 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 10:35:23.188 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 10:35:23.188 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 10:35:23.196 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 10:35:23.208 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 10:35:23.208 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 10:35:23.219 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 10:35:28.279 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 14079 (auto-detected)
[DEBUG] 10:35:28.281 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 10:35:28.282 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 10:35:28.284 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 10:35:28.285 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 10:35:28.287 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 10:35:28.296 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 10:35:28.297 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 10:35:28.322 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 10:35:28.323 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 10:35:28.323 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 10:35:28.323 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 10:35:28.323 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 10:35:28.323 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 10:35:28.323 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 10:35:28.323 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 10:35:28.324 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 10:35:28.324 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 10:35:28.324 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 10:35:28.324 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 10:35:28.335 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 10:35:28.335 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 10:35:28.335 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 10:35:28.349 io.netty.handler.logging.LoggingHandler - [id: 0x1450c1e5] REGISTERED
[INFO ] 10:35:28.350 io.netty.handler.logging.LoggingHandler - [id: 0x1450c1e5] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 10:35:28.353 io.netty.handler.logging.LoggingHandler - [id: 0x1450c1e5, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 10:35:28.354 io.netty.handler.logging.LoggingHandler - [id: 0x31bad259] REGISTERED
[INFO ] 10:35:28.354 io.netty.handler.logging.LoggingHandler - [id: 0x31bad259] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 10:35:28.354 io.netty.handler.logging.LoggingHandler - [id: 0x31bad259, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 10:35:28.354 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 10:35:28.356 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 10:35:28.435 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 10:35:28.440 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 10:35:28.452 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 10:35:28.452 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 10:35:28.455 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 10:35:28.469 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 10:35:28.469 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 10:35:28.470 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 10:35:28.470 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 10:35:28.470 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:35:28.470 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 10:35:28.470 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 10:35:28.472 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 10:35:28.472 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 10:35:28.474 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 10:35:28.475 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 10:35:28.475 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 10:35:28.475 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 10:35:28.475 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:35:28.476 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 10:35:28.476 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 10:35:28.476 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 10:35:28.476 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 10:35:28.477 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 10:35:28.479 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 10:35:28.479 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 10:35:28.483 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 10:35:28.485 org.nutz.resource.Scans - Locations count=80 time use 0ms
[DEBUG] 10:35:28.486 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 10:35:28.488 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 10:35:28.488 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 10:35:28.488 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 10:35:28.488 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 10:35:28.488 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 10:35:28.489 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 10:35:28.489 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 10:35:28.489 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 10:35:28.489 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 10:35:28.489 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 10:35:28.489 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 10:35:28.489 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 10:35:28.489 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 10:35:28.489 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 10:35:28.490 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 10:35:28.490 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 10:35:28.493 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 10:35:28.494 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 10:35:28.497 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 10:35:28.502 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 10:35:28.510 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 10:35:28.521 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 10:35:28.527 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 10:35:28.528 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 10:35:28.531 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 10:35:28.543 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 10:35:28.544 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 10:35:28.547 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 10:35:28.548 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 10:35:28.552 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 10:35:28.554 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 10:35:28.554 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 10:35:28.555 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 10:35:28.555 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 10:35:28.556 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 10:35:28.556 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 10:35:28.556 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 10:35:28.557 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 67ms
[INFO ] 10:35:28.578 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@3e7dfd44{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 10:35:28.589 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@79145d5a{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 10:35:28.590 org.eclipse.jetty.server.Server - Started @7242ms
[DEBUG] 10:35:28.590 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 10:35:28.591 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 10:35:28.591 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 10:35:28.591 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:35:28.591 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 10:35:28.591 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 10:35:28.591 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 10:35:28.592 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:35:28.592 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:35:28.592 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 10:35:28.592 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 10:35:28.592 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:35:28.592 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 10:35:28.618 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 10:35:28.625 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 10:35:28.625 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 10:35:28.625 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 10:35:28.625 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 10:35:28.626 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 10:35:28.626 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 10:35:28.626 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:35:28.626 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 10:35:28.627 org.nutz.boot.NbApp - mqttwk started : 6570ms
[INFO ] 14:17:16.051 io.netty.handler.logging.LoggingHandler - [id: 0x1450c1e5, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x5f1ce598, L:/127.0.0.1:8885 - R:/127.0.0.1:61992]
[INFO ] 14:17:16.058 io.netty.handler.logging.LoggingHandler - [id: 0x1450c1e5, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:17:16.095 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:17:16.096 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 14:17:16.097 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.097 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:17:16.097 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 14:17:16.098 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 14:17:16.101 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:17:16.101 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 14:17:16.101 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.101 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:17:16.102 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 14:17:16.102 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 14:17:16.105 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:17:16.106 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 14:17:16.106 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.106 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:17:16.106 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 14:17:16.122 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:17:16.122 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:17:16.123 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 14:17:16.123 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.123 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:17:16.124 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 14:17:16.124 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 14:17:16.125 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:17:16.125 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 14:17:16.125 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.125 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:17:16.125 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 14:17:16.129 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:17:16.129 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:17:16.129 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:17:16.130 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 14:17:16.130 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.130 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:17:16.130 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 14:17:16.132 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:17:16.133 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:17:16.133 org.nutz.ioc.val.ReferTypeValue - name=authService not found, search for type=cn.wizzer.iot.mqtt.server.common.auth.IAuthService
[DEBUG] 14:17:16.134 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@237727394
[DEBUG] 14:17:16.134 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@237727394
[DEBUG] 14:17:16.135 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@237727394
[DEBUG] 14:17:16.135 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@237727394
[DEBUG] 14:17:16.135 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@237727394
[DEBUG] 14:17:16.135 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@308889081
[DEBUG] 14:17:16.135 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.135 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.135 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.136 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.136 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.136 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.136 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.136 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.137 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.137 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.137 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.137 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.137 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.137 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.137 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.138 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.138 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.138 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.138 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.139 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.139 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.139 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.139 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.140 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.140 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:17:16.140 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:17:16.140 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:17:16.140 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:17:16.140 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:17:16.141 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:17:16.141 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:17:16.141 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyServer) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:17:16.141 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:17:16.142 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisCluster) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:17:16.142 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisClusterNodes) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:17:16.143 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisClusterWrapper) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:17:16.143 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:17:16.144 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:17:16.144 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:17:16.144 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:17:16.145 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redis) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:17:16.145 org.nutz.ioc.impl.ScopeContext - Remove object 'protocolProcess' from [app] 
[DEBUG] 14:17:16.146 org.nutz.ioc.impl.ScopeContext - Remove object 'brokerHandler' from [app] 
[WARN ] 14:17:16.149 io.netty.channel.ChannelInitializer - Failed to initialize a channel. Closing: [id: 0x5f1ce598, L:/127.0.0.1:8885 - R:/127.0.0.1:61992]
org.nutz.ioc.IocException: IocBean[brokerHandler] throw Exception when creating
	at org.nutz.ioc.impl.ObjectMakerImpl.make(ObjectMakerImpl.java:153)
	at org.nutz.ioc.impl.NutIoc.get(NutIoc.java:241)
	at org.nutz.ioc.impl.NutIoc.get(NutIoc.java:271)
	at org.nutz.ioc.impl.NutIoc.get(NutIoc.java:161)
	at cn.wizzer.iot.mqtt.server.broker.server.BrokerServer$1.initChannel(BrokerServer.java:135)
	at cn.wizzer.iot.mqtt.server.broker.server.BrokerServer$1.initChannel(BrokerServer.java:120)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:514)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.RuntimeException: IocBean[brokerHandler] fail at field=[protocolProcess]
	at org.nutz.ioc.weaver.FieldInjector.inject(FieldInjector.java:40)
	at org.nutz.ioc.weaver.DefaultWeaver.fill(DefaultWeaver.java:67)
	at org.nutz.ioc.impl.ObjectMakerImpl.make(ObjectMakerImpl.java:138)
	... 24 common frames omitted
Caused by: org.nutz.ioc.IocException: IocBean[protocolProcess] throw Exception when creating
	at org.nutz.ioc.impl.ObjectMakerImpl.make(ObjectMakerImpl.java:153)
	at org.nutz.ioc.impl.NutIoc.get(NutIoc.java:241)
	at org.nutz.ioc.val.ReferTypeValue.get(ReferTypeValue.java:60)
	at org.nutz.ioc.weaver.FieldInjector.inject(FieldInjector.java:32)
	... 26 common frames omitted
Caused by: java.lang.RuntimeException: IocBean[protocolProcess] fail at field=[authService]
	at org.nutz.ioc.weaver.FieldInjector.inject(FieldInjector.java:40)
	at org.nutz.ioc.weaver.DefaultWeaver.fill(DefaultWeaver.java:67)
	at org.nutz.ioc.impl.ObjectMakerImpl.make(ObjectMakerImpl.java:138)
	... 29 common frames omitted
Caused by: org.nutz.ioc.IocException: IocBean[class:cn.wizzer.iot.mqtt.server.common.auth.IAuthService] none ioc bean match class=cn.wizzer.iot.mqtt.server.common.auth.IAuthService
	at org.nutz.ioc.impl.NutIoc.getByType(NutIoc.java:461)
	at org.nutz.ioc.val.ReferTypeValue.get(ReferTypeValue.java:66)
	at org.nutz.ioc.weaver.FieldInjector.inject(FieldInjector.java:32)
	... 31 common frames omitted
[INFO ] 14:20:02.602 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@79145d5a{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:20:02.603 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 14:20:02.609 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 14:20:02.610 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 14:20:07.259 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 14:20:07.266 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 14:20:07.299 org.nutz.resource.Scans - Locations count=79 time use 27ms
[DEBUG] 14:20:07.303 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:20:07.303 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 14:20:07.304 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 14:20:07.391 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:20:07.391 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 14:20:07.392 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 14:20:07.419 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 14:20:07.422 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 14:20:07.423 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 14:20:07.435 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 14:20:07.466 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 14:20:07.475 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:20:07.485 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 14:20:07.487 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 14:20:07.490 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 14:20:07.490 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 14:20:07.494 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 14:20:07.496 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 14:20:07.497 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 14:20:07.497 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 14:20:07.500 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 14:20:07.504 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 14:20:07.506 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 14:20:07.507 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 14:20:07.507 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 14:20:07.509 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 14:20:07.510 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 14:20:07.510 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 14:20:07.511 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 14:20:07.511 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 14:20:07.512 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 14:20:07.512 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 14:20:07.513 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:20:07.513 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 14:20:07.513 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 14:20:07.514 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 14:20:07.515 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:20:07.524 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 14:20:07.527 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 14:20:07.527 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 14:20:07.528 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 14:20:07.531 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 14:20:07.554 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 14:20:07.555 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 14:20:07.556 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:20:07.557 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:20:07.558 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:20:07.558 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 14:20:07.558 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:20:07.559 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:20:07.559 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:20:07.567 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 14:20:07.578 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 14:20:07.584 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 14:20:07.585 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 14:20:07.585 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 14:20:07.585 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 14:20:07.586 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 14:20:07.590 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:20:07.590 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 14:20:07.591 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 14:20:07.591 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:20:07.591 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:20:07.591 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 14:20:07.592 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 14:20:07.592 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:20:07.605 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 14:20:07.631 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 14:20:07.631 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 14:20:07.631 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:07.631 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:20:07.631 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 14:20:07.632 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 14:20:07.633 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:20:07.637 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:20:07.637 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 14:20:07.637 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:07.637 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:20:07.638 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 14:20:07.638 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 14:20:07.639 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:20:07.639 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:20:07.639 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:20:07.640 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 14:20:07.640 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:07.640 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:20:07.640 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 14:20:07.640 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 14:20:07.641 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:20:07.641 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:20:07.641 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 14:20:07.641 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:07.641 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:20:07.641 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 14:20:07.641 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 14:20:07.642 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:20:07.642 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 14:20:07.665 org.eclipse.jetty.util.log - Logging initialized @914ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 14:20:07.780 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:20:07.780 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 14:20:07.780 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:07.780 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:20:07.781 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 14:20:07.781 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 14:20:07.781 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:20:07.868 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:20:07.872 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:20:07.872 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 14:20:07.872 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:07.872 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:20:07.872 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 14:20:07.872 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 14:20:07.873 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:20:07.873 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 14:20:07.873 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:07.873 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:20:07.873 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 14:20:07.874 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 14:20:07.874 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:20:07.893 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 14:20:07.894 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 14:20:07.902 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 14:20:07.916 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 14:20:07.916 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 14:20:07.932 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 14:20:07.932 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 14:20:07.933 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 14:20:07.934 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 14:20:07.934 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 14:20:07.934 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 14:20:07.935 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 14:20:07.935 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 14:20:07.936 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 14:20:07.937 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 14:20:07.937 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 14:20:07.938 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 14:20:07.939 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 14:20:07.939 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 14:20:07.939 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 14:20:07.940 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 14:20:07.940 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 14:20:07.941 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 14:20:07.941 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 14:20:07.945 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 14:20:07.953 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 14:20:07.953 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 14:20:07.960 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 14:20:13.001 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 30831 (auto-detected)
[DEBUG] 14:20:13.004 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 14:20:13.004 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 14:20:13.007 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 14:20:13.007 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 14:20:13.010 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 14:20:13.021 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 14:20:13.021 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 14:20:13.045 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 14:20:13.046 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 14:20:13.046 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 14:20:13.046 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 14:20:13.046 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 14:20:13.046 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 14:20:13.046 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 14:20:13.046 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 14:20:13.046 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 14:20:13.046 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 14:20:13.046 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 14:20:13.047 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 14:20:13.059 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 14:20:13.059 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 14:20:13.059 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 14:20:13.074 io.netty.handler.logging.LoggingHandler - [id: 0x050aa034] REGISTERED
[INFO ] 14:20:13.075 io.netty.handler.logging.LoggingHandler - [id: 0x050aa034] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 14:20:13.079 io.netty.handler.logging.LoggingHandler - [id: 0x050aa034, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 14:20:13.079 io.netty.handler.logging.LoggingHandler - [id: 0x97148902] REGISTERED
[INFO ] 14:20:13.079 io.netty.handler.logging.LoggingHandler - [id: 0x97148902] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 14:20:13.079 io.netty.handler.logging.LoggingHandler - [id: 0x97148902, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 14:20:13.079 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 14:20:13.081 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 14:20:13.158 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 14:20:13.163 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 14:20:13.184 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 14:20:13.184 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 14:20:13.187 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 14:20:13.200 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:20:13.200 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:20:13.201 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:20:13.201 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 14:20:13.202 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:13.202 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:20:13.202 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 14:20:13.203 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 14:20:13.204 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 14:20:13.206 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:20:13.207 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 14:20:13.207 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:20:13.208 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 14:20:13.208 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:13.208 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:20:13.208 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 14:20:13.209 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 14:20:13.210 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 14:20:13.211 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 14:20:13.212 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:20:13.212 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 14:20:13.216 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 14:20:13.219 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 14:20:13.220 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 14:20:13.222 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 14:20:13.222 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 14:20:13.222 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 14:20:13.222 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 14:20:13.222 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 14:20:13.222 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 14:20:13.223 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 14:20:13.223 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 14:20:13.223 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 14:20:13.223 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 14:20:13.223 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 14:20:13.223 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 14:20:13.223 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 14:20:13.223 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:20:13.224 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 14:20:13.224 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 14:20:13.227 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 14:20:13.228 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 14:20:13.231 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 14:20:13.238 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 14:20:13.246 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:20:13.256 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:20:13.263 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 14:20:13.263 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 14:20:13.269 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:20:13.274 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:20:13.276 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 14:20:13.280 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 14:20:13.283 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 14:20:13.289 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:20:13.289 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:20:13.290 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 14:20:13.290 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 14:20:13.290 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 14:20:13.291 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:20:13.291 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 14:20:13.292 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 14:20:13.292 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 69ms
[INFO ] 14:20:13.315 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@28a6301f{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 14:20:13.328 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:20:13.329 org.eclipse.jetty.server.Server - Started @6579ms
[DEBUG] 14:20:13.329 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 14:20:13.330 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:20:13.330 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 14:20:13.330 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:13.330 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:20:13.330 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 14:20:13.330 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 14:20:13.331 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:20:13.331 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:20:13.331 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 14:20:13.331 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:13.331 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:20:13.331 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 14:20:13.353 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 14:20:13.359 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:20:13.359 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 14:20:13.359 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:13.360 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 14:20:13.360 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 14:20:13.360 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 14:20:13.360 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:20:13.360 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 14:20:13.361 org.nutz.boot.NbApp - mqttwk started : 6149ms
[INFO ] 14:20:14.873 io.netty.handler.logging.LoggingHandler - [id: 0x050aa034, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xf479197c, L:/127.0.0.1:8885 - R:/127.0.0.1:62615]
[INFO ] 14:20:14.875 io.netty.handler.logging.LoggingHandler - [id: 0x050aa034, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:20:14.900 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:20:14.901 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 14:20:14.901 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.901 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:20:14.902 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 14:20:14.902 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 14:20:14.904 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:20:14.904 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 14:20:14.904 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.904 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:20:14.905 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 14:20:14.905 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 14:20:14.906 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:20:14.906 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 14:20:14.906 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.906 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:20:14.906 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 14:20:14.917 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:20:14.918 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:20:14.918 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 14:20:14.918 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.919 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:20:14.919 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 14:20:14.919 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 14:20:14.919 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:20:14.919 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 14:20:14.920 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.920 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:20:14.920 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 14:20:14.923 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:20:14.924 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:20:14.924 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:20:14.924 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 14:20:14.924 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.925 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:20:14.925 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 14:20:14.928 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:20:14.928 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:20:14.929 org.nutz.ioc.val.ReferTypeValue - name=authService not found, search for type=cn.wizzer.iot.mqtt.server.common.auth.IAuthService
[DEBUG] 14:20:14.929 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@883890639
[DEBUG] 14:20:14.929 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@883890639
[DEBUG] 14:20:14.930 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@883890639
[DEBUG] 14:20:14.930 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@883890639
[DEBUG] 14:20:14.930 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@883890639
[DEBUG] 14:20:14.930 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 14:20:14.930 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.931 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.931 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.931 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.931 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.931 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.931 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.932 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.932 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.932 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.932 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.932 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.932 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.932 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.933 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.933 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.933 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.933 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.933 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.933 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.933 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.934 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.934 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.934 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.934 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:20:14.934 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:14.934 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:14.935 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:14.935 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:14.935 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:14.935 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:14.935 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyServer) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:20:14.936 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:14.937 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisCluster) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:14.938 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisClusterNodes) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:14.938 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisClusterWrapper) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:14.939 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:14.939 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:14.940 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:14.940 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:14.940 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redis) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:20:14.940 org.nutz.ioc.impl.ScopeContext - Remove object 'protocolProcess' from [app] 
[DEBUG] 14:20:14.941 org.nutz.ioc.impl.ScopeContext - Remove object 'brokerHandler' from [app] 
[WARN ] 14:20:14.943 io.netty.channel.ChannelInitializer - Failed to initialize a channel. Closing: [id: 0xf479197c, L:/127.0.0.1:8885 - R:/127.0.0.1:62615]
org.nutz.ioc.IocException: IocBean[brokerHandler] throw Exception when creating
	at org.nutz.ioc.impl.ObjectMakerImpl.make(ObjectMakerImpl.java:153)
	at org.nutz.ioc.impl.NutIoc.get(NutIoc.java:241)
	at org.nutz.ioc.impl.NutIoc.get(NutIoc.java:271)
	at org.nutz.ioc.impl.NutIoc.get(NutIoc.java:161)
	at cn.wizzer.iot.mqtt.server.broker.server.BrokerServer$1.initChannel(BrokerServer.java:141)
	at cn.wizzer.iot.mqtt.server.broker.server.BrokerServer$1.initChannel(BrokerServer.java:126)
	at io.netty.channel.ChannelInitializer.initChannel(ChannelInitializer.java:129)
	at io.netty.channel.ChannelInitializer.handlerAdded(ChannelInitializer.java:112)
	at io.netty.channel.AbstractChannelHandlerContext.callHandlerAdded(AbstractChannelHandlerContext.java:938)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAdded0(DefaultChannelPipeline.java:609)
	at io.netty.channel.DefaultChannelPipeline.access$100(DefaultChannelPipeline.java:46)
	at io.netty.channel.DefaultChannelPipeline$PendingHandlerAddedTask.execute(DefaultChannelPipeline.java:1463)
	at io.netty.channel.DefaultChannelPipeline.callHandlerAddedForAllHandlers(DefaultChannelPipeline.java:1115)
	at io.netty.channel.DefaultChannelPipeline.invokeHandlerAddedIfNeeded(DefaultChannelPipeline.java:650)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:514)
	at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)
	at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.RuntimeException: IocBean[brokerHandler] fail at field=[protocolProcess]
	at org.nutz.ioc.weaver.FieldInjector.inject(FieldInjector.java:40)
	at org.nutz.ioc.weaver.DefaultWeaver.fill(DefaultWeaver.java:67)
	at org.nutz.ioc.impl.ObjectMakerImpl.make(ObjectMakerImpl.java:138)
	... 24 common frames omitted
Caused by: org.nutz.ioc.IocException: IocBean[protocolProcess] throw Exception when creating
	at org.nutz.ioc.impl.ObjectMakerImpl.make(ObjectMakerImpl.java:153)
	at org.nutz.ioc.impl.NutIoc.get(NutIoc.java:241)
	at org.nutz.ioc.val.ReferTypeValue.get(ReferTypeValue.java:60)
	at org.nutz.ioc.weaver.FieldInjector.inject(FieldInjector.java:32)
	... 26 common frames omitted
Caused by: java.lang.RuntimeException: IocBean[protocolProcess] fail at field=[authService]
	at org.nutz.ioc.weaver.FieldInjector.inject(FieldInjector.java:40)
	at org.nutz.ioc.weaver.DefaultWeaver.fill(DefaultWeaver.java:67)
	at org.nutz.ioc.impl.ObjectMakerImpl.make(ObjectMakerImpl.java:138)
	... 29 common frames omitted
Caused by: org.nutz.ioc.IocException: IocBean[class:cn.wizzer.iot.mqtt.server.common.auth.IAuthService] none ioc bean match class=cn.wizzer.iot.mqtt.server.common.auth.IAuthService
	at org.nutz.ioc.impl.NutIoc.getByType(NutIoc.java:461)
	at org.nutz.ioc.val.ReferTypeValue.get(ReferTypeValue.java:66)
	at org.nutz.ioc.weaver.FieldInjector.inject(FieldInjector.java:32)
	... 31 common frames omitted
[INFO ] 14:35:52.685 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:35:52.685 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 14:35:52.686 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 14:35:52.687 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 14:35:55.703 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 14:35:55.710 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 14:35:55.747 org.nutz.resource.Scans - Locations count=79 time use 31ms
[DEBUG] 14:35:55.751 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:35:55.752 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 14:35:55.753 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 14:35:55.857 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:35:55.858 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 14:35:55.858 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 14:35:55.892 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 14:35:55.894 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 14:35:55.894 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 14:35:55.909 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 14:35:55.942 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 14:35:55.952 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:35:55.961 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 14:35:55.963 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 14:35:55.966 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 14:35:55.966 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 14:35:55.969 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 14:35:55.972 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 14:35:55.973 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 14:35:55.973 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 14:35:55.975 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 14:35:55.979 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 14:35:55.981 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 14:35:55.981 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 14:35:55.982 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 14:35:55.983 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 14:35:55.983 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 14:35:55.984 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 14:35:55.984 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 14:35:55.984 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 14:35:55.985 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 14:35:55.985 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 14:35:55.985 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:35:55.986 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 14:35:55.986 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 14:35:55.986 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 14:35:55.987 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:35:55.995 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 14:35:55.998 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 14:35:55.998 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 14:35:55.999 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 14:35:56.002 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 14:35:56.024 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 14:35:56.025 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 14:35:56.026 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:35:56.027 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:35:56.028 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:35:56.028 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 14:35:56.028 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:35:56.028 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:35:56.029 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:35:56.037 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 14:35:56.048 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 14:35:56.055 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 14:35:56.055 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 14:35:56.055 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 14:35:56.055 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 14:35:56.056 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 14:35:56.059 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:35:56.060 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 14:35:56.061 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 14:35:56.061 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:35:56.061 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:35:56.062 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 14:35:56.062 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 14:35:56.062 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:35:56.078 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 14:35:56.111 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 14:35:56.111 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 14:35:56.111 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:35:56.112 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:35:56.112 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 14:35:56.112 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 14:35:56.115 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:35:56.121 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:35:56.122 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 14:35:56.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:35:56.122 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:35:56.122 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 14:35:56.122 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 14:35:56.124 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:35:56.124 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:35:56.124 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:35:56.125 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 14:35:56.125 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:35:56.125 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:35:56.125 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 14:35:56.126 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 14:35:56.126 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:35:56.126 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:35:56.126 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 14:35:56.127 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:35:56.127 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:35:56.127 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 14:35:56.127 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 14:35:56.128 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:35:56.128 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 14:35:56.160 org.eclipse.jetty.util.log - Logging initialized @1005ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 14:35:56.290 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:35:56.290 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 14:35:56.291 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:35:56.291 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:35:56.291 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 14:35:56.291 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 14:35:56.292 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:35:56.397 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:35:56.400 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:35:56.400 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 14:35:56.401 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:35:56.401 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:35:56.401 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 14:35:56.401 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 14:35:56.402 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:35:56.402 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 14:35:56.402 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:35:56.402 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:35:56.402 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 14:35:56.402 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 14:35:56.403 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:35:56.425 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 14:35:56.425 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 14:35:56.437 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 14:35:56.451 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 14:35:56.451 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 14:35:56.468 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 14:35:56.468 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 14:35:56.470 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 14:35:56.470 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 14:35:56.471 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 14:35:56.471 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 14:35:56.472 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 14:35:56.472 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 14:35:56.473 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 14:35:56.474 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 14:35:56.474 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 14:35:56.476 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 14:35:56.476 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 14:35:56.476 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 14:35:56.476 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 14:35:56.477 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 14:35:56.478 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 14:35:56.478 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 14:35:56.479 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 14:35:56.486 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 14:35:56.496 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 14:35:56.497 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 14:35:56.506 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 14:36:01.562 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 32009 (auto-detected)
[DEBUG] 14:36:01.565 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 14:36:01.565 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 14:36:01.568 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 14:36:01.568 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 14:36:01.572 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 14:36:01.582 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 14:36:01.582 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 14:36:01.606 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 14:36:01.606 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 14:36:01.606 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 14:36:01.606 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 14:36:01.607 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 14:36:01.607 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 14:36:01.607 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 14:36:01.607 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 14:36:01.607 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 14:36:01.607 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 14:36:01.607 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 14:36:01.608 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 14:36:01.617 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 14:36:01.618 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 14:36:01.618 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 14:36:01.632 io.netty.handler.logging.LoggingHandler - [id: 0xea3aa6a1] REGISTERED
[INFO ] 14:36:01.634 io.netty.handler.logging.LoggingHandler - [id: 0xea3aa6a1] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 14:36:01.638 io.netty.handler.logging.LoggingHandler - [id: 0xea3aa6a1, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 14:36:01.638 io.netty.handler.logging.LoggingHandler - [id: 0x7db701ca] REGISTERED
[INFO ] 14:36:01.638 io.netty.handler.logging.LoggingHandler - [id: 0x7db701ca] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 14:36:01.638 io.netty.handler.logging.LoggingHandler - [id: 0x7db701ca, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 14:36:01.638 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 14:36:01.640 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 14:36:01.726 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 14:36:01.731 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 14:36:01.744 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 14:36:01.744 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 14:36:01.746 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 14:36:01.758 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:36:01.759 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:36:01.759 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:36:01.760 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 14:36:01.760 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:36:01.760 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:36:01.760 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 14:36:01.762 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 14:36:01.762 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 14:36:01.764 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:36:01.765 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 14:36:01.765 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:36:01.766 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 14:36:01.766 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:36:01.766 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:36:01.766 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 14:36:01.767 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 14:36:01.767 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 14:36:01.768 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 14:36:01.771 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:36:01.772 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 14:36:01.776 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 14:36:01.779 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 14:36:01.780 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 14:36:01.781 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 14:36:01.781 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 14:36:01.781 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 14:36:01.782 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 14:36:01.782 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 14:36:01.782 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 14:36:01.782 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 14:36:01.782 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 14:36:01.782 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 14:36:01.782 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 14:36:01.783 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 14:36:01.783 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 14:36:01.783 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 14:36:01.783 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:36:01.784 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 14:36:01.784 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 14:36:01.787 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 14:36:01.788 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 14:36:01.791 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 14:36:01.797 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 14:36:01.806 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:36:01.828 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:36:01.833 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 14:36:01.834 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 14:36:01.838 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:36:01.841 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:36:01.841 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 14:36:01.845 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 14:36:01.847 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 14:36:01.851 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:36:01.852 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:36:01.852 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 14:36:01.852 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 14:36:01.852 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 14:36:01.854 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:36:01.854 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 14:36:01.854 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 14:36:01.855 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 72ms
[INFO ] 14:36:01.877 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@28a6301f{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 14:36:01.888 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:36:01.889 org.eclipse.jetty.server.Server - Started @6734ms
[DEBUG] 14:36:01.889 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 14:36:01.890 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:36:01.890 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 14:36:01.890 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:36:01.890 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:36:01.890 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 14:36:01.890 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 14:36:01.891 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:36:01.891 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:36:01.891 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 14:36:01.891 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:36:01.891 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:36:01.891 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 14:36:01.914 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 14:36:01.920 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:36:01.920 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 14:36:01.920 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:36:01.921 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 14:36:01.921 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 14:36:01.921 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 14:36:01.921 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:36:01.921 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 14:36:01.922 org.nutz.boot.NbApp - mqttwk started : 6271ms
[INFO ] 14:39:35.500 io.netty.handler.logging.LoggingHandler - [id: 0xea3aa6a1, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xba9d9f85, L:/127.0.0.1:8885 - R:/127.0.0.1:50809]
[INFO ] 14:39:35.501 io.netty.handler.logging.LoggingHandler - [id: 0xea3aa6a1, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:39:35.526 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:39:35.526 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 14:39:35.527 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.527 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:39:35.527 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 14:39:35.527 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 14:39:35.528 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:39:35.528 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 14:39:35.528 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.528 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:39:35.529 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 14:39:35.529 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 14:39:35.530 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:39:35.530 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 14:39:35.531 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.531 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:39:35.531 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 14:39:35.541 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:39:35.543 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:39:35.543 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 14:39:35.544 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.544 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:39:35.544 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 14:39:35.544 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 14:39:35.545 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:39:35.545 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 14:39:35.546 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.546 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:39:35.546 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 14:39:35.548 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:39:35.548 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:39:35.549 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:39:35.549 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 14:39:35.549 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.549 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:39:35.549 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 14:39:35.551 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:39:35.552 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:39:35.552 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:39:35.552 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 14:39:35.552 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.552 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:39:35.552 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 14:39:35.552 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 14:39:35.554 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:39:35.557 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 14:39:35.558 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 14:39:35.558 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:39:35.559 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 14:39:35.559 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 14:39:35.568 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 14:39:35.568 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 14:39:35.568 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:39:35.569 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 14:39:35.569 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 14:39:35.569 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 14:39:35.569 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.571 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.571 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.571 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.571 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.572 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.572 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.575 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 14:39:35.578 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 14:39:35.578 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.578 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.579 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.579 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.579 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:39:35.714 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 14:39:35.715 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1278615176
[DEBUG] 14:39:35.715 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1278615176
[DEBUG] 14:39:35.716 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1278615176
[DEBUG] 14:39:35.716 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1278615176
[DEBUG] 14:39:35.716 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1278615176
[DEBUG] 14:39:35.716 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 14:39:35.716 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.716 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.716 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.717 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.717 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.717 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.717 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.717 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.717 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.718 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.718 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.718 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.718 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.718 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.718 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.719 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.719 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.719 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 14:39:35.719 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 14:39:35.719 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.719 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 14:39:35.719 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 14:39:35.719 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 14:39:35.720 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 14:39:35.720 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 14:39:35.720 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.720 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 14:39:35.720 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 14:39:35.722 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:39:35.722 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:39:35.722 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:39:35.722 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 14:39:35.723 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 14:39:35.723 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.723 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 14:39:35.723 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 14:39:35.723 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 14:39:35.724 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:39:35.724 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 14:39:35.724 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 14:39:35.724 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.724 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 14:39:35.724 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 14:39:35.726 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:39:35.726 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:39:35.726 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 14:39:35.726 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 14:39:35.727 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.727 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 14:39:35.727 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 14:39:35.727 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 14:39:35.728 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:39:35.728 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 14:39:35.728 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 14:39:35.728 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.728 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 14:39:35.728 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 14:39:35.730 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:39:35.731 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:39:35.731 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 14:39:35.731 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 14:39:35.731 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.732 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 14:39:35.732 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 14:39:35.732 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 14:39:35.733 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:39:35.733 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 14:39:35.733 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 14:39:35.734 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.734 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 14:39:35.734 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 14:39:35.737 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 14:39:35.737 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 14:39:35.737 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.737 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 14:39:35.737 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 14:39:35.751 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 14:39:35.751 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 14:39:35.751 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 14:39:35.751 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:39:35.752 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 14:39:35.752 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 14:39:35.752 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.752 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 14:39:35.752 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 14:39:35.754 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 14:39:35.754 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 14:39:35.754 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:39:35.754 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 14:39:35.754 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 14:39:35.755 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 14:39:35.756 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:39:35.756 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:39:35.756 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 14:39:35.756 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 14:39:35.757 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.757 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 14:39:35.757 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 14:39:35.757 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 14:39:35.758 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:39:35.759 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 14:39:35.759 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 14:39:35.759 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 14:39:35.759 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:39:35.759 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 14:39:35.760 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.760 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:39:35.760 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 14:39:35.760 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 14:39:35.760 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:39:35.761 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 14:39:35.761 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:39:35.761 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 14:39:35.761 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 14:39:35.761 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 14:39:35.765 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:39:35.766 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:39:35.766 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:39:35.766 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:39:35.766 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:39:35.767 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:39:35.773 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 14:39:35.773 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 14:39:35.774 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 14:39:35.774 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 14:39:35.781 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 14:39:35.781 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 14:39:35.783 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@130f506b
[DEBUG] 14:39:35.941 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 14:40:35.865 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:41:15.371 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 14:41:21.277 io.netty.handler.logging.LoggingHandler - [id: 0xea3aa6a1, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x10662eaa, L:/127.0.0.1:8885 - R:/127.0.0.1:51281]
[INFO ] 14:41:21.278 io.netty.handler.logging.LoggingHandler - [id: 0xea3aa6a1, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:41:21.279 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:41:21.292 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 14:42:21.183 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:43:21.091 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:44:05.617 cn.wizzer.iot.mqtt.server.broker.protocol.Subscribe - SUBSCRIBE - clientId: MQTT_FX_Client, topFilter: home/garden/fountain, QoS: 0
[DEBUG] 14:44:26.431 cn.wizzer.iot.mqtt.server.broker.protocol.Publish - PUBLISH - clientId: MQTT_FX_Client, topic: home/garden/fountain, Qos: 0
[DEBUG] 14:45:21.341 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:46:21.243 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[INFO ] 14:47:05.325 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:47:05.325 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 14:47:05.327 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 14:47:05.327 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 14:47:09.038 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 14:47:09.045 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 14:47:09.086 org.nutz.resource.Scans - Locations count=79 time use 32ms
[DEBUG] 14:47:09.090 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:47:09.091 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 14:47:09.092 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 14:47:09.199 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:47:09.200 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 14:47:09.200 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 14:47:09.233 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 14:47:09.235 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 14:47:09.236 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 14:47:09.251 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 14:47:09.282 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 14:47:09.291 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:47:09.302 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 14:47:09.303 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 14:47:09.306 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 14:47:09.306 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 14:47:09.310 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 14:47:09.314 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 14:47:09.315 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 14:47:09.315 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 14:47:09.319 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 14:47:09.324 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 14:47:09.325 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 14:47:09.326 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 14:47:09.327 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 14:47:09.328 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 14:47:09.328 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 14:47:09.329 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 14:47:09.330 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 14:47:09.331 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 14:47:09.331 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 14:47:09.332 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 14:47:09.332 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:47:09.333 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 14:47:09.333 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 14:47:09.334 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 14:47:09.335 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:47:09.345 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 14:47:09.349 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 14:47:09.349 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 14:47:09.350 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 14:47:09.353 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 14:47:09.379 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 14:47:09.379 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 14:47:09.381 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:47:09.383 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:47:09.384 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:47:09.384 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 14:47:09.384 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:47:09.384 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:47:09.385 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:47:09.394 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 14:47:09.407 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 14:47:09.414 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 14:47:09.415 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 14:47:09.415 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 14:47:09.416 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 14:47:09.416 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 14:47:09.421 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:47:09.421 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 14:47:09.423 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 14:47:09.423 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:47:09.423 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:47:09.424 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 14:47:09.425 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 14:47:09.425 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:47:09.440 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 14:47:09.476 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 14:47:09.476 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 14:47:09.476 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:09.476 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:47:09.477 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 14:47:09.477 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 14:47:09.480 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:47:09.486 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:47:09.486 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 14:47:09.486 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:47:09.486 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:47:09.486 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 14:47:09.487 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 14:47:09.488 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:47:09.488 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:47:09.488 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:47:09.488 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 14:47:09.488 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:47:09.489 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:47:09.489 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 14:47:09.489 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 14:47:09.489 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:47:09.490 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:47:09.490 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 14:47:09.490 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:47:09.490 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:47:09.490 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 14:47:09.491 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 14:47:09.492 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:47:09.492 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 14:47:09.521 org.eclipse.jetty.util.log - Logging initialized @1066ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 14:47:09.633 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:47:09.633 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 14:47:09.640 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:47:09.642 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:47:09.642 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 14:47:09.642 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 14:47:09.643 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:47:09.747 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:47:09.750 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:47:09.750 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 14:47:09.750 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:09.751 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:47:09.751 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 14:47:09.751 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 14:47:09.752 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:47:09.752 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 14:47:09.752 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:09.752 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:47:09.752 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 14:47:09.753 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 14:47:09.753 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:47:09.772 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 14:47:09.773 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 14:47:09.782 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 14:47:09.796 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 14:47:09.796 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 14:47:09.817 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 14:47:09.818 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 14:47:09.820 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 14:47:09.821 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 14:47:09.822 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 14:47:09.822 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 14:47:09.823 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 14:47:09.823 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 14:47:09.824 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 14:47:09.826 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 14:47:09.826 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 14:47:09.827 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 14:47:09.828 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 14:47:09.828 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 14:47:09.829 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 14:47:09.830 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 14:47:09.831 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 14:47:09.832 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 14:47:09.832 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 14:47:09.838 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 14:47:09.851 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 14:47:09.851 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 14:47:09.858 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 14:47:14.917 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 32973 (auto-detected)
[DEBUG] 14:47:14.919 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 14:47:14.920 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 14:47:14.922 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 14:47:14.923 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 14:47:14.926 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 14:47:14.937 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 14:47:14.937 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 14:47:14.964 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 14:47:14.964 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 14:47:14.964 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 14:47:14.964 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 14:47:14.964 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 14:47:14.964 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 14:47:14.964 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 14:47:14.964 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 14:47:14.965 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 14:47:14.965 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 14:47:14.965 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 14:47:14.965 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 14:47:14.975 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 14:47:14.975 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 14:47:14.975 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 14:47:14.990 io.netty.handler.logging.LoggingHandler - [id: 0x25f982e9] REGISTERED
[INFO ] 14:47:14.992 io.netty.handler.logging.LoggingHandler - [id: 0x25f982e9] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 14:47:14.996 io.netty.handler.logging.LoggingHandler - [id: 0x25f982e9, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 14:47:14.996 io.netty.handler.logging.LoggingHandler - [id: 0x2e0c952c] REGISTERED
[INFO ] 14:47:14.996 io.netty.handler.logging.LoggingHandler - [id: 0x2e0c952c] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 14:47:14.996 io.netty.handler.logging.LoggingHandler - [id: 0x2e0c952c, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 14:47:14.996 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 14:47:14.998 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 14:47:15.088 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 14:47:15.093 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 14:47:15.107 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 14:47:15.107 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 14:47:15.110 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 14:47:15.124 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:47:15.124 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:47:15.125 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:47:15.125 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 14:47:15.125 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:47:15.125 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:47:15.126 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 14:47:15.128 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 14:47:15.128 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 14:47:15.131 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:47:15.132 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 14:47:15.132 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:47:15.133 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 14:47:15.133 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:47:15.133 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:47:15.133 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 14:47:15.134 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 14:47:15.135 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 14:47:15.136 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 14:47:15.139 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:47:15.139 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 14:47:15.143 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 14:47:15.156 org.nutz.resource.Scans - Locations count=80 time use 11ms
[DEBUG] 14:47:15.157 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 14:47:15.159 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 14:47:15.159 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 14:47:15.159 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 14:47:15.159 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 14:47:15.160 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 14:47:15.160 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 14:47:15.160 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 14:47:15.160 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 14:47:15.160 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 14:47:15.160 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 14:47:15.160 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 14:47:15.160 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 14:47:15.161 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 14:47:15.161 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:47:15.161 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 14:47:15.162 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 14:47:15.165 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 14:47:15.166 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 14:47:15.169 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 14:47:15.176 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 14:47:15.187 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:47:15.198 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:47:15.205 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 14:47:15.205 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 14:47:15.208 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:47:15.212 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:47:15.212 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 14:47:15.216 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 14:47:15.217 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 14:47:15.223 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:47:15.225 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:47:15.226 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 14:47:15.226 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 14:47:15.226 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 14:47:15.228 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:47:15.228 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 14:47:15.228 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 14:47:15.229 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 68ms
[INFO ] 14:47:15.252 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@28a6301f{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 14:47:15.265 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:47:15.266 org.eclipse.jetty.server.Server - Started @6811ms
[DEBUG] 14:47:15.266 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 14:47:15.267 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:47:15.267 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 14:47:15.267 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:15.267 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:47:15.267 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 14:47:15.267 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 14:47:15.268 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:47:15.268 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:47:15.268 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 14:47:15.268 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:47:15.268 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:47:15.268 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 14:47:15.293 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 14:47:15.300 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:47:15.300 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 14:47:15.301 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:47:15.301 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 14:47:15.301 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 14:47:15.301 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 14:47:15.301 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.301 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 14:47:15.302 org.nutz.boot.NbApp - mqttwk started : 6325ms
[INFO ] 14:47:15.921 io.netty.handler.logging.LoggingHandler - [id: 0x25f982e9, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xa4995ec3, L:/127.0.0.1:8885 - R:/127.0.0.1:52472]
[INFO ] 14:47:15.923 io.netty.handler.logging.LoggingHandler - [id: 0x25f982e9, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:47:15.949 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:47:15.950 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 14:47:15.950 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:15.950 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:47:15.950 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 14:47:15.950 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 14:47:15.951 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:47:15.951 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 14:47:15.952 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:15.952 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:47:15.952 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 14:47:15.952 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 14:47:15.953 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:47:15.953 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 14:47:15.954 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:15.954 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:47:15.954 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 14:47:15.962 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:47:15.962 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:47:15.962 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 14:47:15.963 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:15.963 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:47:15.963 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 14:47:15.963 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 14:47:15.963 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:47:15.963 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 14:47:15.964 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:15.964 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:47:15.964 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 14:47:15.966 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:47:15.966 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:47:15.966 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:47:15.966 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 14:47:15.966 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:15.967 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:47:15.967 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 14:47:15.969 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:47:15.969 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:47:15.969 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:47:15.969 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 14:47:15.969 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:15.969 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:47:15.969 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 14:47:15.970 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 14:47:15.971 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:47:15.974 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 14:47:15.974 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 14:47:15.974 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:47:15.974 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 14:47:15.974 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 14:47:15.981 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 14:47:15.981 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 14:47:15.982 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:47:15.982 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 14:47:15.982 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 14:47:15.982 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 14:47:15.983 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.984 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.984 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.984 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.984 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.984 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.985 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.986 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 14:47:15.987 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 14:47:15.988 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.988 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.988 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.988 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:15.988 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:47:16.092 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 14:47:16.092 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1321861394
[DEBUG] 14:47:16.092 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1321861394
[DEBUG] 14:47:16.092 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1321861394
[DEBUG] 14:47:16.092 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1321861394
[DEBUG] 14:47:16.092 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1321861394
[DEBUG] 14:47:16.092 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 14:47:16.093 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.093 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.093 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.093 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.093 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.093 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.093 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.093 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.093 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.094 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.094 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.094 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.094 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.094 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.094 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.094 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.094 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.095 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 14:47:16.095 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 14:47:16.095 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.095 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 14:47:16.095 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 14:47:16.096 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 14:47:16.096 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 14:47:16.096 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 14:47:16.097 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.097 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 14:47:16.097 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 14:47:16.099 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:47:16.099 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:47:16.099 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:47:16.099 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 14:47:16.099 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 14:47:16.099 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.099 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 14:47:16.099 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 14:47:16.100 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 14:47:16.100 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:47:16.100 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 14:47:16.100 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 14:47:16.100 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.100 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 14:47:16.100 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 14:47:16.102 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:47:16.102 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:47:16.102 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 14:47:16.102 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 14:47:16.102 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.102 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 14:47:16.103 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 14:47:16.103 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 14:47:16.103 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:47:16.103 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 14:47:16.103 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 14:47:16.103 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.104 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 14:47:16.104 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 14:47:16.106 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:47:16.106 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:47:16.106 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 14:47:16.106 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 14:47:16.106 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.106 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 14:47:16.107 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 14:47:16.107 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 14:47:16.107 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:47:16.108 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 14:47:16.108 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 14:47:16.108 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.108 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 14:47:16.108 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 14:47:16.109 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 14:47:16.109 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 14:47:16.110 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.110 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 14:47:16.110 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 14:47:16.121 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 14:47:16.122 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 14:47:16.122 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 14:47:16.122 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:47:16.122 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 14:47:16.122 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 14:47:16.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.123 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 14:47:16.123 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 14:47:16.124 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 14:47:16.125 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 14:47:16.125 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:47:16.125 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 14:47:16.125 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 14:47:16.126 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 14:47:16.126 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:47:16.127 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:47:16.127 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 14:47:16.127 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 14:47:16.127 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.127 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 14:47:16.127 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 14:47:16.128 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 14:47:16.128 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:47:16.129 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 14:47:16.129 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 14:47:16.129 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 14:47:16.129 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:47:16.129 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 14:47:16.129 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.129 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:47:16.130 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 14:47:16.130 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 14:47:16.130 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:47:16.131 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 14:47:16.131 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:47:16.131 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 14:47:16.131 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 14:47:16.131 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 14:47:16.135 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:47:16.137 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:47:16.137 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:47:16.137 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:47:16.138 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:47:16.138 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:47:16.143 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 14:47:16.143 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 14:47:16.143 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 14:47:16.144 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 14:47:16.151 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 14:47:16.151 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 14:47:16.152 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@7d0a733
[DEBUG] 14:47:16.305 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 14:47:19.122 cn.wizzer.iot.mqtt.server.broker.protocol.Subscribe - SUBSCRIBE - clientId: MQTT_FX_Client, topFilter: home/garden/fountain, QoS: 0
[DEBUG] 14:47:21.677 cn.wizzer.iot.mqtt.server.broker.protocol.Publish - PUBLISH - clientId: MQTT_FX_Client, topic: home/garden/fountain, Qos: 0, payload: testpayload
[DEBUG] 14:48:21.557 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:49:21.460 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:50:21.395 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:51:21.294 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:52:21.196 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:53:21.099 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:54:21.001 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:55:20.902 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:56:20.803 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:57:20.731 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:58:20.636 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 14:59:20.538 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:00:20.439 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:01:20.341 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:02:20.244 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:03:20.146 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:04:20.047 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:05:19.950 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:06:19.851 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:07:19.778 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:08:19.679 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:09:19.583 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:10:19.492 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:11:19.394 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:12:19.293 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:13:19.193 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:14:19.097 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:15:18.998 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:16:18.901 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:17:18.802 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:18:18.705 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:19:18.607 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:20:18.511 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:21:18.435 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:22:18.337 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:23:18.239 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:24:18.142 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:25:18.045 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:26:17.947 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:27:17.845 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:28:17.733 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:29:17.635 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:30:17.537 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:31:17.439 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:32:17.341 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:33:17.244 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:34:17.146 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:35:17.048 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:36:16.951 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:37:16.853 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:38:16.755 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:39:16.657 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:40:16.559 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[INFO ] 15:40:40.685 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:40:40.685 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 15:40:40.687 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 15:40:40.688 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 15:40:44.011 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 15:40:44.017 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 15:40:44.052 org.nutz.resource.Scans - Locations count=79 time use 29ms
[DEBUG] 15:40:44.056 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:40:44.056 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 15:40:44.057 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 15:40:44.156 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:40:44.157 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 15:40:44.157 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 15:40:44.193 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 15:40:44.196 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 15:40:44.196 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 15:40:44.208 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 15:40:44.238 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 15:40:44.249 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:40:44.261 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 15:40:44.263 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 15:40:44.266 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 15:40:44.266 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 15:40:44.269 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 15:40:44.273 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 15:40:44.274 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 15:40:44.274 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 15:40:44.276 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 15:40:44.282 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 15:40:44.284 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 15:40:44.284 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 15:40:44.285 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 15:40:44.286 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 15:40:44.286 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 15:40:44.287 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 15:40:44.288 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 15:40:44.288 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 15:40:44.289 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 15:40:44.289 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 15:40:44.289 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:40:44.290 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 15:40:44.290 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 15:40:44.290 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 15:40:44.291 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:40:44.302 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 15:40:44.304 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 15:40:44.304 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 15:40:44.306 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 15:40:44.309 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 15:40:44.331 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 15:40:44.331 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 15:40:44.333 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:40:44.334 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:40:44.335 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:40:44.335 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 15:40:44.335 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:40:44.336 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:40:44.336 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:40:44.345 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 15:40:44.355 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 15:40:44.363 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 15:40:44.364 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 15:40:44.364 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 15:40:44.364 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 15:40:44.365 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 15:40:44.369 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:40:44.370 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 15:40:44.370 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 15:40:44.371 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:40:44.371 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:40:44.371 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 15:40:44.372 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 15:40:44.372 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:40:44.387 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 15:40:44.415 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 15:40:44.415 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 15:40:44.416 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:44.416 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:40:44.416 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 15:40:44.416 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 15:40:44.418 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:40:44.422 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:40:44.422 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 15:40:44.422 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:40:44.422 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:40:44.422 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 15:40:44.422 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 15:40:44.423 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:40:44.423 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:40:44.423 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:40:44.423 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 15:40:44.424 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:40:44.424 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:40:44.424 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 15:40:44.424 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 15:40:44.425 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:40:44.425 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:40:44.425 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 15:40:44.425 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:40:44.426 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:40:44.426 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 15:40:44.426 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 15:40:44.427 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:40:44.427 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 15:40:44.451 org.eclipse.jetty.util.log - Logging initialized @1014ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 15:40:44.564 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:40:44.564 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 15:40:44.564 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:40:44.564 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:40:44.564 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 15:40:44.565 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 15:40:44.565 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:40:44.654 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:40:44.657 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:40:44.657 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 15:40:44.658 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:44.658 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:40:44.658 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 15:40:44.658 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 15:40:44.659 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:40:44.659 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 15:40:44.659 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:44.660 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:40:44.660 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 15:40:44.660 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 15:40:44.660 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:40:44.680 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 15:40:44.680 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 15:40:44.692 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 15:40:44.705 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 15:40:44.705 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 15:40:44.721 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 15:40:44.722 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 15:40:44.723 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 15:40:44.724 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 15:40:44.724 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 15:40:44.724 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 15:40:44.725 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 15:40:44.725 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 15:40:44.726 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 15:40:44.727 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 15:40:44.728 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 15:40:44.729 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 15:40:44.729 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 15:40:44.729 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 15:40:44.730 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 15:40:44.731 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 15:40:44.731 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 15:40:44.732 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 15:40:44.732 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 15:40:44.738 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 15:40:44.747 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 15:40:44.748 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 15:40:44.754 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 15:40:49.808 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 37284 (auto-detected)
[DEBUG] 15:40:49.810 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 15:40:49.810 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 15:40:49.814 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 15:40:49.815 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 15:40:49.818 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 15:40:49.831 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 15:40:49.831 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 15:40:49.859 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 15:40:49.860 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 15:40:49.860 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 15:40:49.860 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 15:40:49.860 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 15:40:49.860 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 15:40:49.860 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 15:40:49.860 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 15:40:49.860 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 15:40:49.861 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 15:40:49.861 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 15:40:49.861 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 15:40:49.872 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 15:40:49.872 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 15:40:49.872 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 15:40:49.885 io.netty.handler.logging.LoggingHandler - [id: 0x4c2904e8] REGISTERED
[INFO ] 15:40:49.887 io.netty.handler.logging.LoggingHandler - [id: 0x4c2904e8] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 15:40:49.891 io.netty.handler.logging.LoggingHandler - [id: 0x18b6bd23] REGISTERED
[INFO ] 15:40:49.891 io.netty.handler.logging.LoggingHandler - [id: 0x4c2904e8, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 15:40:49.891 io.netty.handler.logging.LoggingHandler - [id: 0x18b6bd23] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 15:40:49.891 io.netty.handler.logging.LoggingHandler - [id: 0x18b6bd23, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 15:40:49.891 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 15:40:49.894 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 15:40:49.986 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 15:40:49.990 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 15:40:50.005 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 15:40:50.005 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 15:40:50.008 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 15:40:50.022 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:40:50.023 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:40:50.024 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:40:50.024 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 15:40:50.024 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:40:50.024 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:40:50.024 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 15:40:50.026 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 15:40:50.026 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 15:40:50.028 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:40:50.029 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 15:40:50.030 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:40:50.030 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 15:40:50.031 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:40:50.031 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:40:50.031 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 15:40:50.032 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 15:40:50.033 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 15:40:50.034 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 15:40:50.036 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:40:50.036 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 15:40:50.042 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 15:40:50.045 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 15:40:50.046 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 15:40:50.049 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 15:40:50.049 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 15:40:50.049 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 15:40:50.049 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 15:40:50.049 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 15:40:50.049 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 15:40:50.050 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 15:40:50.050 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 15:40:50.050 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 15:40:50.050 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 15:40:50.050 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 15:40:50.050 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 15:40:50.050 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 15:40:50.050 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:40:50.051 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 15:40:50.051 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 15:40:50.055 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 15:40:50.057 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 15:40:50.061 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 15:40:50.067 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 15:40:50.075 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:40:50.095 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:40:50.101 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 15:40:50.101 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 15:40:50.104 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:40:50.107 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:40:50.108 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 15:40:50.111 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 15:40:50.113 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 15:40:50.118 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:40:50.119 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:40:50.120 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 15:40:50.120 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 15:40:50.120 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 15:40:50.122 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:40:50.122 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 15:40:50.122 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 15:40:50.123 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 73ms
[INFO ] 15:40:50.147 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@28a6301f{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 15:40:50.164 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:40:50.164 org.eclipse.jetty.server.Server - Started @6728ms
[DEBUG] 15:40:50.164 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 15:40:50.165 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:40:50.165 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 15:40:50.165 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:50.165 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:40:50.166 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 15:40:50.166 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 15:40:50.166 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:40:50.166 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:40:50.166 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 15:40:50.167 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:40:50.167 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:40:50.167 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 15:40:50.205 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 15:40:50.212 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:40:50.213 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 15:40:50.213 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:40:50.213 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 15:40:50.213 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 15:40:50.213 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 15:40:50.214 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:50.214 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 15:40:50.215 org.nutz.boot.NbApp - mqttwk started : 6260ms
[INFO ] 15:40:51.936 io.netty.handler.logging.LoggingHandler - [id: 0x4c2904e8, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x922dcd0a, L:/127.0.0.1:8885 - R:/127.0.0.1:64309]
[INFO ] 15:40:51.937 io.netty.handler.logging.LoggingHandler - [id: 0x4c2904e8, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:40:51.962 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:40:51.963 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 15:40:51.963 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:51.963 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:40:51.964 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 15:40:51.964 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 15:40:51.965 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 15:40:51.965 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 15:40:51.965 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:51.965 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 15:40:51.965 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 15:40:51.966 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 15:40:51.967 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 15:40:51.967 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 15:40:51.967 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:51.967 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 15:40:51.967 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 15:40:51.979 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:40:51.979 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 15:40:51.979 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 15:40:51.979 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:51.980 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 15:40:51.980 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 15:40:51.980 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 15:40:51.980 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 15:40:51.980 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 15:40:51.980 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:51.981 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 15:40:51.981 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 15:40:51.983 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:40:51.983 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:40:51.983 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 15:40:51.983 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 15:40:51.983 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:51.983 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 15:40:51.983 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 15:40:51.985 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:40:51.985 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:40:51.986 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:40:51.986 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 15:40:51.986 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:51.986 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:40:51.986 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 15:40:51.986 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 15:40:51.987 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:40:51.989 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 15:40:51.989 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 15:40:51.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:40:51.990 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 15:40:51.990 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 15:40:51.998 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 15:40:51.999 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 15:40:51.999 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:40:51.999 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 15:40:51.999 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 15:40:51.999 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 15:40:52.000 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.001 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.001 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.001 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.001 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.001 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.002 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.003 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 15:40:52.005 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 15:40:52.006 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.006 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.006 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.006 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.006 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:40:52.120 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 15:40:52.120 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1765551897
[DEBUG] 15:40:52.120 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1765551897
[DEBUG] 15:40:52.120 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1765551897
[DEBUG] 15:40:52.120 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1765551897
[DEBUG] 15:40:52.121 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1765551897
[DEBUG] 15:40:52.121 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 15:40:52.121 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.121 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.121 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.121 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.121 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.121 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.121 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.122 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.123 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.123 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 15:40:52.123 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 15:40:52.123 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.123 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 15:40:52.123 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 15:40:52.123 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 15:40:52.124 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 15:40:52.124 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 15:40:52.124 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.124 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 15:40:52.124 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 15:40:52.125 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:40:52.126 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:40:52.126 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:40:52.126 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 15:40:52.126 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 15:40:52.126 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.126 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 15:40:52.126 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 15:40:52.126 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 15:40:52.127 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:40:52.127 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 15:40:52.127 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 15:40:52.127 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.127 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 15:40:52.127 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 15:40:52.129 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:40:52.129 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:40:52.129 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 15:40:52.129 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 15:40:52.129 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.129 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 15:40:52.129 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 15:40:52.129 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 15:40:52.130 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:40:52.130 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 15:40:52.130 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 15:40:52.130 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.130 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 15:40:52.130 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 15:40:52.132 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:40:52.132 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:40:52.132 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 15:40:52.132 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 15:40:52.132 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.132 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 15:40:52.132 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 15:40:52.132 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 15:40:52.133 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:40:52.133 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 15:40:52.133 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 15:40:52.133 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.134 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 15:40:52.134 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 15:40:52.135 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 15:40:52.135 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 15:40:52.135 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.135 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 15:40:52.135 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 15:40:52.146 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 15:40:52.146 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 15:40:52.147 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 15:40:52.147 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:40:52.147 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 15:40:52.147 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 15:40:52.147 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.147 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 15:40:52.147 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 15:40:52.149 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 15:40:52.149 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 15:40:52.149 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:40:52.149 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 15:40:52.149 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 15:40:52.150 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 15:40:52.151 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:40:52.151 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:40:52.151 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 15:40:52.151 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 15:40:52.151 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.151 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 15:40:52.151 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 15:40:52.151 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 15:40:52.152 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:40:52.152 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 15:40:52.152 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 15:40:52.152 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 15:40:52.153 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:40:52.153 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 15:40:52.153 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.153 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:40:52.153 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 15:40:52.153 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 15:40:52.153 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:40:52.153 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 15:40:52.153 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:40:52.154 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 15:40:52.154 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 15:40:52.154 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 15:40:52.157 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:40:52.158 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:40:52.158 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:40:52.158 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:40:52.158 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:40:52.158 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:40:52.165 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 15:40:52.165 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 15:40:52.165 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 15:40:52.166 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 15:40:52.172 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 15:40:52.172 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 15:40:52.173 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@51375c23
[DEBUG] 15:40:52.324 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:40:55.390 cn.wizzer.iot.mqtt.server.broker.protocol.Subscribe - SUBSCRIBE - clientId: MQTT_FX_Client, topFilter: home/garden/fountain, QoS: 0
[DEBUG] 15:40:58.080 cn.wizzer.iot.mqtt.server.broker.protocol.Publish - subscribeStores [cn.wizzer.iot.mqtt.server.common.subscribe.SubscribeStore@664a1ea3]
[DEBUG] 15:40:58.082 cn.wizzer.iot.mqtt.server.broker.protocol.Publish - PUBLISH - clientId: MQTT_FX_Client, topic: home/garden/fountain, Qos: 0, payload: testpayload
[INFO ] 15:41:57.574 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:41:57.575 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 15:41:57.576 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 15:41:57.576 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 15:42:00.871 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 15:42:00.878 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 15:42:00.915 org.nutz.resource.Scans - Locations count=79 time use 30ms
[DEBUG] 15:42:00.920 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:42:00.920 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 15:42:00.921 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 15:42:01.037 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:42:01.038 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 15:42:01.039 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 15:42:01.089 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 15:42:01.091 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 15:42:01.092 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 15:42:01.113 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 15:42:01.145 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 15:42:01.155 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:42:01.167 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 15:42:01.169 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 15:42:01.172 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 15:42:01.173 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 15:42:01.177 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 15:42:01.181 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 15:42:01.182 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 15:42:01.183 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 15:42:01.185 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 15:42:01.190 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 15:42:01.193 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 15:42:01.193 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 15:42:01.194 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 15:42:01.195 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 15:42:01.195 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 15:42:01.196 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 15:42:01.197 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 15:42:01.197 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 15:42:01.198 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 15:42:01.198 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 15:42:01.199 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:42:01.199 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 15:42:01.199 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 15:42:01.200 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 15:42:01.201 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:42:01.210 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 15:42:01.213 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 15:42:01.214 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 15:42:01.215 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 15:42:01.218 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 15:42:01.244 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 15:42:01.244 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 15:42:01.246 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:42:01.248 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:42:01.249 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:42:01.249 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 15:42:01.249 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:42:01.250 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:42:01.251 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:42:01.263 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 15:42:01.279 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 15:42:01.287 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 15:42:01.287 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 15:42:01.288 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 15:42:01.288 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 15:42:01.289 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 15:42:01.294 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:42:01.294 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 15:42:01.295 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 15:42:01.296 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:42:01.296 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:42:01.297 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 15:42:01.299 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 15:42:01.299 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:42:01.320 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 15:42:01.362 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 15:42:01.363 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 15:42:01.363 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:01.363 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:42:01.363 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 15:42:01.364 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 15:42:01.366 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:42:01.371 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:42:01.371 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 15:42:01.372 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:42:01.372 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:42:01.372 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 15:42:01.372 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 15:42:01.373 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:42:01.374 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:42:01.374 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:42:01.374 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 15:42:01.374 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:42:01.375 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:42:01.375 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 15:42:01.375 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 15:42:01.376 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:42:01.376 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:42:01.376 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 15:42:01.376 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:42:01.377 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:42:01.377 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 15:42:01.377 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 15:42:01.378 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:42:01.378 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 15:42:01.406 org.eclipse.jetty.util.log - Logging initialized @1122ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 15:42:01.542 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:42:01.542 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 15:42:01.542 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:42:01.543 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:42:01.543 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 15:42:01.543 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 15:42:01.544 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:42:01.649 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:42:01.652 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:42:01.653 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 15:42:01.653 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:01.653 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:42:01.653 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 15:42:01.654 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 15:42:01.654 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:42:01.655 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 15:42:01.655 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:01.655 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:42:01.655 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 15:42:01.656 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 15:42:01.656 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:42:01.680 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 15:42:01.680 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 15:42:01.694 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 15:42:01.715 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 15:42:01.715 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 15:42:01.735 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 15:42:01.736 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 15:42:01.737 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 15:42:01.738 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 15:42:01.739 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 15:42:01.739 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 15:42:01.740 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 15:42:01.741 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 15:42:01.743 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 15:42:01.744 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 15:42:01.744 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 15:42:01.746 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 15:42:01.746 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 15:42:01.746 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 15:42:01.747 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 15:42:01.748 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 15:42:01.748 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 15:42:01.749 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 15:42:01.749 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 15:42:01.758 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 15:42:01.770 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 15:42:01.770 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 15:42:01.778 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 15:42:01.843 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 37337 (auto-detected)
[DEBUG] 15:42:01.847 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 15:42:01.847 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 15:42:01.853 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 15:42:01.854 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 15:42:01.859 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 15:42:01.874 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 15:42:01.874 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 15:42:01.906 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 15:42:01.906 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 15:42:01.907 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 15:42:01.907 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 15:42:01.907 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 15:42:01.907 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 15:42:01.907 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 15:42:01.907 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 15:42:01.907 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 15:42:01.907 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 15:42:01.908 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 15:42:01.908 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 15:42:01.920 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 15:42:01.920 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 15:42:01.920 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 15:42:01.934 io.netty.handler.logging.LoggingHandler - [id: 0x941edcfd] REGISTERED
[INFO ] 15:42:01.936 io.netty.handler.logging.LoggingHandler - [id: 0x941edcfd] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 15:42:01.940 io.netty.handler.logging.LoggingHandler - [id: 0x1c1b312a] REGISTERED
[INFO ] 15:42:01.940 io.netty.handler.logging.LoggingHandler - [id: 0x941edcfd, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 15:42:01.940 io.netty.handler.logging.LoggingHandler - [id: 0x1c1b312a] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 15:42:01.941 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 15:42:01.941 io.netty.handler.logging.LoggingHandler - [id: 0x1c1b312a, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 15:42:01.943 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 15:42:02.055 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 15:42:02.061 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 15:42:02.075 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 15:42:02.075 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 15:42:02.078 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 15:42:02.093 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:42:02.093 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:42:02.094 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:42:02.094 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 15:42:02.094 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:42:02.094 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:42:02.094 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 15:42:02.096 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 15:42:02.096 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 15:42:02.098 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:42:02.099 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 15:42:02.100 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:42:02.100 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 15:42:02.100 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:42:02.100 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:42:02.100 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 15:42:02.101 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 15:42:02.102 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 15:42:02.103 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 15:42:02.105 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:42:02.105 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 15:42:02.110 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 15:42:02.113 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 15:42:02.115 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 15:42:02.117 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 15:42:02.117 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 15:42:02.117 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 15:42:02.117 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 15:42:02.117 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 15:42:02.117 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 15:42:02.118 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 15:42:02.118 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 15:42:02.118 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 15:42:02.118 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 15:42:02.118 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 15:42:02.118 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 15:42:02.118 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 15:42:02.118 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:42:02.119 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 15:42:02.119 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 15:42:02.123 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 15:42:02.124 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 15:42:02.127 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 15:42:02.132 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 15:42:02.140 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:42:02.151 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:42:02.157 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 15:42:02.157 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 15:42:02.161 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:42:02.164 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:42:02.165 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 15:42:02.168 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 15:42:02.171 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 15:42:02.177 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:42:02.177 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:42:02.178 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 15:42:02.178 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 15:42:02.178 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 15:42:02.181 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:42:02.181 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 15:42:02.182 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 15:42:02.183 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 64ms
[INFO ] 15:42:02.204 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@28a6301f{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 15:42:02.216 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:42:02.217 org.eclipse.jetty.server.Server - Started @1934ms
[DEBUG] 15:42:02.217 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 15:42:02.217 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:42:02.218 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 15:42:02.218 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:02.218 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:42:02.218 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 15:42:02.218 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 15:42:02.218 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:42:02.218 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:42:02.219 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 15:42:02.219 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:42:02.219 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:42:02.219 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 15:42:02.242 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 15:42:02.249 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:42:02.249 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 15:42:02.249 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:42:02.249 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 15:42:02.249 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 15:42:02.249 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 15:42:02.250 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:02.250 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 15:42:02.250 org.nutz.boot.NbApp - mqttwk started : 1442ms
[INFO ] 15:42:09.849 io.netty.handler.logging.LoggingHandler - [id: 0x941edcfd, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x0db809fc, L:/127.0.0.1:8885 - R:/127.0.0.1:64583]
[INFO ] 15:42:09.851 io.netty.handler.logging.LoggingHandler - [id: 0x941edcfd, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:42:09.871 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:42:09.872 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 15:42:09.872 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:09.872 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:42:09.872 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 15:42:09.873 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 15:42:09.874 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 15:42:09.874 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 15:42:09.874 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:09.874 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 15:42:09.874 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 15:42:09.874 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 15:42:09.876 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 15:42:09.876 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 15:42:09.876 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:09.876 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 15:42:09.876 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 15:42:09.886 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:42:09.887 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 15:42:09.887 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 15:42:09.887 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:09.887 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 15:42:09.887 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 15:42:09.887 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 15:42:09.888 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 15:42:09.888 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 15:42:09.888 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:09.888 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 15:42:09.888 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 15:42:09.890 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:42:09.890 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:42:09.891 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 15:42:09.891 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 15:42:09.891 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:09.891 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 15:42:09.891 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 15:42:09.894 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:42:09.894 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:42:09.894 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:42:09.894 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 15:42:09.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:09.895 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:42:09.895 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 15:42:09.895 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 15:42:09.896 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:42:09.898 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 15:42:09.899 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 15:42:09.899 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:42:09.899 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 15:42:09.899 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 15:42:09.906 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 15:42:09.906 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 15:42:09.906 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:42:09.906 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 15:42:09.907 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 15:42:09.907 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 15:42:09.907 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.908 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.909 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.909 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.909 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.909 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.909 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.911 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 15:42:09.912 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 15:42:09.912 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.912 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.912 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.912 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:09.913 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:42:10.007 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 15:42:10.007 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@956550888
[DEBUG] 15:42:10.007 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@956550888
[DEBUG] 15:42:10.008 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@956550888
[DEBUG] 15:42:10.008 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@956550888
[DEBUG] 15:42:10.008 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@956550888
[DEBUG] 15:42:10.008 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 15:42:10.008 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.008 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.009 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.009 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.009 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.009 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.009 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.009 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.009 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.009 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.009 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.009 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.010 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.010 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.010 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.010 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.010 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.010 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 15:42:10.010 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 15:42:10.010 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.010 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 15:42:10.010 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 15:42:10.011 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 15:42:10.011 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 15:42:10.011 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 15:42:10.011 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.011 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 15:42:10.011 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 15:42:10.013 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:42:10.013 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:42:10.013 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:42:10.013 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 15:42:10.013 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 15:42:10.013 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.013 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 15:42:10.013 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 15:42:10.014 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 15:42:10.014 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:42:10.014 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 15:42:10.014 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 15:42:10.014 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.014 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 15:42:10.015 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 15:42:10.016 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:42:10.016 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:42:10.016 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 15:42:10.016 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 15:42:10.016 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.016 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 15:42:10.017 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 15:42:10.017 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 15:42:10.017 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:42:10.017 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 15:42:10.017 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 15:42:10.017 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.017 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 15:42:10.017 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 15:42:10.019 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:42:10.019 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:42:10.019 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 15:42:10.019 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 15:42:10.019 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.019 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 15:42:10.019 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 15:42:10.019 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 15:42:10.020 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:42:10.020 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 15:42:10.020 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 15:42:10.021 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.021 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 15:42:10.021 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 15:42:10.022 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 15:42:10.022 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 15:42:10.022 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.022 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 15:42:10.023 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 15:42:10.033 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 15:42:10.034 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 15:42:10.034 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 15:42:10.034 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:42:10.034 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 15:42:10.034 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 15:42:10.034 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.035 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 15:42:10.035 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 15:42:10.036 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 15:42:10.036 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 15:42:10.036 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:42:10.036 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 15:42:10.036 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 15:42:10.037 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 15:42:10.038 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:42:10.038 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:42:10.038 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 15:42:10.038 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 15:42:10.038 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.038 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 15:42:10.038 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 15:42:10.039 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 15:42:10.039 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:42:10.039 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 15:42:10.040 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 15:42:10.040 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 15:42:10.040 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:42:10.040 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 15:42:10.040 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.040 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:42:10.040 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 15:42:10.040 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 15:42:10.041 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:42:10.041 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 15:42:10.041 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:42:10.041 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 15:42:10.041 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 15:42:10.041 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 15:42:10.044 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:42:10.045 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:42:10.045 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:42:10.045 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:42:10.045 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:42:10.046 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:42:10.051 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 15:42:10.051 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 15:42:10.051 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 15:42:10.051 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 15:42:10.057 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 15:42:10.057 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 15:42:10.059 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@602cfa98
[DEBUG] 15:42:10.203 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:42:12.196 cn.wizzer.iot.mqtt.server.broker.protocol.Subscribe - SUBSCRIBE - clientId: MQTT_FX_Client, topFilter: home/garden/fountain, QoS: 0
[DEBUG] 15:42:18.861 cn.wizzer.iot.mqtt.server.broker.protocol.Publish - subscribeStores [cn.wizzer.iot.mqtt.server.common.subscribe.SubscribeStore@50fb2147]
[DEBUG] 15:42:18.864 cn.wizzer.iot.mqtt.server.broker.protocol.Publish - PUBLISH - clientId: MQTT_FX_Client, topic: home/garden/fountain, Qos: 0, payload: testpayload
[DEBUG] 15:43:13.743 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:44:13.645 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:45:13.554 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:46:13.456 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:47:13.357 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:48:13.260 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:49:13.163 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:50:13.065 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:51:12.967 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:52:12.869 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:53:12.772 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:54:12.674 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:55:12.577 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:56:12.479 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:57:12.386 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:58:12.294 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:59:12.232 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[INFO ] 15:59:42.908 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:59:42.908 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 15:59:42.910 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 15:59:42.911 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 15:59:46.238 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 15:59:46.244 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 15:59:46.280 org.nutz.resource.Scans - Locations count=79 time use 30ms
[DEBUG] 15:59:46.285 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:59:46.286 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 15:59:46.287 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 15:59:46.381 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:59:46.381 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 15:59:46.382 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 15:59:46.426 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 15:59:46.428 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 15:59:46.430 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 15:59:46.447 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 15:59:46.482 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 15:59:46.493 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:59:46.507 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 15:59:46.509 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 15:59:46.511 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 15:59:46.512 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 15:59:46.515 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 15:59:46.519 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 15:59:46.520 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 15:59:46.520 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 15:59:46.523 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 15:59:46.529 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 15:59:46.532 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 15:59:46.533 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 15:59:46.533 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 15:59:46.535 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 15:59:46.535 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 15:59:46.536 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 15:59:46.536 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 15:59:46.537 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 15:59:46.537 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 15:59:46.538 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 15:59:46.538 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:59:46.539 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 15:59:46.539 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 15:59:46.539 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 15:59:46.540 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:59:46.550 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 15:59:46.553 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 15:59:46.554 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 15:59:46.555 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 15:59:46.558 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 15:59:46.582 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 15:59:46.583 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 15:59:46.584 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:59:46.586 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:59:46.587 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:59:46.587 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 15:59:46.587 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:59:46.588 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:59:46.588 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:59:46.599 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 15:59:46.612 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 15:59:46.621 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 15:59:46.621 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 15:59:46.622 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 15:59:46.622 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 15:59:46.622 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 15:59:46.627 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:59:46.627 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 15:59:46.628 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 15:59:46.628 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:59:46.629 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:59:46.630 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 15:59:46.630 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 15:59:46.631 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:59:46.649 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 15:59:46.684 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 15:59:46.684 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 15:59:46.684 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:59:46.685 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:59:46.685 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 15:59:46.685 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 15:59:46.687 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:59:46.693 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:59:46.693 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 15:59:46.693 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:59:46.694 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:59:46.694 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 15:59:46.694 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 15:59:46.695 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:59:46.695 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:59:46.696 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:59:46.696 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 15:59:46.696 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:59:46.696 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:59:46.697 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 15:59:46.697 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 15:59:46.698 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:59:46.698 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:59:46.699 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 15:59:46.699 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:59:46.699 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:59:46.700 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 15:59:46.700 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 15:59:46.701 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:59:46.701 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 15:59:46.728 org.eclipse.jetty.util.log - Logging initialized @1061ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 15:59:46.857 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:59:46.857 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 15:59:46.858 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:59:46.858 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:59:46.858 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 15:59:46.858 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 15:59:46.858 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:59:46.953 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:59:46.956 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:59:46.956 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 15:59:46.956 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:59:46.956 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:59:46.957 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 15:59:46.957 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 15:59:46.957 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:59:46.957 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 15:59:46.957 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:59:46.957 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:59:46.958 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 15:59:46.958 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 15:59:46.958 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:59:46.973 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 15:59:46.974 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 15:59:46.983 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 15:59:46.998 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 15:59:46.998 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 15:59:47.014 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 15:59:47.014 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 15:59:47.016 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 15:59:47.017 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 15:59:47.018 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 15:59:47.018 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 15:59:47.019 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 15:59:47.019 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 15:59:47.021 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 15:59:47.022 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 15:59:47.022 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 15:59:47.023 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 15:59:47.023 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 15:59:47.024 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 15:59:47.024 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 15:59:47.025 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 15:59:47.026 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 15:59:47.026 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 15:59:47.027 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 15:59:47.033 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 15:59:47.047 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 15:59:47.047 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 15:59:47.055 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 15:59:52.116 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 38779 (auto-detected)
[DEBUG] 15:59:52.119 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 15:59:52.119 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 15:59:52.122 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 15:59:52.123 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 15:59:52.126 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 15:59:52.137 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 15:59:52.137 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 15:59:52.162 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 15:59:52.162 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 15:59:52.162 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 15:59:52.163 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 15:59:52.163 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 15:59:52.163 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 15:59:52.163 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 15:59:52.163 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 15:59:52.163 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 15:59:52.163 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 15:59:52.163 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 15:59:52.164 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 15:59:52.173 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 15:59:52.174 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 15:59:52.174 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 15:59:52.187 io.netty.handler.logging.LoggingHandler - [id: 0xb71da291] REGISTERED
[INFO ] 15:59:52.189 io.netty.handler.logging.LoggingHandler - [id: 0xb71da291] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 15:59:52.192 io.netty.handler.logging.LoggingHandler - [id: 0xe3c3d21f] REGISTERED
[INFO ] 15:59:52.192 io.netty.handler.logging.LoggingHandler - [id: 0xb71da291, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 15:59:52.193 io.netty.handler.logging.LoggingHandler - [id: 0xe3c3d21f] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 15:59:52.193 io.netty.handler.logging.LoggingHandler - [id: 0xe3c3d21f, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 15:59:52.193 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 15:59:52.195 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 15:59:52.281 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 15:59:52.286 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 15:59:52.298 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 15:59:52.298 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 15:59:52.300 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 15:59:52.313 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:59:52.314 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:59:52.314 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:59:52.314 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 15:59:52.315 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:59:52.315 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:59:52.315 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 15:59:52.316 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 15:59:52.316 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 15:59:52.318 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:59:52.319 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 15:59:52.320 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:59:52.320 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 15:59:52.320 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:59:52.320 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:59:52.320 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 15:59:52.321 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 15:59:52.322 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 15:59:52.322 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 15:59:52.324 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:59:52.324 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 15:59:52.328 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 15:59:52.331 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 15:59:52.332 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 15:59:52.334 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 15:59:52.334 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 15:59:52.335 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 15:59:52.335 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 15:59:52.335 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 15:59:52.335 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 15:59:52.335 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 15:59:52.335 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 15:59:52.335 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 15:59:52.335 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 15:59:52.336 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 15:59:52.336 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 15:59:52.336 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 15:59:52.336 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:59:52.336 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 15:59:52.337 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 15:59:52.339 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 15:59:52.340 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 15:59:52.344 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 15:59:52.350 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 15:59:52.358 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:59:52.369 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:59:52.377 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 15:59:52.377 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 15:59:52.381 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:59:52.385 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:59:52.386 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 15:59:52.389 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 15:59:52.392 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 15:59:52.398 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:59:52.398 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:59:52.399 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 15:59:52.399 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 15:59:52.399 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 15:59:52.401 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:59:52.401 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 15:59:52.401 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 15:59:52.402 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 66ms
[INFO ] 15:59:52.425 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@28a6301f{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 15:59:52.439 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:59:52.440 org.eclipse.jetty.server.Server - Started @6773ms
[DEBUG] 15:59:52.440 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 15:59:52.441 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:59:52.441 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 15:59:52.441 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:59:52.441 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:59:52.441 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 15:59:52.441 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 15:59:52.442 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:59:52.442 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:59:52.442 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 15:59:52.442 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:59:52.442 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:59:52.442 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 15:59:52.467 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 15:59:52.474 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:59:52.474 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 15:59:52.474 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:59:52.474 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 15:59:52.475 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 15:59:52.475 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 15:59:52.475 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:59:52.475 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 15:59:52.476 org.nutz.boot.NbApp - mqttwk started : 6298ms
[INFO ] 16:00:40.636 io.netty.handler.logging.LoggingHandler - [id: 0xb71da291, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x5b839155, L:/127.0.0.1:8885 - R:/127.0.0.1:52293]
[INFO ] 16:00:40.637 io.netty.handler.logging.LoggingHandler - [id: 0xb71da291, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 16:00:40.659 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 16:00:40.659 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 16:00:40.660 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.660 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 16:00:40.660 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 16:00:40.660 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 16:00:40.661 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 16:00:40.662 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 16:00:40.662 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.662 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 16:00:40.662 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 16:00:40.662 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 16:00:40.664 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 16:00:40.664 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 16:00:40.664 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.664 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 16:00:40.664 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 16:00:40.674 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:00:40.675 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 16:00:40.675 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 16:00:40.675 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.675 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 16:00:40.675 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 16:00:40.676 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 16:00:40.676 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 16:00:40.676 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 16:00:40.676 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.676 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 16:00:40.676 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 16:00:40.678 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:00:40.678 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 16:00:40.679 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 16:00:40.679 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 16:00:40.679 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.679 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 16:00:40.679 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 16:00:40.681 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:00:40.682 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 16:00:40.682 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 16:00:40.682 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 16:00:40.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.682 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 16:00:40.682 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 16:00:40.682 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 16:00:40.683 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:00:40.686 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 16:00:40.686 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 16:00:40.686 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 16:00:40.687 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 16:00:40.687 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 16:00:40.694 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 16:00:40.694 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 16:00:40.695 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 16:00:40.695 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 16:00:40.695 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 16:00:40.696 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 16:00:40.696 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.697 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.698 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.698 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.698 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.698 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.698 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.700 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 16:00:40.701 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 16:00:40.701 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.701 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.701 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.701 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.702 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:00:40.808 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 16:00:40.808 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@712162599
[DEBUG] 16:00:40.808 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@712162599
[DEBUG] 16:00:40.808 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@712162599
[DEBUG] 16:00:40.808 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@712162599
[DEBUG] 16:00:40.808 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@712162599
[DEBUG] 16:00:40.809 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 16:00:40.809 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.809 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.809 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.809 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.809 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.809 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.809 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.809 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.810 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.810 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.810 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.810 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.810 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.810 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.810 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.810 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.810 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.811 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 16:00:40.811 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 16:00:40.811 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.811 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 16:00:40.811 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 16:00:40.811 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 16:00:40.811 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 16:00:40.812 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 16:00:40.812 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.812 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 16:00:40.812 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 16:00:40.814 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:00:40.814 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:00:40.814 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 16:00:40.814 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 16:00:40.815 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 16:00:40.815 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.815 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 16:00:40.815 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 16:00:40.815 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 16:00:40.815 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 16:00:40.815 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 16:00:40.815 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 16:00:40.816 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.816 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 16:00:40.816 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 16:00:40.817 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:00:40.817 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:00:40.817 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 16:00:40.817 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 16:00:40.818 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.818 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 16:00:40.818 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 16:00:40.818 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 16:00:40.818 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 16:00:40.818 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 16:00:40.818 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 16:00:40.819 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.819 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 16:00:40.819 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 16:00:40.820 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:00:40.821 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:00:40.821 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 16:00:40.821 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 16:00:40.821 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.821 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 16:00:40.821 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 16:00:40.821 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 16:00:40.822 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:00:40.822 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 16:00:40.822 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 16:00:40.822 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.822 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 16:00:40.823 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 16:00:40.824 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 16:00:40.824 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 16:00:40.824 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.824 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 16:00:40.824 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 16:00:40.836 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 16:00:40.836 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 16:00:40.836 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 16:00:40.837 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:00:40.837 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 16:00:40.837 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 16:00:40.837 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.837 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 16:00:40.837 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 16:00:40.839 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 16:00:40.839 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 16:00:40.839 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 16:00:40.839 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 16:00:40.839 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 16:00:40.840 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 16:00:40.841 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 16:00:40.841 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:00:40.842 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 16:00:40.842 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 16:00:40.842 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.842 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 16:00:40.842 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 16:00:40.842 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 16:00:40.843 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:00:40.843 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 16:00:40.843 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 16:00:40.843 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 16:00:40.844 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 16:00:40.844 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 16:00:40.844 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.844 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 16:00:40.844 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 16:00:40.844 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 16:00:40.845 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 16:00:40.845 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 16:00:40.845 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:00:40.846 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 16:00:40.846 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 16:00:40.846 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 16:00:40.849 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:00:40.850 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 16:00:40.851 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 16:00:40.851 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:00:40.851 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 16:00:40.851 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 16:00:40.857 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 16:00:40.858 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 16:00:40.858 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 16:00:40.858 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 16:00:40.864 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 16:00:40.864 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 16:00:40.866 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@3f1af0c1
[DEBUG] 16:00:41.006 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 16:00:43.948 cn.wizzer.iot.mqtt.server.broker.protocol.Subscribe - SUBSCRIBE - clientId: MQTT_FX_Client, topFilter: home/garden/fountain, QoS: 0
[DEBUG] 16:01:43.854 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:02:43.787 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:03:43.689 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:04:43.590 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:05:43.493 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:06:43.395 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:07:43.298 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:08:43.200 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:09:43.102 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:10:43.004 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:11:42.906 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:12:42.809 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:13:42.698 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:14:42.600 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:15:42.501 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[INFO ] 16:16:28.367 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 16:16:28.367 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 16:16:28.369 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 16:16:28.370 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 16:16:30.660 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 16:16:30.669 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 16:16:30.709 org.nutz.resource.Scans - Locations count=79 time use 34ms
[DEBUG] 16:16:30.713 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 16:16:30.714 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 16:16:30.715 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 16:16:30.829 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 16:16:30.829 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 16:16:30.830 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 16:16:30.873 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 16:16:30.875 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 16:16:30.875 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 16:16:30.893 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 16:16:30.922 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 16:16:30.933 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 16:16:30.944 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 16:16:30.946 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 16:16:30.949 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 16:16:30.949 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 16:16:30.953 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 16:16:30.956 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 16:16:30.957 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 16:16:30.957 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 16:16:30.959 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 16:16:30.965 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 16:16:30.970 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 16:16:30.971 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 16:16:30.972 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 16:16:30.973 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 16:16:30.974 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 16:16:30.974 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 16:16:30.975 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 16:16:30.977 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 16:16:30.977 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 16:16:30.978 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 16:16:30.979 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 16:16:30.979 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 16:16:30.980 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 16:16:30.980 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 16:16:30.982 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 16:16:30.992 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 16:16:30.996 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 16:16:30.997 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 16:16:30.998 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 16:16:31.003 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 16:16:31.029 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 16:16:31.030 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 16:16:31.031 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 16:16:31.033 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 16:16:31.033 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 16:16:31.034 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 16:16:31.034 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 16:16:31.034 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 16:16:31.035 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 16:16:31.047 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 16:16:31.063 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 16:16:31.071 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 16:16:31.072 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 16:16:31.072 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 16:16:31.072 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 16:16:31.072 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 16:16:31.078 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 16:16:31.078 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 16:16:31.079 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 16:16:31.080 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 16:16:31.081 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 16:16:31.081 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 16:16:31.083 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 16:16:31.083 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 16:16:31.105 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 16:16:31.141 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 16:16:31.141 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 16:16:31.141 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:16:31.142 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 16:16:31.142 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 16:16:31.142 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 16:16:31.145 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:16:31.150 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 16:16:31.151 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 16:16:31.151 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 16:16:31.151 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 16:16:31.151 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 16:16:31.151 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 16:16:31.152 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:16:31.153 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 16:16:31.153 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 16:16:31.153 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 16:16:31.154 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 16:16:31.154 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 16:16:31.154 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 16:16:31.154 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 16:16:31.155 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:16:31.155 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 16:16:31.155 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 16:16:31.155 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 16:16:31.156 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 16:16:31.156 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 16:16:31.156 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 16:16:31.157 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:16:31.157 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 16:16:31.187 org.eclipse.jetty.util.log - Logging initialized @1125ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 16:16:31.325 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 16:16:31.325 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 16:16:31.326 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 16:16:31.326 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 16:16:31.326 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 16:16:31.327 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 16:16:31.327 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 16:16:31.435 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 16:16:31.439 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 16:16:31.439 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 16:16:31.439 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:16:31.440 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 16:16:31.440 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 16:16:31.440 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 16:16:31.441 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:16:31.441 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 16:16:31.441 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:16:31.441 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:16:31.441 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 16:16:31.441 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 16:16:31.442 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:16:31.463 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 16:16:31.463 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 16:16:31.475 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 16:16:31.496 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 16:16:31.496 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 16:16:31.515 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 16:16:31.515 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 16:16:31.517 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 16:16:31.518 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 16:16:31.518 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 16:16:31.519 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 16:16:31.519 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 16:16:31.520 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 16:16:31.521 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 16:16:31.522 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 16:16:31.522 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 16:16:31.523 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 16:16:31.524 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 16:16:31.524 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 16:16:31.524 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 16:16:31.526 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 16:16:31.526 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 16:16:31.527 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 16:16:31.527 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 16:16:31.535 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 16:16:31.548 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 16:16:31.548 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 16:16:31.557 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 16:16:31.789 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 16:16:31.943 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 16:16:31.944 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 16:16:36.984 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 40103 (auto-detected)
[DEBUG] 16:16:36.987 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 16:16:36.987 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 16:16:36.990 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 16:16:36.991 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 16:16:36.994 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 16:16:37.004 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 16:16:37.005 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 16:16:37.029 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 16:16:37.029 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 16:16:37.029 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 16:16:37.029 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 16:16:37.029 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 16:16:37.029 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 16:16:37.030 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 16:16:37.030 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 16:16:37.030 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 16:16:37.030 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 16:16:37.030 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 16:16:37.030 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 16:16:37.040 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 16:16:37.040 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 16:16:37.040 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 16:16:37.055 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144] REGISTERED
[INFO ] 16:16:37.057 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 16:16:37.060 io.netty.handler.logging.LoggingHandler - [id: 0x6dfbe351] REGISTERED
[INFO ] 16:16:37.060 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 16:16:37.060 io.netty.handler.logging.LoggingHandler - [id: 0x6dfbe351] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 16:16:37.061 io.netty.handler.logging.LoggingHandler - [id: 0x6dfbe351, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 16:16:37.061 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 16:16:37.063 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 16:16:37.154 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 16:16:37.159 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 16:16:37.172 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 16:16:37.172 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 16:16:37.174 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 16:16:37.187 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 16:16:37.188 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 16:16:37.189 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 16:16:37.189 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 16:16:37.189 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 16:16:37.189 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 16:16:37.189 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 16:16:37.191 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 16:16:37.191 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 16:16:37.193 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 16:16:37.194 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 16:16:37.195 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 16:16:37.195 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 16:16:37.195 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 16:16:37.195 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 16:16:37.195 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 16:16:37.196 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 16:16:37.197 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 16:16:37.198 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 16:16:37.200 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 16:16:37.200 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 16:16:37.203 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 16:16:37.206 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 16:16:37.207 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 16:16:37.208 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 16:16:37.208 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 16:16:37.208 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 16:16:37.208 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 16:16:37.208 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 16:16:37.209 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 16:16:37.209 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 16:16:37.209 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 16:16:37.209 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 16:16:37.209 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 16:16:37.209 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 16:16:37.209 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 16:16:37.209 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 16:16:37.210 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 16:16:37.210 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 16:16:37.210 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 16:16:37.213 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 16:16:37.215 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 16:16:37.218 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 16:16:37.224 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 16:16:37.231 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 16:16:37.242 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 16:16:37.248 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 16:16:37.248 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 16:16:37.252 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 16:16:37.256 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 16:16:37.256 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 16:16:37.259 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 16:16:37.261 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 16:16:37.266 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 16:16:37.267 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 16:16:37.268 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 16:16:37.268 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 16:16:37.268 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 16:16:37.270 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 16:16:37.270 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 16:16:37.270 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 16:16:37.271 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 61ms
[INFO ] 16:16:37.292 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@72ee5d84{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 16:16:37.305 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 16:16:37.305 org.eclipse.jetty.server.Server - Started @7244ms
[DEBUG] 16:16:37.306 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 16:16:37.306 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 16:16:37.306 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 16:16:37.306 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:16:37.307 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 16:16:37.307 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 16:16:37.307 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 16:16:37.307 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:16:37.307 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:16:37.308 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 16:16:37.308 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 16:16:37.308 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:16:37.308 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 16:16:37.333 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 16:16:37.339 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 16:16:37.340 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 16:16:37.340 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 16:16:37.340 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 16:16:37.340 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 16:16:37.340 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 16:16:37.340 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:16:37.341 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 16:16:37.341 org.nutz.boot.NbApp - mqttwk started : 6741ms
[INFO ] 16:19:22.232 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x032e6fd4, L:/127.0.0.1:8885 - R:/127.0.0.1:57045]
[INFO ] 16:19:22.233 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 16:19:22.268 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 16:19:22.268 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 16:19:22.268 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.269 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 16:19:22.269 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 16:19:22.269 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 16:19:22.270 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 16:19:22.270 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 16:19:22.270 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.270 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 16:19:22.270 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 16:19:22.270 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 16:19:22.271 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 16:19:22.272 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 16:19:22.272 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.272 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 16:19:22.272 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 16:19:22.281 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:19:22.282 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 16:19:22.282 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 16:19:22.282 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.282 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 16:19:22.282 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 16:19:22.282 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 16:19:22.283 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 16:19:22.283 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 16:19:22.283 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.283 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 16:19:22.283 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 16:19:22.285 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:19:22.285 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 16:19:22.286 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 16:19:22.286 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 16:19:22.286 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.286 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 16:19:22.286 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 16:19:22.288 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:19:22.288 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 16:19:22.288 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 16:19:22.288 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 16:19:22.288 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.288 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 16:19:22.289 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 16:19:22.289 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 16:19:22.290 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:19:22.292 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 16:19:22.292 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 16:19:22.292 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 16:19:22.292 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 16:19:22.292 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 16:19:22.300 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 16:19:22.300 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 16:19:22.301 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 16:19:22.301 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 16:19:22.301 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 16:19:22.301 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 16:19:22.301 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.303 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.303 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.303 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.303 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.303 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.303 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.305 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 16:19:22.305 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 16:19:22.305 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.306 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.306 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.306 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.306 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 16:19:22.391 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 16:19:22.391 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1681238791
[DEBUG] 16:19:22.392 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1681238791
[DEBUG] 16:19:22.392 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1681238791
[DEBUG] 16:19:22.392 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1681238791
[DEBUG] 16:19:22.392 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1681238791
[DEBUG] 16:19:22.392 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 16:19:22.392 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.392 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.392 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.392 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.393 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.393 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.393 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.393 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.393 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.393 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.393 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.393 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.393 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.393 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.394 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.394 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.394 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.394 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 16:19:22.394 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 16:19:22.394 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.394 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 16:19:22.395 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 16:19:22.395 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 16:19:22.395 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 16:19:22.395 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 16:19:22.395 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.395 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 16:19:22.395 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 16:19:22.397 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:19:22.397 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:19:22.397 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 16:19:22.397 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 16:19:22.397 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 16:19:22.398 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.398 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 16:19:22.398 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 16:19:22.398 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 16:19:22.398 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 16:19:22.398 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 16:19:22.398 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 16:19:22.399 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.399 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 16:19:22.399 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 16:19:22.400 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:19:22.401 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:19:22.401 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 16:19:22.401 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 16:19:22.401 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.401 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 16:19:22.401 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 16:19:22.401 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 16:19:22.402 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 16:19:22.402 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 16:19:22.402 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 16:19:22.402 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.402 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 16:19:22.402 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 16:19:22.404 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 16:19:22.404 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 16:19:22.404 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 16:19:22.404 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 16:19:22.404 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.404 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 16:19:22.404 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 16:19:22.404 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 16:19:22.405 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:19:22.405 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 16:19:22.405 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 16:19:22.406 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.406 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 16:19:22.406 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 16:19:22.407 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 16:19:22.407 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 16:19:22.407 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.407 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 16:19:22.408 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 16:19:22.418 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 16:19:22.419 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 16:19:22.419 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 16:19:22.419 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:19:22.419 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 16:19:22.419 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 16:19:22.419 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.419 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 16:19:22.420 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 16:19:22.421 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 16:19:22.421 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 16:19:22.421 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 16:19:22.421 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 16:19:22.421 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 16:19:22.422 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 16:19:22.423 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 16:19:22.423 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:19:22.423 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 16:19:22.423 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 16:19:22.423 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.423 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 16:19:22.424 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 16:19:22.424 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 16:19:22.424 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:19:22.424 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 16:19:22.425 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 16:19:22.425 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 16:19:22.425 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 16:19:22.425 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 16:19:22.425 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.425 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 16:19:22.425 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 16:19:22.425 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 16:19:22.426 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 16:19:22.426 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 16:19:22.426 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 16:19:22.426 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 16:19:22.426 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 16:19:22.426 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 16:19:22.430 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:19:22.431 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 16:19:22.431 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 16:19:22.431 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 16:19:22.431 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 16:19:22.431 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 16:19:22.437 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 16:19:22.437 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 16:19:22.437 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 16:19:22.437 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 16:19:22.444 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 16:19:22.444 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 16:19:22.445 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@7f62d556
[WARN ] 16:19:22.463 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 101a00044d5154540402003c000e4d5154545f46585f436c69656e74
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 101a00044d5154540402003c000e4d5154545f46585f436c69656e74
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1214)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 17:10:42.339 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xe71530c7, L:/127.0.0.1:8885 - R:/127.0.0.1:52470]
[INFO ] 17:10:42.342 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 17:10:42.347 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 17:10:42.646 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 17:11:33.241 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x76d11660, L:/127.0.0.1:8885 - R:/127.0.0.1:52639]
[INFO ] 17:11:33.242 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 17:11:33.243 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 17:11:33.316 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 17:14:56.197 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x44fea57e, L:/127.0.0.1:8885 - R:/127.0.0.1:53317]
[INFO ] 17:14:56.198 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 17:14:56.199 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 17:14:56.264 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 17:15:41.907 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x979dd57f, L:/127.0.0.1:8885 - R:/127.0.0.1:53449]
[INFO ] 17:15:41.908 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 17:15:41.910 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 17:15:41.962 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 17:46:13.110 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x840a005b, L:/127.0.0.1:8885 - R:/127.0.0.1:61813]
[INFO ] 17:46:13.111 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 17:46:13.112 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 17:46:13.165 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 17:56:09.352 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xfb4b5f4e, L:/127.0.0.1:8885 - R:/127.0.0.1:63931]
[INFO ] 17:56:09.353 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 17:56:09.354 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 17:56:09.401 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 17:58:44.789 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x76d07622, L:/127.0.0.1:8885 - R:/127.0.0.1:64600]
[INFO ] 17:58:44.789 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 17:58:44.790 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 17:58:44.826 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 17:58:56.788 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x6f78221d, L:/127.0.0.1:8885 - R:/127.0.0.1:64637]
[INFO ] 17:58:56.789 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 17:58:56.790 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 17:58:56.827 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 18:00:02.600 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xd6da4e62, L:/127.0.0.1:8885 - R:/127.0.0.1:64863]
[INFO ] 18:00:02.601 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 18:00:02.602 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 18:00:02.670 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 18:01:36.251 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xf2c61261, L:/127.0.0.1:8885 - R:/127.0.0.1:65153]
[INFO ] 18:01:36.251 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 18:01:36.252 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 18:01:36.284 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 18:03:00.873 io.netty.handler.logging.LoggingHandler - [id: 0x6dfbe351, L:/0:0:0:0:0:0:0:0:9995] READ: [id: 0xd45aa4f5, L:/127.0.0.1:9995 - R:/127.0.0.1:65449]
[INFO ] 18:03:00.873 io.netty.handler.logging.LoggingHandler - [id: 0x6dfbe351, L:/0:0:0:0:0:0:0:0:9995] READ COMPLETE
[DEBUG] 18:03:00.938 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 18:03:00.942 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 474554202f6d71747420485454502f312e310d0a486f73743a203132372e302e302e313a393939350d0a436f6e6e656374696f6e3a20557067726164650d0a507261676d613a206e6f2d63616368650d0a43616368652d436f6e74726f6c3a206e6f2d63616368650d0a557365722d4167656e743a204d6f7a696c6c612f352e3020284d6163696e746f73683b20496e74656c204d6163204f5320582031305f31355f3729204170706c655765624b69742f3533372e333620284b48544d4c2c206c696b65204765636b6f29204368726f6d652f3130312e302e343935312e3634205361666172692f3533372e33360d0a557067726164653a20776562736f636b65740d0a4f726967696e3a20687474703a2f2f6c6f63616c686f73743a36333334320d0a5365632d576562536f636b65742d56657273696f6e3a2031330d0a4163636570742d456e636f64696e673a20677a69702c206465666c6174652c2062720d0a4163636570742d4c616e67756167653a207a682d434e2c7a683b713d302e390d0a5365632d576562536f636b65742d4b65793a2079426662726a6a7947615262384379557651653052413d3d0d0a5365632d576562536f636b65742d457874656e73696f6e733a207065726d6573736167652d6465666c6174653b20636c69656e745f6d61785f77696e646f775f626974730d0a5365632d576562536f636b65742d50726f746f636f6c3a206d7174740d0a0d0a
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 474554202f6d71747420485454502f312e310d0a486f73743a203132372e302e302e313a393939350d0a436f6e6e656374696f6e3a20557067726164650d0a507261676d613a206e6f2d63616368650d0a43616368652d436f6e74726f6c3a206e6f2d63616368650d0a557365722d4167656e743a204d6f7a696c6c612f352e3020284d6163696e746f73683b20496e74656c204d6163204f5320582031305f31355f3729204170706c655765624b69742f3533372e333620284b48544d4c2c206c696b65204765636b6f29204368726f6d652f3130312e302e343935312e3634205361666172692f3533372e33360d0a557067726164653a20776562736f636b65740d0a4f726967696e3a20687474703a2f2f6c6f63616c686f73743a36333334320d0a5365632d576562536f636b65742d56657273696f6e3a2031330d0a4163636570742d456e636f64696e673a20677a69702c206465666c6174652c2062720d0a4163636570742d4c616e67756167653a207a682d434e2c7a683b713d302e390d0a5365632d576562536f636b65742d4b65793a2079426662726a6a7947615262384379557651653052413d3d0d0a5365632d576562536f636b65742d457874656e73696f6e733a207065726d6573736167652d6465666c6174653b20636c69656e745f6d61785f77696e646f775f626974730d0a5365632d576562536f636b65742d50726f746f636f6c3a206d7174740d0a0d0a
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1214)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 18:03:00.954 io.netty.handler.logging.LoggingHandler - [id: 0x6dfbe351, L:/0:0:0:0:0:0:0:0:9995] READ: [id: 0xdaf25733, L:/127.0.0.1:9995 - R:/127.0.0.1:65453]
[INFO ] 18:03:00.955 io.netty.handler.logging.LoggingHandler - [id: 0x6dfbe351, L:/0:0:0:0:0:0:0:0:9995] READ COMPLETE
[DEBUG] 18:03:00.956 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 18:03:00.959 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 474554202f6d71747420485454502f312e310d0a486f73743a203132372e302e302e313a393939350d0a436f6e6e656374696f6e3a20557067726164650d0a507261676d613a206e6f2d63616368650d0a43616368652d436f6e74726f6c3a206e6f2d63616368650d0a557365722d4167656e743a204d6f7a696c6c612f352e3020284d6163696e746f73683b20496e74656c204d6163204f5320582031305f31355f3729204170706c655765624b69742f3533372e333620284b48544d4c2c206c696b65204765636b6f29204368726f6d652f3130312e302e343935312e3634205361666172692f3533372e33360d0a557067726164653a20776562736f636b65740d0a4f726967696e3a20687474703a2f2f6c6f63616c686f73743a36333334320d0a5365632d576562536f636b65742d56657273696f6e3a2031330d0a4163636570742d456e636f64696e673a20677a69702c206465666c6174652c2062720d0a4163636570742d4c616e67756167653a207a682d434e2c7a683b713d302e390d0a5365632d576562536f636b65742d4b65793a203332706e614a614465746b37506c425655672f4b6b513d3d0d0a5365632d576562536f636b65742d457874656e73696f6e733a207065726d6573736167652d6465666c6174653b20636c69656e745f6d61785f77696e646f775f626974730d0a5365632d576562536f636b65742d50726f746f636f6c3a206d71747476332e310d0a0d0a
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 474554202f6d71747420485454502f312e310d0a486f73743a203132372e302e302e313a393939350d0a436f6e6e656374696f6e3a20557067726164650d0a507261676d613a206e6f2d63616368650d0a43616368652d436f6e74726f6c3a206e6f2d63616368650d0a557365722d4167656e743a204d6f7a696c6c612f352e3020284d6163696e746f73683b20496e74656c204d6163204f5320582031305f31355f3729204170706c655765624b69742f3533372e333620284b48544d4c2c206c696b65204765636b6f29204368726f6d652f3130312e302e343935312e3634205361666172692f3533372e33360d0a557067726164653a20776562736f636b65740d0a4f726967696e3a20687474703a2f2f6c6f63616c686f73743a36333334320d0a5365632d576562536f636b65742d56657273696f6e3a2031330d0a4163636570742d456e636f64696e673a20677a69702c206465666c6174652c2062720d0a4163636570742d4c616e67756167653a207a682d434e2c7a683b713d302e390d0a5365632d576562536f636b65742d4b65793a203332706e614a614465746b37506c425655672f4b6b513d3d0d0a5365632d576562536f636b65742d457874656e73696f6e733a207065726d6573736167652d6465666c6174653b20636c69656e745f6d61785f77696e646f775f626974730d0a5365632d576562536f636b65742d50726f746f636f6c3a206d71747476332e310d0a0d0a
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1214)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
