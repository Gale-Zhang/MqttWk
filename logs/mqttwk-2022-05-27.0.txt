[INFO ] 10:05:47.829 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x41f3ff40, L:/127.0.0.1:8885 - R:/127.0.0.1:62208]
[INFO ] 10:05:47.842 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 10:05:47.852 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 10:05:47.907 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 10:15:51.404 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x20757db4, L:/127.0.0.1:8885 - R:/127.0.0.1:64825]
[INFO ] 10:15:51.405 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 10:15:51.406 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 10:15:51.447 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 10:16:23.816 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x4d55f100, L:/127.0.0.1:8885 - R:/127.0.0.1:64922]
[INFO ] 10:16:23.817 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 10:16:23.819 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 10:16:23.885 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 10:37:55.985 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xd073e989, L:/127.0.0.1:8885 - R:/127.0.0.1:53101]
[INFO ] 10:37:55.986 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 10:37:55.987 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 10:37:56.108 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 10:38:23.566 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xa4ecf965, L:/127.0.0.1:8885 - R:/127.0.0.1:53188]
[INFO ] 10:38:23.566 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 10:38:23.567 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 10:38:23.636 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 10:45:01.416 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x699a20ea, L:/127.0.0.1:8885 - R:/127.0.0.1:54736]
[INFO ] 10:45:01.416 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 10:45:01.417 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 10:45:01.483 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 10:45:47.179 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xaf916de7, L:/127.0.0.1:8885 - R:/127.0.0.1:54870]
[INFO ] 10:45:47.180 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 10:45:47.181 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 10:45:47.299 io.netty.handler.ssl.SslHandler - [id: 0xaf916de7, L:/127.0.0.1:8885 - R:/127.0.0.1:54870] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 10:45:47.455 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 10:45:51.769 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 10:48:46.514 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x2519f5d0, L:/127.0.0.1:8885 - R:/127.0.0.1:55511]
[INFO ] 10:48:46.514 io.netty.handler.logging.LoggingHandler - [id: 0xd0f02144, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 10:48:46.515 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 10:48:46.556 io.netty.handler.ssl.SslHandler - [id: 0x2519f5d0, L:/127.0.0.1:8885 - R:/127.0.0.1:55511] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 10:48:46.562 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 10:49:18.278 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 10:49:18.278 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 10:49:18.282 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 10:49:18.283 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 10:49:22.697 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 10:49:22.705 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 10:49:22.740 org.nutz.resource.Scans - Locations count=79 time use 30ms
[DEBUG] 10:49:22.744 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 10:49:22.744 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 10:49:22.745 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 10:49:22.847 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 10:49:22.847 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 10:49:22.847 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 10:49:22.882 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 10:49:22.884 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 10:49:22.885 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 10:49:22.897 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 10:49:22.925 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 10:49:22.936 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 10:49:22.949 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 10:49:22.950 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 10:49:22.953 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 10:49:22.954 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 10:49:22.957 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 10:49:22.961 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 10:49:22.962 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 10:49:22.962 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 10:49:22.965 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 10:49:22.971 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 10:49:22.973 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 10:49:22.974 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 10:49:22.975 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 10:49:22.976 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 10:49:22.976 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 10:49:22.977 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 10:49:22.978 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 10:49:22.978 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 10:49:22.978 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 10:49:22.979 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 10:49:22.979 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 10:49:22.979 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 10:49:22.980 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 10:49:22.980 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 10:49:22.981 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 10:49:22.992 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 10:49:22.995 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 10:49:22.995 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 10:49:22.996 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 10:49:23.000 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 10:49:23.025 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 10:49:23.026 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 10:49:23.027 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 10:49:23.029 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 10:49:23.029 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 10:49:23.029 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 10:49:23.029 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 10:49:23.030 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 10:49:23.030 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 10:49:23.041 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 10:49:23.054 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 10:49:23.062 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 10:49:23.063 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 10:49:23.063 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 10:49:23.063 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 10:49:23.064 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 10:49:23.068 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 10:49:23.069 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 10:49:23.070 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 10:49:23.070 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 10:49:23.070 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 10:49:23.071 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 10:49:23.071 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 10:49:23.072 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 10:49:23.088 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 10:49:23.124 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 10:49:23.125 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 10:49:23.125 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:49:23.125 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 10:49:23.125 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 10:49:23.125 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 10:49:23.128 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:49:23.132 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 10:49:23.132 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 10:49:23.133 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:49:23.133 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 10:49:23.133 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 10:49:23.133 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 10:49:23.134 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:49:23.135 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 10:49:23.135 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 10:49:23.135 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 10:49:23.136 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:49:23.136 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 10:49:23.136 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 10:49:23.137 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 10:49:23.137 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:49:23.138 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 10:49:23.138 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 10:49:23.138 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:49:23.138 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 10:49:23.138 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 10:49:23.138 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 10:49:23.139 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:49:23.139 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 10:49:23.167 org.eclipse.jetty.util.log - Logging initialized @1036ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 10:49:23.299 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 10:49:23.299 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 10:49:23.299 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:49:23.299 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 10:49:23.299 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 10:49:23.300 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 10:49:23.300 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 10:49:23.407 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 10:49:23.410 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 10:49:23.410 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 10:49:23.410 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:49:23.410 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 10:49:23.410 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 10:49:23.411 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 10:49:23.411 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 10:49:23.411 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 10:49:23.411 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:49:23.411 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 10:49:23.411 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 10:49:23.412 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 10:49:23.412 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:49:23.438 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 10:49:23.438 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 10:49:23.455 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 10:49:23.470 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 10:49:23.470 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 10:49:23.488 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 10:49:23.489 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 10:49:23.490 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 10:49:23.491 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 10:49:23.492 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 10:49:23.492 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 10:49:23.492 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 10:49:23.493 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 10:49:23.494 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 10:49:23.495 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 10:49:23.495 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 10:49:23.497 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 10:49:23.497 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 10:49:23.497 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 10:49:23.497 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 10:49:23.499 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 10:49:23.499 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 10:49:23.500 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 10:49:23.500 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 10:49:23.508 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 10:49:23.519 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 10:49:23.519 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 10:49:23.527 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 10:49:23.708 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 10:49:23.832 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 10:49:23.832 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 10:49:23.868 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 93558 (auto-detected)
[DEBUG] 10:49:23.871 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 10:49:23.871 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 10:49:23.874 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 10:49:23.875 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 10:49:23.878 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 10:49:23.889 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 10:49:23.890 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 10:49:23.916 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 10:49:23.916 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 10:49:23.916 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 10:49:23.916 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 10:49:23.916 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 10:49:23.916 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 10:49:23.916 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 10:49:23.916 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 10:49:23.916 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 10:49:23.917 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 10:49:23.917 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 10:49:23.917 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 10:49:23.930 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 10:49:23.930 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 10:49:23.930 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 10:49:23.945 io.netty.handler.logging.LoggingHandler - [id: 0xc54ddc52] REGISTERED
[INFO ] 10:49:23.947 io.netty.handler.logging.LoggingHandler - [id: 0xc54ddc52] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 10:49:23.950 io.netty.handler.logging.LoggingHandler - [id: 0x4c1795e4] REGISTERED
[INFO ] 10:49:23.950 io.netty.handler.logging.LoggingHandler - [id: 0xc54ddc52, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 10:49:23.950 io.netty.handler.logging.LoggingHandler - [id: 0x4c1795e4] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 10:49:23.950 io.netty.handler.logging.LoggingHandler - [id: 0x4c1795e4, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 10:49:23.950 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 10:49:23.952 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 10:49:24.041 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 10:49:24.047 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 10:49:24.060 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 10:49:24.061 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 10:49:24.064 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 10:49:24.077 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 10:49:24.077 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 10:49:24.078 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 10:49:24.078 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 10:49:24.079 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:49:24.079 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 10:49:24.079 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 10:49:24.080 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 10:49:24.080 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 10:49:24.083 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 10:49:24.084 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 10:49:24.084 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 10:49:24.084 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 10:49:24.084 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 10:49:24.085 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 10:49:24.085 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 10:49:24.086 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 10:49:24.086 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 10:49:24.087 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 10:49:24.089 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 10:49:24.089 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 10:49:24.093 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 10:49:24.096 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 10:49:24.097 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 10:49:24.099 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 10:49:24.099 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 10:49:24.099 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 10:49:24.099 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 10:49:24.099 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 10:49:24.100 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 10:49:24.100 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 10:49:24.100 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 10:49:24.100 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 10:49:24.100 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 10:49:24.100 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 10:49:24.100 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 10:49:24.100 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 10:49:24.100 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 10:49:24.101 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 10:49:24.101 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 10:49:24.104 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 10:49:24.105 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 10:49:24.109 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 10:49:24.114 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 10:49:24.121 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 10:49:24.132 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 10:49:24.138 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 10:49:24.138 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 10:49:24.141 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 10:49:24.144 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 10:49:24.145 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 10:49:24.148 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 10:49:24.149 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 10:49:24.154 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 10:49:24.156 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 10:49:24.157 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 10:49:24.157 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 10:49:24.157 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 10:49:24.159 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 10:49:24.159 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 10:49:24.159 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 10:49:24.160 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 59ms
[INFO ] 10:49:24.180 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@1a480135{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 10:49:24.192 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 10:49:24.192 org.eclipse.jetty.server.Server - Started @2062ms
[DEBUG] 10:49:24.192 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 10:49:24.193 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 10:49:24.193 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 10:49:24.193 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:49:24.193 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 10:49:24.193 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 10:49:24.193 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 10:49:24.193 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:49:24.194 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:49:24.194 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 10:49:24.194 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 10:49:24.194 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:49:24.194 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 10:49:24.216 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 10:49:24.223 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 10:49:24.223 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 10:49:24.223 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 10:49:24.223 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 10:49:24.223 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 10:49:24.224 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 10:49:24.224 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:49:24.224 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 10:49:24.224 org.nutz.boot.NbApp - mqttwk started : 1583ms
[INFO ] 10:50:55.027 io.netty.handler.logging.LoggingHandler - [id: 0xc54ddc52, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x81e2521b, L:/127.0.0.1:8885 - R:/127.0.0.1:55950]
[INFO ] 10:50:55.029 io.netty.handler.logging.LoggingHandler - [id: 0xc54ddc52, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 10:50:55.085 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 10:50:55.085 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 10:50:55.085 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.086 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 10:50:55.086 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 10:50:55.086 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 10:50:55.087 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 10:50:55.087 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 10:50:55.087 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.088 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 10:50:55.088 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 10:50:55.088 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 10:50:55.089 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 10:50:55.089 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 10:50:55.089 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.089 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 10:50:55.089 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 10:50:55.101 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:50:55.102 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 10:50:55.102 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 10:50:55.102 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.102 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 10:50:55.102 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 10:50:55.102 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 10:50:55.102 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 10:50:55.103 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 10:50:55.103 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.103 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 10:50:55.103 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 10:50:55.105 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:50:55.105 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 10:50:55.105 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 10:50:55.105 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 10:50:55.106 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.106 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 10:50:55.106 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 10:50:55.108 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:50:55.108 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 10:50:55.108 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 10:50:55.108 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 10:50:55.108 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.108 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 10:50:55.108 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 10:50:55.108 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 10:50:55.109 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:50:55.111 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 10:50:55.111 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 10:50:55.112 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 10:50:55.112 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 10:50:55.112 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 10:50:55.120 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 10:50:55.120 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 10:50:55.121 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 10:50:55.121 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 10:50:55.121 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 10:50:55.121 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 10:50:55.121 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.122 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.123 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.123 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.123 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.123 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.123 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.125 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 10:50:55.126 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 10:50:55.126 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.126 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.126 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.126 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.126 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 10:50:55.228 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 10:50:55.229 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1595138335
[DEBUG] 10:50:55.229 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1595138335
[DEBUG] 10:50:55.229 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1595138335
[DEBUG] 10:50:55.229 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1595138335
[DEBUG] 10:50:55.229 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1595138335
[DEBUG] 10:50:55.229 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 10:50:55.229 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.229 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.231 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.231 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.231 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.231 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 10:50:55.231 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 10:50:55.231 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.231 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 10:50:55.231 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 10:50:55.231 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 10:50:55.232 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 10:50:55.232 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 10:50:55.232 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.232 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 10:50:55.233 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 10:50:55.234 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:50:55.235 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:50:55.235 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 10:50:55.235 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 10:50:55.235 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 10:50:55.235 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.235 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 10:50:55.235 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 10:50:55.236 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 10:50:55.236 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 10:50:55.236 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 10:50:55.236 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 10:50:55.237 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.237 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 10:50:55.237 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 10:50:55.238 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:50:55.239 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:50:55.239 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 10:50:55.239 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 10:50:55.239 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.239 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 10:50:55.239 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 10:50:55.239 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 10:50:55.240 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 10:50:55.240 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 10:50:55.240 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 10:50:55.240 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.240 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 10:50:55.240 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 10:50:55.242 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 10:50:55.242 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 10:50:55.242 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 10:50:55.242 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 10:50:55.242 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.242 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 10:50:55.242 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 10:50:55.243 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 10:50:55.243 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 10:50:55.243 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 10:50:55.244 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 10:50:55.244 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.244 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 10:50:55.244 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 10:50:55.245 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 10:50:55.245 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 10:50:55.245 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.245 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 10:50:55.245 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 10:50:55.257 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 10:50:55.258 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 10:50:55.258 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 10:50:55.258 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 10:50:55.258 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 10:50:55.258 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 10:50:55.258 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.259 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 10:50:55.259 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 10:50:55.260 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 10:50:55.260 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 10:50:55.261 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 10:50:55.261 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 10:50:55.261 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 10:50:55.262 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 10:50:55.262 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 10:50:55.263 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 10:50:55.263 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 10:50:55.263 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 10:50:55.263 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.263 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 10:50:55.263 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 10:50:55.263 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 10:50:55.264 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 10:50:55.264 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 10:50:55.264 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 10:50:55.264 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 10:50:55.265 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 10:50:55.265 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 10:50:55.265 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.265 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 10:50:55.265 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 10:50:55.266 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 10:50:55.266 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 10:50:55.266 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 10:50:55.266 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 10:50:55.267 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 10:50:55.267 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 10:50:55.267 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 10:50:55.271 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 10:50:55.272 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 10:50:55.272 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 10:50:55.272 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 10:50:55.272 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 10:50:55.272 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 10:50:55.280 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 10:50:55.280 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 10:50:55.281 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 10:50:55.281 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 10:50:55.294 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 10:50:55.294 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 10:50:55.295 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@61e960f6
[DEBUG] 10:50:55.445 io.netty.handler.ssl.SslHandler - [id: 0x81e2521b, L:/127.0.0.1:8885 - R:/127.0.0.1:55950] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 10:50:55.577 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 10:51:06.259 cn.wizzer.iot.mqtt.server.broker.protocol.Subscribe - SUBSCRIBE - clientId: MQTT_FX_Client, topFilter: home/garden/fountain, QoS: 0
[DEBUG] 10:51:07.267 cn.wizzer.iot.mqtt.server.broker.protocol.Publish - PUBLISH - clientId: MQTT_FX_Client, topic: home/garden/fountain, Qos: 0, payload: testpayload
[DEBUG] 10:52:07.156 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 10:53:07.057 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 10:54:06.963 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 10:55:06.883 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 10:56:06.784 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 10:57:06.686 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 10:58:06.591 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 10:58:53.873 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 11:12:04.124 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:12:04.126 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 11:12:04.131 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 11:12:04.132 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 11:12:07.646 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 11:12:07.653 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 11:12:07.689 org.nutz.resource.Scans - Locations count=79 time use 29ms
[DEBUG] 11:12:07.693 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:12:07.693 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 11:12:07.695 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 11:12:07.787 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:12:07.788 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 11:12:07.788 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 11:12:07.824 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 11:12:07.826 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 11:12:07.827 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 11:12:07.840 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 11:12:07.869 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 11:12:07.878 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:12:07.890 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 11:12:07.891 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 11:12:07.894 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 11:12:07.894 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 11:12:07.898 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 11:12:07.901 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 11:12:07.901 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 11:12:07.902 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 11:12:07.904 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 11:12:07.909 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 11:12:07.911 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 11:12:07.911 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 11:12:07.912 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 11:12:07.913 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 11:12:07.913 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 11:12:07.914 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 11:12:07.914 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 11:12:07.914 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 11:12:07.915 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 11:12:07.915 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 11:12:07.915 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:12:07.916 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 11:12:07.916 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 11:12:07.917 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 11:12:07.918 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:12:07.927 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 11:12:07.930 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 11:12:07.930 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 11:12:07.931 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 11:12:07.935 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 11:12:07.956 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 11:12:07.957 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 11:12:07.958 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:12:07.960 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:12:07.960 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:12:07.961 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 11:12:07.961 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:12:07.961 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:12:07.962 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:12:07.971 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 11:12:07.982 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 11:12:07.989 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 11:12:07.989 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 11:12:07.990 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 11:12:07.990 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 11:12:07.990 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 11:12:07.994 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:12:07.994 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 11:12:07.995 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 11:12:07.995 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:12:07.996 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:12:07.996 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 11:12:07.997 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:12:07.997 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:12:08.015 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 11:12:08.045 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 11:12:08.046 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 11:12:08.046 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:12:08.046 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:12:08.046 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 11:12:08.046 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 11:12:08.048 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:12:08.053 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:12:08.053 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 11:12:08.053 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:12:08.053 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:12:08.053 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 11:12:08.054 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 11:12:08.055 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:12:08.055 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:12:08.055 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:12:08.056 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 11:12:08.056 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:12:08.056 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:12:08.056 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 11:12:08.056 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 11:12:08.057 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:12:08.057 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:12:08.057 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 11:12:08.057 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:12:08.058 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:12:08.058 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 11:12:08.058 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 11:12:08.059 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:12:08.059 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 11:12:08.085 org.eclipse.jetty.util.log - Logging initialized @1012ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 11:12:08.203 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:12:08.203 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 11:12:08.203 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:12:08.203 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:12:08.203 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 11:12:08.204 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 11:12:08.204 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:12:08.300 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:12:08.303 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:12:08.304 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 11:12:08.304 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:12:08.304 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:12:08.304 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 11:12:08.304 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 11:12:08.305 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:12:08.305 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 11:12:08.305 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:12:08.305 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:12:08.305 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 11:12:08.306 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 11:12:08.306 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:12:08.324 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 11:12:08.325 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 11:12:08.334 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 11:12:08.348 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 11:12:08.349 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 11:12:08.366 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 11:12:08.366 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 11:12:08.368 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 11:12:08.369 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 11:12:08.369 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 11:12:08.369 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 11:12:08.370 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 11:12:08.370 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 11:12:08.371 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 11:12:08.372 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 11:12:08.372 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 11:12:08.373 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 11:12:08.373 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 11:12:08.374 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 11:12:08.374 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 11:12:08.375 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 11:12:08.375 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 11:12:08.375 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 11:12:08.376 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 11:12:08.380 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 11:12:08.389 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 11:12:08.390 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 11:12:08.398 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 11:12:08.420 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 11:12:08.537 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 11:12:08.628 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 11:12:08.628 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 11:12:13.662 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 95345 (auto-detected)
[DEBUG] 11:12:13.665 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 11:12:13.665 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 11:12:13.668 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 11:12:13.669 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 11:12:13.673 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 11:12:13.684 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 11:12:13.685 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 11:12:13.711 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 11:12:13.711 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 11:12:13.712 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 11:12:13.712 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 11:12:13.712 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 11:12:13.712 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 11:12:13.712 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 11:12:13.712 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 11:12:13.712 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 11:12:13.712 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 11:12:13.712 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 11:12:13.713 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 11:12:13.723 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 11:12:13.723 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 11:12:13.723 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 11:12:13.737 io.netty.handler.logging.LoggingHandler - [id: 0x65ad5137] REGISTERED
[INFO ] 11:12:13.738 io.netty.handler.logging.LoggingHandler - [id: 0x65ad5137] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 11:12:13.742 io.netty.handler.logging.LoggingHandler - [id: 0xacfa6ad0] REGISTERED
[INFO ] 11:12:13.742 io.netty.handler.logging.LoggingHandler - [id: 0x65ad5137, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 11:12:13.742 io.netty.handler.logging.LoggingHandler - [id: 0xacfa6ad0] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 11:12:13.742 io.netty.handler.logging.LoggingHandler - [id: 0xacfa6ad0, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 11:12:13.742 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 11:12:13.744 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 11:12:13.824 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 11:12:13.829 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 11:12:13.839 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 11:12:13.839 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 11:12:13.841 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 11:12:13.855 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:12:13.855 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:12:13.856 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:12:13.856 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 11:12:13.856 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:12:13.856 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:12:13.856 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 11:12:13.857 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 11:12:13.857 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 11:12:13.859 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:12:13.861 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 11:12:13.861 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:12:13.861 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 11:12:13.861 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:12:13.861 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:12:13.861 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 11:12:13.862 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 11:12:13.863 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 11:12:13.864 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 11:12:13.866 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:12:13.866 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 11:12:13.869 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 11:12:13.872 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 11:12:13.873 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 11:12:13.874 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 11:12:13.874 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 11:12:13.874 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 11:12:13.874 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 11:12:13.874 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 11:12:13.875 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 11:12:13.875 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 11:12:13.875 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 11:12:13.875 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 11:12:13.875 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 11:12:13.875 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 11:12:13.875 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 11:12:13.875 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 11:12:13.875 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:12:13.876 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 11:12:13.876 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 11:12:13.878 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 11:12:13.880 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 11:12:13.883 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 11:12:13.890 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 11:12:13.897 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:12:13.907 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:12:13.912 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 11:12:13.912 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 11:12:13.917 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:12:13.920 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:12:13.921 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 11:12:13.924 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 11:12:13.928 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 11:12:13.933 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:12:13.933 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:12:13.934 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 11:12:13.934 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 11:12:13.935 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 11:12:13.937 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:12:13.937 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 11:12:13.938 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 11:12:13.939 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 63ms
[INFO ] 11:12:13.962 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@1a480135{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 11:12:13.976 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:12:13.977 org.eclipse.jetty.server.Server - Started @6904ms
[DEBUG] 11:12:13.977 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 11:12:13.977 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:12:13.977 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 11:12:13.978 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:12:13.978 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:12:13.978 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 11:12:13.978 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 11:12:13.978 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:12:13.978 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:12:13.979 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 11:12:13.979 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:12:13.979 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:12:13.979 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 11:12:14.004 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 11:12:14.011 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:12:14.011 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 11:12:14.011 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:12:14.011 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 11:12:14.011 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 11:12:14.011 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 11:12:14.012 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:12:14.012 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 11:12:14.012 org.nutz.boot.NbApp - mqttwk started : 6422ms
[INFO ] 11:28:41.798 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:28:41.800 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 11:28:41.803 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 11:28:41.803 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 11:28:45.358 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 11:28:45.367 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 11:28:45.412 org.nutz.resource.Scans - Locations count=79 time use 38ms
[DEBUG] 11:28:45.417 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:28:45.418 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 11:28:45.419 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 11:28:45.535 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:28:45.535 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 11:28:45.536 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 11:28:45.576 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 11:28:45.577 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 11:28:45.578 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 11:28:45.592 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 11:28:45.623 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 11:28:45.633 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:28:45.645 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 11:28:45.647 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 11:28:45.649 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 11:28:45.650 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 11:28:45.654 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 11:28:45.657 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 11:28:45.658 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 11:28:45.658 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 11:28:45.660 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 11:28:45.667 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 11:28:45.669 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 11:28:45.670 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 11:28:45.670 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 11:28:45.671 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 11:28:45.672 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 11:28:45.672 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 11:28:45.673 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 11:28:45.674 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 11:28:45.674 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 11:28:45.674 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 11:28:45.675 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:28:45.675 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 11:28:45.676 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 11:28:45.676 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 11:28:45.678 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:28:45.689 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 11:28:45.693 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 11:28:45.693 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 11:28:45.695 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 11:28:45.699 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 11:28:45.726 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 11:28:45.727 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 11:28:45.728 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:28:45.730 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:28:45.731 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:28:45.731 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 11:28:45.731 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:28:45.732 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:28:45.732 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:28:45.744 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 11:28:45.760 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 11:28:45.769 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 11:28:45.770 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 11:28:45.770 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 11:28:45.771 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 11:28:45.772 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 11:28:45.778 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:28:45.778 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 11:28:45.779 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 11:28:45.780 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:28:45.780 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:28:45.781 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 11:28:45.782 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:28:45.782 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:28:45.802 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 11:28:45.846 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 11:28:45.846 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 11:28:45.847 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:28:45.847 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:28:45.847 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 11:28:45.847 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 11:28:45.850 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:28:45.857 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:28:45.857 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 11:28:45.857 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:28:45.857 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:28:45.858 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 11:28:45.858 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 11:28:45.859 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:28:45.860 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:28:45.860 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:28:45.860 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 11:28:45.860 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:28:45.860 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:28:45.861 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 11:28:45.861 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 11:28:45.862 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:28:45.862 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:28:45.862 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 11:28:45.862 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:28:45.863 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:28:45.863 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 11:28:45.863 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 11:28:45.864 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:28:45.864 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 11:28:45.892 org.eclipse.jetty.util.log - Logging initialized @1097ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 11:28:46.026 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:28:46.026 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 11:28:46.026 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:28:46.026 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:28:46.027 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 11:28:46.027 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 11:28:46.027 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:28:46.121 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:28:46.124 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:28:46.125 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 11:28:46.125 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:28:46.125 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:28:46.125 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 11:28:46.125 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 11:28:46.126 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:28:46.126 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 11:28:46.126 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:28:46.126 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:28:46.126 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 11:28:46.126 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 11:28:46.127 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:28:46.146 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 11:28:46.146 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 11:28:46.157 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 11:28:46.174 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 11:28:46.175 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 11:28:46.192 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 11:28:46.192 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 11:28:46.194 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 11:28:46.194 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 11:28:46.195 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 11:28:46.195 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 11:28:46.196 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 11:28:46.197 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 11:28:46.198 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 11:28:46.199 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 11:28:46.199 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 11:28:46.201 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 11:28:46.201 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 11:28:46.201 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 11:28:46.202 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 11:28:46.203 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 11:28:46.204 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 11:28:46.205 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 11:28:46.205 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 11:28:46.211 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 11:28:46.221 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 11:28:46.221 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 11:28:46.229 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 11:28:46.251 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 11:28:46.288 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 11:28:46.427 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 11:28:46.427 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 11:28:51.465 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 97132 (auto-detected)
[DEBUG] 11:28:51.468 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 11:28:51.468 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 11:28:51.471 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 11:28:51.472 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 11:28:51.476 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 11:28:51.487 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 11:28:51.487 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 11:28:51.521 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 11:28:51.521 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 11:28:51.521 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 11:28:51.521 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 11:28:51.521 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 11:28:51.521 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 11:28:51.521 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 11:28:51.522 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 11:28:51.522 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 11:28:51.522 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 11:28:51.522 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 11:28:51.522 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 11:28:51.533 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 11:28:51.533 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 11:28:51.533 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 11:28:51.548 io.netty.handler.logging.LoggingHandler - [id: 0x57f43955] REGISTERED
[INFO ] 11:28:51.550 io.netty.handler.logging.LoggingHandler - [id: 0x57f43955] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 11:28:51.553 io.netty.handler.logging.LoggingHandler - [id: 0x35a33d8f] REGISTERED
[INFO ] 11:28:51.553 io.netty.handler.logging.LoggingHandler - [id: 0x57f43955, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 11:28:51.554 io.netty.handler.logging.LoggingHandler - [id: 0x35a33d8f] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 11:28:51.554 io.netty.handler.logging.LoggingHandler - [id: 0x35a33d8f, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 11:28:51.554 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 11:28:51.556 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 11:28:51.648 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 11:28:51.653 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 11:28:51.665 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 11:28:51.665 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 11:28:51.667 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 11:28:51.681 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:28:51.681 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:28:51.682 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:28:51.682 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 11:28:51.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:28:51.683 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:28:51.683 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 11:28:51.684 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 11:28:51.684 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 11:28:51.687 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:28:51.688 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 11:28:51.688 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:28:51.688 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 11:28:51.689 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:28:51.689 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:28:51.689 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 11:28:51.690 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 11:28:51.691 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 11:28:51.692 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 11:28:51.693 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:28:51.694 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 11:28:51.698 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 11:28:51.700 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 11:28:51.702 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 11:28:51.704 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 11:28:51.704 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 11:28:51.704 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 11:28:51.705 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 11:28:51.705 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 11:28:51.705 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 11:28:51.705 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 11:28:51.705 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 11:28:51.705 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 11:28:51.705 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 11:28:51.706 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 11:28:51.706 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 11:28:51.706 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 11:28:51.706 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:28:51.706 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 11:28:51.707 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 11:28:51.709 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 11:28:51.710 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 11:28:51.713 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 11:28:51.719 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 11:28:51.726 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:28:51.737 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:28:51.743 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 11:28:51.743 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 11:28:51.746 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:28:51.750 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:28:51.750 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 11:28:51.754 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 11:28:51.757 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 11:28:51.761 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:28:51.762 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:28:51.762 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 11:28:51.762 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 11:28:51.762 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 11:28:51.764 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:28:51.765 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 11:28:51.765 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 11:28:51.765 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 59ms
[INFO ] 11:28:51.786 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@3f93e4a8{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 11:28:51.798 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:28:51.799 org.eclipse.jetty.server.Server - Started @7003ms
[DEBUG] 11:28:51.799 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 11:28:51.799 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:28:51.799 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 11:28:51.800 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:28:51.800 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:28:51.800 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 11:28:51.800 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 11:28:51.800 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:28:51.800 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:28:51.801 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 11:28:51.801 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:28:51.801 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:28:51.801 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 11:28:51.826 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 11:28:51.833 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:28:51.833 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 11:28:51.833 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:28:51.833 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 11:28:51.834 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 11:28:51.834 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 11:28:51.834 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:28:51.834 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 11:28:51.835 org.nutz.boot.NbApp - mqttwk started : 6539ms
[INFO ] 11:29:32.006 io.netty.handler.logging.LoggingHandler - [id: 0x57f43955, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xe3bfb45a, L:/127.0.0.1:8885 - R:/127.0.0.1:64382]
[INFO ] 11:29:32.008 io.netty.handler.logging.LoggingHandler - [id: 0x57f43955, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 11:29:32.063 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 11:29:32.063 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 11:29:32.064 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.064 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 11:29:32.064 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 11:29:32.064 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 11:29:32.066 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 11:29:32.066 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 11:29:32.066 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.066 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 11:29:32.066 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 11:29:32.066 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 11:29:32.067 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 11:29:32.068 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 11:29:32.068 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.068 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 11:29:32.068 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 11:29:32.079 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:29:32.080 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 11:29:32.080 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 11:29:32.081 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.081 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 11:29:32.081 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 11:29:32.081 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 11:29:32.082 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 11:29:32.082 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 11:29:32.082 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.083 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 11:29:32.083 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 11:29:32.084 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:29:32.085 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:29:32.085 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 11:29:32.085 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 11:29:32.085 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.085 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 11:29:32.086 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 11:29:32.088 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:29:32.088 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:29:32.088 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:29:32.088 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 11:29:32.089 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.089 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:29:32.089 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 11:29:32.089 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 11:29:32.090 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:29:32.093 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 11:29:32.093 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 11:29:32.094 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:29:32.094 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 11:29:32.094 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 11:29:32.106 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 11:29:32.106 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 11:29:32.107 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:29:32.107 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 11:29:32.108 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 11:29:32.108 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 11:29:32.108 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.111 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.111 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.112 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.112 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.112 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.112 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.114 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 11:29:32.116 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 11:29:32.116 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.117 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.117 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.117 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.117 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:29:32.215 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 11:29:32.216 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@322769596
[DEBUG] 11:29:32.216 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@322769596
[DEBUG] 11:29:32.216 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@322769596
[DEBUG] 11:29:32.216 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@322769596
[DEBUG] 11:29:32.216 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@322769596
[DEBUG] 11:29:32.216 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:29:32.216 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.216 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.216 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.217 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.217 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.217 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.217 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.217 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.217 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.217 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.217 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.217 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.218 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.218 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.218 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.218 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.218 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.218 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 11:29:32.218 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 11:29:32.218 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.218 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 11:29:32.218 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 11:29:32.219 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 11:29:32.219 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 11:29:32.219 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 11:29:32.219 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.219 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 11:29:32.219 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 11:29:32.221 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:29:32.221 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:29:32.221 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:29:32.221 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 11:29:32.221 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 11:29:32.221 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.222 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 11:29:32.222 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 11:29:32.222 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 11:29:32.222 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:29:32.223 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 11:29:32.223 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 11:29:32.223 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.223 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 11:29:32.223 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 11:29:32.224 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:29:32.225 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:29:32.225 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 11:29:32.225 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 11:29:32.225 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.225 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 11:29:32.225 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 11:29:32.225 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 11:29:32.226 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:29:32.226 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 11:29:32.226 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 11:29:32.226 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.226 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 11:29:32.226 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 11:29:32.228 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:29:32.228 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:29:32.228 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 11:29:32.228 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 11:29:32.228 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.228 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 11:29:32.228 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 11:29:32.229 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 11:29:32.229 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:29:32.229 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 11:29:32.230 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 11:29:32.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.230 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 11:29:32.230 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 11:29:32.232 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 11:29:32.232 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 11:29:32.232 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.232 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 11:29:32.232 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 11:29:32.244 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 11:29:32.244 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 11:29:32.244 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 11:29:32.245 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:29:32.245 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 11:29:32.245 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 11:29:32.245 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.245 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 11:29:32.245 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 11:29:32.247 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 11:29:32.247 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 11:29:32.248 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:29:32.248 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 11:29:32.248 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 11:29:32.249 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 11:29:32.250 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:29:32.250 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:29:32.250 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 11:29:32.250 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 11:29:32.250 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.250 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 11:29:32.250 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 11:29:32.250 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 11:29:32.251 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:29:32.251 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 11:29:32.252 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 11:29:32.252 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 11:29:32.252 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:29:32.252 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 11:29:32.252 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.252 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:29:32.252 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 11:29:32.252 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 11:29:32.253 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:29:32.253 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 11:29:32.253 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:29:32.253 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 11:29:32.253 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 11:29:32.253 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 11:29:32.258 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:29:32.258 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:29:32.259 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:29:32.259 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:29:32.259 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:29:32.259 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:29:32.268 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 11:29:32.268 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 11:29:32.268 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 11:29:32.268 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 11:29:32.276 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 11:29:32.276 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 11:29:32.278 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@28b3d834
[WARN ] 11:29:32.358 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.chooseCipherSuite(ServerHello.java:460)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.produce(ServerHello.java:295)
	at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)
	at java.base/sun.security.ssl.ClientHello$T12ClientHelloConsumer.consume(ClientHello.java:1102)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:854)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 11:30:56.425 io.netty.handler.logging.LoggingHandler - [id: 0x57f43955, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x3d6019f4, L:/127.0.0.1:8885 - R:/127.0.0.1:64731]
[INFO ] 11:30:56.426 io.netty.handler.logging.LoggingHandler - [id: 0x57f43955, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 11:30:56.427 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 11:30:56.503 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.chooseCipherSuite(ServerHello.java:460)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.produce(ServerHello.java:295)
	at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)
	at java.base/sun.security.ssl.ClientHello$T12ClientHelloConsumer.consume(ClientHello.java:1102)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:854)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 11:47:05.743 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:47:05.743 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 11:47:05.744 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 11:47:05.745 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 11:47:08.907 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 11:47:08.914 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 11:47:08.948 org.nutz.resource.Scans - Locations count=79 time use 28ms
[DEBUG] 11:47:08.953 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:47:08.953 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 11:47:08.954 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 11:47:09.046 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:47:09.046 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 11:47:09.047 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 11:47:09.082 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 11:47:09.084 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 11:47:09.085 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 11:47:09.098 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 11:47:09.127 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 11:47:09.137 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:47:09.149 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 11:47:09.151 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 11:47:09.154 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 11:47:09.155 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 11:47:09.158 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 11:47:09.160 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 11:47:09.161 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 11:47:09.161 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 11:47:09.163 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 11:47:09.168 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 11:47:09.171 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 11:47:09.171 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 11:47:09.172 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 11:47:09.173 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 11:47:09.173 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 11:47:09.174 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 11:47:09.174 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 11:47:09.174 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 11:47:09.175 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 11:47:09.175 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 11:47:09.176 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:47:09.176 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 11:47:09.176 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 11:47:09.177 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 11:47:09.178 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:47:09.188 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 11:47:09.190 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 11:47:09.191 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 11:47:09.192 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 11:47:09.195 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 11:47:09.217 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 11:47:09.217 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 11:47:09.219 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:47:09.221 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:47:09.221 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:47:09.221 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 11:47:09.222 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:47:09.222 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:47:09.222 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:47:09.231 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 11:47:09.243 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 11:47:09.249 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 11:47:09.250 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 11:47:09.250 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 11:47:09.250 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 11:47:09.251 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 11:47:09.256 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:47:09.256 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 11:47:09.257 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 11:47:09.257 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:47:09.258 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:47:09.258 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 11:47:09.259 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:47:09.259 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:47:09.277 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 11:47:09.311 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 11:47:09.312 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 11:47:09.312 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:09.312 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:47:09.312 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 11:47:09.313 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 11:47:09.315 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:47:09.321 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:47:09.321 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 11:47:09.322 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:47:09.322 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:47:09.322 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 11:47:09.322 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 11:47:09.323 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:47:09.323 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:47:09.324 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:47:09.324 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 11:47:09.324 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:47:09.324 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:47:09.325 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 11:47:09.325 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 11:47:09.325 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:47:09.326 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:47:09.326 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 11:47:09.326 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:47:09.326 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:47:09.327 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 11:47:09.327 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 11:47:09.327 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:47:09.328 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 11:47:09.355 org.eclipse.jetty.util.log - Logging initialized @984ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 11:47:09.477 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:47:09.477 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 11:47:09.478 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:47:09.478 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:47:09.478 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 11:47:09.479 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 11:47:09.479 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:47:09.577 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:47:09.580 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:47:09.580 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 11:47:09.580 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:09.580 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:47:09.580 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 11:47:09.580 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 11:47:09.581 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:47:09.581 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 11:47:09.581 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:09.581 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:47:09.581 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 11:47:09.581 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 11:47:09.582 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:47:09.600 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 11:47:09.600 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 11:47:09.611 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 11:47:09.627 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 11:47:09.627 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 11:47:09.643 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 11:47:09.643 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 11:47:09.645 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 11:47:09.645 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 11:47:09.646 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 11:47:09.646 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 11:47:09.646 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 11:47:09.647 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 11:47:09.648 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 11:47:09.649 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 11:47:09.649 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 11:47:09.651 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 11:47:09.652 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 11:47:09.652 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 11:47:09.652 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 11:47:09.654 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 11:47:09.654 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 11:47:09.655 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 11:47:09.655 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 11:47:09.660 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 11:47:09.671 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 11:47:09.671 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 11:47:09.678 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 11:47:09.699 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 11:47:09.738 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 11:47:09.870 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 11:47:09.871 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 11:47:14.907 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 99629 (auto-detected)
[DEBUG] 11:47:14.910 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 11:47:14.910 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 11:47:14.913 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 11:47:14.914 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 11:47:14.917 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 11:47:14.927 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 11:47:14.928 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 11:47:14.953 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 11:47:14.954 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 11:47:14.954 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 11:47:14.954 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 11:47:14.954 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 11:47:14.954 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 11:47:14.955 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 11:47:14.955 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 11:47:14.955 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 11:47:14.955 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 11:47:14.955 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 11:47:14.955 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 11:47:14.965 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 11:47:14.966 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 11:47:14.966 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 11:47:14.980 io.netty.handler.logging.LoggingHandler - [id: 0x314bd4e0] REGISTERED
[INFO ] 11:47:14.981 io.netty.handler.logging.LoggingHandler - [id: 0x314bd4e0] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 11:47:14.985 io.netty.handler.logging.LoggingHandler - [id: 0x87f9ba1c] REGISTERED
[INFO ] 11:47:14.985 io.netty.handler.logging.LoggingHandler - [id: 0x314bd4e0, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 11:47:14.985 io.netty.handler.logging.LoggingHandler - [id: 0x87f9ba1c] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 11:47:14.986 io.netty.handler.logging.LoggingHandler - [id: 0x87f9ba1c, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 11:47:14.986 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 11:47:14.987 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 11:47:15.077 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 11:47:15.081 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 11:47:15.094 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 11:47:15.095 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 11:47:15.097 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 11:47:15.110 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:47:15.110 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:47:15.111 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:47:15.111 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 11:47:15.111 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:47:15.111 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:47:15.112 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 11:47:15.113 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 11:47:15.113 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 11:47:15.116 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:47:15.117 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 11:47:15.118 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:47:15.118 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 11:47:15.118 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:47:15.118 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:47:15.118 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 11:47:15.119 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 11:47:15.119 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 11:47:15.120 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 11:47:15.122 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:47:15.122 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 11:47:15.126 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 11:47:15.128 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 11:47:15.129 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 11:47:15.131 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 11:47:15.131 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 11:47:15.131 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 11:47:15.131 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 11:47:15.131 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 11:47:15.132 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 11:47:15.132 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 11:47:15.132 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 11:47:15.132 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 11:47:15.132 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 11:47:15.132 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 11:47:15.132 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 11:47:15.133 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 11:47:15.133 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:47:15.134 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 11:47:15.134 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 11:47:15.136 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 11:47:15.138 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 11:47:15.141 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 11:47:15.147 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 11:47:15.154 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:47:15.164 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:47:15.169 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 11:47:15.170 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 11:47:15.173 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:47:15.176 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:47:15.177 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 11:47:15.180 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 11:47:15.183 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 11:47:15.188 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:47:15.189 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:47:15.189 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 11:47:15.189 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 11:47:15.189 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 11:47:15.191 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:47:15.191 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 11:47:15.191 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 11:47:15.192 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 59ms
[INFO ] 11:47:15.214 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@6f89292e{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 11:47:15.227 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:47:15.228 org.eclipse.jetty.server.Server - Started @6858ms
[DEBUG] 11:47:15.228 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 11:47:15.228 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:47:15.228 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 11:47:15.229 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:15.229 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:47:15.229 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 11:47:15.229 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 11:47:15.229 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:47:15.230 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:47:15.230 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 11:47:15.230 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:47:15.230 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:47:15.230 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 11:47:15.254 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 11:47:15.261 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:47:15.261 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 11:47:15.261 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:47:15.261 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 11:47:15.261 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 11:47:15.261 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 11:47:15.262 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:15.262 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 11:47:15.262 org.nutz.boot.NbApp - mqttwk started : 6410ms
[INFO ] 11:47:26.112 io.netty.handler.logging.LoggingHandler - [id: 0x314bd4e0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xd246cd35, L:/127.0.0.1:8885 - R:/127.0.0.1:51970]
[INFO ] 11:47:26.113 io.netty.handler.logging.LoggingHandler - [id: 0x314bd4e0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 11:47:26.158 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 11:47:26.158 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 11:47:26.158 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.159 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 11:47:26.159 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 11:47:26.159 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 11:47:26.160 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 11:47:26.160 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 11:47:26.160 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.161 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 11:47:26.161 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 11:47:26.161 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 11:47:26.162 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 11:47:26.162 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 11:47:26.162 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.163 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 11:47:26.163 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 11:47:26.175 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:47:26.175 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 11:47:26.176 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 11:47:26.176 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.176 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 11:47:26.176 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 11:47:26.176 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 11:47:26.177 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 11:47:26.177 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 11:47:26.177 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.177 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 11:47:26.177 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 11:47:26.179 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:47:26.179 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:47:26.180 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 11:47:26.180 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 11:47:26.180 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.180 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 11:47:26.180 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 11:47:26.184 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:47:26.184 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:47:26.185 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:47:26.185 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 11:47:26.185 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.185 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:47:26.185 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 11:47:26.186 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 11:47:26.187 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:47:26.190 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 11:47:26.190 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 11:47:26.190 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:47:26.191 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 11:47:26.191 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 11:47:26.197 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 11:47:26.198 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 11:47:26.199 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:47:26.199 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 11:47:26.199 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 11:47:26.200 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 11:47:26.200 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.202 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.202 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.202 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.202 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.202 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.202 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.204 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 11:47:26.205 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 11:47:26.205 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.205 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.206 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.206 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.206 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:47:26.298 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 11:47:26.298 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@997925581
[DEBUG] 11:47:26.299 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@997925581
[DEBUG] 11:47:26.299 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@997925581
[DEBUG] 11:47:26.299 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@997925581
[DEBUG] 11:47:26.300 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@997925581
[DEBUG] 11:47:26.300 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:47:26.300 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.300 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.301 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.301 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.301 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.301 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.301 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.301 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.302 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.302 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.302 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.302 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.302 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.302 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.302 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.302 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.302 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.302 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 11:47:26.303 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 11:47:26.303 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.303 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 11:47:26.303 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 11:47:26.303 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 11:47:26.303 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 11:47:26.303 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 11:47:26.304 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.304 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 11:47:26.304 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 11:47:26.306 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:47:26.306 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:47:26.306 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:47:26.307 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 11:47:26.307 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 11:47:26.307 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.307 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 11:47:26.307 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 11:47:26.307 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 11:47:26.308 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:47:26.308 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 11:47:26.308 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 11:47:26.308 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.308 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 11:47:26.308 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 11:47:26.310 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:47:26.310 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:47:26.310 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 11:47:26.310 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 11:47:26.310 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.310 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 11:47:26.310 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 11:47:26.311 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 11:47:26.311 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:47:26.311 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 11:47:26.311 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 11:47:26.311 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.311 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 11:47:26.311 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 11:47:26.313 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:47:26.313 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:47:26.313 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 11:47:26.313 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 11:47:26.313 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.313 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 11:47:26.314 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 11:47:26.314 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 11:47:26.315 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:47:26.315 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 11:47:26.315 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 11:47:26.316 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.316 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 11:47:26.316 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 11:47:26.318 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 11:47:26.319 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 11:47:26.319 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.319 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 11:47:26.319 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 11:47:26.331 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 11:47:26.332 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 11:47:26.339 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 11:47:26.339 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:47:26.339 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 11:47:26.340 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 11:47:26.340 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.340 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 11:47:26.340 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 11:47:26.341 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 11:47:26.342 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 11:47:26.342 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:47:26.342 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 11:47:26.342 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 11:47:26.343 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 11:47:26.343 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:47:26.344 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:47:26.344 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 11:47:26.344 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 11:47:26.344 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.345 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 11:47:26.345 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 11:47:26.345 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 11:47:26.346 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:47:26.346 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 11:47:26.346 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 11:47:26.346 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 11:47:26.346 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:47:26.347 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 11:47:26.347 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.347 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:47:26.347 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 11:47:26.347 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 11:47:26.347 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:47:26.347 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 11:47:26.348 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:47:26.348 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 11:47:26.348 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 11:47:26.348 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 11:47:26.352 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:47:26.352 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:47:26.353 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:47:26.353 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:47:26.353 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:47:26.353 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:47:26.358 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 11:47:26.358 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 11:47:26.358 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 11:47:26.358 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 11:47:26.366 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 11:47:26.366 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 11:47:26.367 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@1b9c2d0c
[WARN ] 11:47:26.438 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.chooseCipherSuite(ServerHello.java:460)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.produce(ServerHello.java:295)
	at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)
	at java.base/sun.security.ssl.ClientHello$T12ClientHelloConsumer.consume(ClientHello.java:1102)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:854)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 11:47:53.374 io.netty.handler.logging.LoggingHandler - [id: 0x314bd4e0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x98ceb766, L:/127.0.0.1:8885 - R:/127.0.0.1:52057]
[INFO ] 11:47:53.375 io.netty.handler.logging.LoggingHandler - [id: 0x314bd4e0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 11:47:53.376 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 11:47:53.429 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.chooseCipherSuite(ServerHello.java:460)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.produce(ServerHello.java:295)
	at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)
	at java.base/sun.security.ssl.ClientHello$T12ClientHelloConsumer.consume(ClientHello.java:1102)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:854)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 11:47:56.623 io.netty.handler.logging.LoggingHandler - [id: 0x314bd4e0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x0e4aa223, L:/127.0.0.1:8885 - R:/127.0.0.1:52082]
[INFO ] 11:47:56.624 io.netty.handler.logging.LoggingHandler - [id: 0x314bd4e0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 11:47:56.624 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 11:47:56.671 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.chooseCipherSuite(ServerHello.java:460)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.produce(ServerHello.java:295)
	at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)
	at java.base/sun.security.ssl.ClientHello$T12ClientHelloConsumer.consume(ClientHello.java:1102)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:854)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 11:48:51.347 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:48:51.347 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 11:48:51.349 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 11:48:51.349 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 11:48:54.530 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 11:48:54.536 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 11:48:54.573 org.nutz.resource.Scans - Locations count=79 time use 30ms
[DEBUG] 11:48:54.577 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:48:54.577 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 11:48:54.579 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 11:48:54.692 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:48:54.693 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 11:48:54.693 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 11:48:54.736 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 11:48:54.738 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 11:48:54.739 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 11:48:54.754 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 11:48:54.786 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 11:48:54.797 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:48:54.809 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 11:48:54.811 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 11:48:54.814 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 11:48:54.815 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 11:48:54.818 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 11:48:54.821 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 11:48:54.822 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 11:48:54.822 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 11:48:54.824 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 11:48:54.830 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 11:48:54.832 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 11:48:54.833 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 11:48:54.833 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 11:48:54.834 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 11:48:54.835 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 11:48:54.835 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 11:48:54.836 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 11:48:54.836 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 11:48:54.836 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 11:48:54.837 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 11:48:54.837 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:48:54.838 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 11:48:54.838 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 11:48:54.839 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 11:48:54.840 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:48:54.850 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 11:48:54.853 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 11:48:54.853 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 11:48:54.854 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 11:48:54.858 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 11:48:54.882 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 11:48:54.882 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 11:48:54.884 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:48:54.886 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:48:54.886 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:48:54.886 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 11:48:54.887 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:48:54.887 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:48:54.888 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:48:54.898 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 11:48:54.912 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 11:48:54.920 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 11:48:54.921 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 11:48:54.921 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 11:48:54.921 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 11:48:54.922 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 11:48:54.926 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:48:54.926 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 11:48:54.927 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 11:48:54.928 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:48:54.929 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:48:54.930 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 11:48:54.930 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:48:54.931 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:48:54.949 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 11:48:54.983 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 11:48:54.983 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 11:48:54.984 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:48:54.984 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:48:54.984 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 11:48:54.984 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 11:48:54.987 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:48:54.991 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:48:54.991 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 11:48:54.992 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:48:54.992 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:48:54.992 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 11:48:54.992 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 11:48:54.993 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:48:54.994 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:48:54.994 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:48:54.994 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 11:48:54.995 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:48:54.995 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:48:54.995 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 11:48:54.996 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 11:48:54.996 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:48:54.996 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:48:54.996 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 11:48:54.996 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:48:54.997 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:48:54.997 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 11:48:54.997 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 11:48:54.998 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:48:54.998 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 11:48:55.026 org.eclipse.jetty.util.log - Logging initialized @1034ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 11:48:55.162 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:48:55.163 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 11:48:55.163 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:48:55.163 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:48:55.163 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 11:48:55.163 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 11:48:55.164 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:48:55.262 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:48:55.266 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:48:55.266 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 11:48:55.266 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:48:55.267 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:48:55.267 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 11:48:55.267 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 11:48:55.268 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:48:55.268 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 11:48:55.268 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:48:55.269 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:48:55.269 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 11:48:55.269 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 11:48:55.270 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:48:55.291 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 11:48:55.292 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 11:48:55.303 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 11:48:55.319 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 11:48:55.320 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 11:48:55.336 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 11:48:55.337 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 11:48:55.338 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 11:48:55.339 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 11:48:55.339 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 11:48:55.340 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 11:48:55.340 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 11:48:55.341 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 11:48:55.342 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 11:48:55.343 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 11:48:55.344 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 11:48:55.345 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 11:48:55.346 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 11:48:55.346 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 11:48:55.346 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 11:48:55.347 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 11:48:55.347 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 11:48:55.348 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 11:48:55.348 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 11:48:55.353 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 11:48:55.363 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 11:48:55.363 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 11:48:55.370 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 11:48:55.392 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 11:48:55.434 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 11:48:55.568 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 11:48:55.568 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 11:49:00.603 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 99753 (auto-detected)
[DEBUG] 11:49:00.605 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 11:49:00.605 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 11:49:00.609 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 11:49:00.610 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 11:49:00.613 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 11:49:00.624 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 11:49:00.624 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 11:49:00.651 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 11:49:00.651 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 11:49:00.651 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 11:49:00.651 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 11:49:00.651 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 11:49:00.651 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 11:49:00.651 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 11:49:00.652 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 11:49:00.652 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 11:49:00.652 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 11:49:00.652 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 11:49:00.652 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 11:49:00.669 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 11:49:00.670 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 11:49:00.670 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 11:49:00.684 io.netty.handler.logging.LoggingHandler - [id: 0x383355c5] REGISTERED
[INFO ] 11:49:00.686 io.netty.handler.logging.LoggingHandler - [id: 0x383355c5] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 11:49:00.689 io.netty.handler.logging.LoggingHandler - [id: 0x4266495a] REGISTERED
[INFO ] 11:49:00.689 io.netty.handler.logging.LoggingHandler - [id: 0x383355c5, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 11:49:00.689 io.netty.handler.logging.LoggingHandler - [id: 0x4266495a] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 11:49:00.690 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 11:49:00.690 io.netty.handler.logging.LoggingHandler - [id: 0x4266495a, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 11:49:00.691 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 11:49:00.770 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 11:49:00.775 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 11:49:00.786 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 11:49:00.787 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 11:49:00.788 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 11:49:00.800 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:49:00.801 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:49:00.802 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:49:00.802 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 11:49:00.802 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:49:00.802 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:49:00.802 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 11:49:00.803 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 11:49:00.803 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 11:49:00.805 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:49:00.806 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 11:49:00.807 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:49:00.807 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 11:49:00.807 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:49:00.807 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:49:00.807 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 11:49:00.808 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 11:49:00.808 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 11:49:00.809 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 11:49:00.811 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:49:00.811 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 11:49:00.815 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 11:49:00.817 org.nutz.resource.Scans - Locations count=80 time use 0ms
[DEBUG] 11:49:00.818 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 11:49:00.820 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 11:49:00.820 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 11:49:00.820 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 11:49:00.820 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 11:49:00.820 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 11:49:00.820 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 11:49:00.820 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 11:49:00.820 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 11:49:00.821 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 11:49:00.821 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 11:49:00.821 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 11:49:00.821 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 11:49:00.821 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 11:49:00.821 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:49:00.822 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 11:49:00.822 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 11:49:00.824 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 11:49:00.825 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 11:49:00.828 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 11:49:00.834 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 11:49:00.841 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:49:00.852 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:49:00.857 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 11:49:00.857 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 11:49:00.862 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:49:00.865 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:49:00.866 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 11:49:00.869 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 11:49:00.870 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 11:49:00.875 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:49:00.876 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:49:00.877 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 11:49:00.877 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 11:49:00.877 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 11:49:00.879 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:49:00.879 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 11:49:00.880 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 11:49:00.880 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 59ms
[INFO ] 11:49:00.900 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@58e85c6f{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 11:49:00.913 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:49:00.913 org.eclipse.jetty.server.Server - Started @6921ms
[DEBUG] 11:49:00.913 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 11:49:00.914 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:49:00.914 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 11:49:00.914 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:00.914 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:49:00.914 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 11:49:00.914 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 11:49:00.915 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:49:00.915 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:49:00.915 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 11:49:00.915 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:49:00.915 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:49:00.915 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 11:49:00.939 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 11:49:00.946 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:49:00.946 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 11:49:00.946 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:49:00.946 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 11:49:00.946 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 11:49:00.946 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 11:49:00.947 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:00.947 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 11:49:00.947 org.nutz.boot.NbApp - mqttwk started : 6472ms
[INFO ] 11:49:10.716 io.netty.handler.logging.LoggingHandler - [id: 0x383355c5, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xa5939341, L:/127.0.0.1:8885 - R:/127.0.0.1:52307]
[INFO ] 11:49:10.717 io.netty.handler.logging.LoggingHandler - [id: 0x383355c5, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 11:49:10.759 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 11:49:10.760 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 11:49:10.760 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.760 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 11:49:10.761 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 11:49:10.761 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 11:49:10.762 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 11:49:10.762 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 11:49:10.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.763 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 11:49:10.763 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 11:49:10.763 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 11:49:10.764 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 11:49:10.765 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 11:49:10.765 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.765 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 11:49:10.765 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 11:49:10.775 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:49:10.775 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 11:49:10.776 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 11:49:10.776 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.776 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 11:49:10.776 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 11:49:10.776 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 11:49:10.777 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 11:49:10.777 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 11:49:10.777 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.778 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 11:49:10.778 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 11:49:10.780 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:49:10.780 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:49:10.780 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 11:49:10.781 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 11:49:10.781 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.781 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 11:49:10.781 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 11:49:10.784 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:49:10.784 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:49:10.784 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:49:10.784 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 11:49:10.784 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.785 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:49:10.785 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 11:49:10.785 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 11:49:10.786 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:49:10.789 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 11:49:10.789 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 11:49:10.789 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:49:10.789 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 11:49:10.789 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 11:49:10.796 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 11:49:10.796 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 11:49:10.796 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:49:10.797 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 11:49:10.797 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 11:49:10.797 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 11:49:10.797 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.799 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.799 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.799 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.799 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.800 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.800 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.802 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 11:49:10.803 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 11:49:10.803 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.803 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.803 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.804 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.804 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:49:10.892 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 11:49:10.893 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@962109139
[DEBUG] 11:49:10.893 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@962109139
[DEBUG] 11:49:10.893 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@962109139
[DEBUG] 11:49:10.893 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@962109139
[DEBUG] 11:49:10.894 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@962109139
[DEBUG] 11:49:10.894 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:49:10.894 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.894 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.894 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.894 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.894 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.894 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.895 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.896 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.896 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 11:49:10.896 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 11:49:10.896 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.896 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 11:49:10.896 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 11:49:10.896 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 11:49:10.896 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 11:49:10.897 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 11:49:10.897 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.897 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 11:49:10.897 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 11:49:10.899 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:49:10.899 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:49:10.899 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:49:10.899 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 11:49:10.899 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 11:49:10.899 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.899 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 11:49:10.899 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 11:49:10.900 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 11:49:10.900 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:49:10.900 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 11:49:10.900 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 11:49:10.900 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.900 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 11:49:10.901 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 11:49:10.902 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:49:10.902 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:49:10.902 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 11:49:10.902 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 11:49:10.903 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.903 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 11:49:10.903 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 11:49:10.903 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 11:49:10.903 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:49:10.904 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 11:49:10.904 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 11:49:10.904 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.904 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 11:49:10.904 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 11:49:10.906 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:49:10.906 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:49:10.906 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 11:49:10.906 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 11:49:10.906 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.906 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 11:49:10.906 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 11:49:10.906 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 11:49:10.907 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:49:10.907 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 11:49:10.907 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 11:49:10.907 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.907 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 11:49:10.907 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 11:49:10.909 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 11:49:10.909 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 11:49:10.909 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.909 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 11:49:10.909 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 11:49:10.920 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 11:49:10.920 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 11:49:10.921 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 11:49:10.921 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:49:10.921 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 11:49:10.921 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 11:49:10.921 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.921 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 11:49:10.921 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 11:49:10.923 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 11:49:10.923 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 11:49:10.923 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:49:10.923 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 11:49:10.923 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 11:49:10.924 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 11:49:10.924 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:49:10.925 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:49:10.925 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 11:49:10.925 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 11:49:10.925 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.925 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 11:49:10.925 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 11:49:10.925 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 11:49:10.926 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:49:10.926 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 11:49:10.926 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 11:49:10.926 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 11:49:10.926 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:49:10.926 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 11:49:10.926 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.926 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:49:10.927 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 11:49:10.927 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 11:49:10.927 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:49:10.927 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 11:49:10.927 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:49:10.927 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 11:49:10.927 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 11:49:10.928 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 11:49:10.931 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:49:10.931 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:49:10.932 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:49:10.932 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:49:10.933 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:49:10.933 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:49:10.938 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 11:49:10.938 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 11:49:10.938 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 11:49:10.939 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 11:49:10.945 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 11:49:10.945 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 11:49:10.947 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@5d9fa882
[WARN ] 11:49:11.018 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: no cipher suites in common
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.chooseCipherSuite(ServerHello.java:460)
	at java.base/sun.security.ssl.ServerHello$T12ServerHelloProducer.produce(ServerHello.java:295)
	at java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)
	at java.base/sun.security.ssl.ClientHello$T12ClientHelloConsumer.consume(ClientHello.java:1102)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.onClientHello(ClientHello.java:854)
	at java.base/sun.security.ssl.ClientHello$ClientHelloConsumer.consume(ClientHello.java:813)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 11:49:58.445 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:49:58.445 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 11:49:58.446 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 11:49:58.447 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 11:50:01.464 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 11:50:01.470 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 11:50:01.505 org.nutz.resource.Scans - Locations count=79 time use 27ms
[DEBUG] 11:50:01.508 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:50:01.508 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 11:50:01.510 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 11:50:01.601 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:50:01.601 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 11:50:01.602 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 11:50:01.637 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 11:50:01.638 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 11:50:01.639 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 11:50:01.651 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 11:50:01.684 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 11:50:01.694 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:50:01.706 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 11:50:01.708 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 11:50:01.712 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 11:50:01.713 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 11:50:01.716 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 11:50:01.719 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 11:50:01.720 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 11:50:01.721 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 11:50:01.723 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 11:50:01.728 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 11:50:01.730 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 11:50:01.731 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 11:50:01.731 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 11:50:01.732 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 11:50:01.732 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 11:50:01.733 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 11:50:01.733 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 11:50:01.734 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 11:50:01.734 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 11:50:01.735 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 11:50:01.735 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:50:01.735 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 11:50:01.736 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 11:50:01.736 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 11:50:01.737 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:50:01.751 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 11:50:01.754 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 11:50:01.754 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 11:50:01.755 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 11:50:01.758 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 11:50:01.782 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 11:50:01.782 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 11:50:01.784 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:50:01.786 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:50:01.786 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:50:01.786 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 11:50:01.786 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:50:01.787 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:50:01.787 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:50:01.797 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 11:50:01.809 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 11:50:01.817 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 11:50:01.818 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 11:50:01.818 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 11:50:01.818 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 11:50:01.819 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 11:50:01.823 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:50:01.823 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 11:50:01.824 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 11:50:01.824 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:50:01.825 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:50:01.825 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 11:50:01.826 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:50:01.826 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:50:01.842 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 11:50:01.875 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 11:50:01.875 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 11:50:01.876 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:50:01.876 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:50:01.876 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 11:50:01.877 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 11:50:01.879 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:01.884 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:50:01.884 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 11:50:01.884 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:01.884 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:50:01.885 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 11:50:01.885 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 11:50:01.886 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:01.886 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:50:01.886 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:50:01.887 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 11:50:01.887 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:01.887 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:50:01.887 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 11:50:01.887 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 11:50:01.888 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:01.888 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:50:01.888 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 11:50:01.888 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:01.888 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:50:01.889 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 11:50:01.889 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 11:50:01.889 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:01.889 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 11:50:01.915 org.eclipse.jetty.util.log - Logging initialized @964ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 11:50:02.041 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:50:02.041 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 11:50:02.041 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:02.041 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:50:02.042 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 11:50:02.042 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 11:50:02.043 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:50:02.148 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:50:02.151 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:50:02.151 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 11:50:02.151 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:50:02.152 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:50:02.152 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 11:50:02.152 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 11:50:02.153 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:50:02.153 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 11:50:02.153 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:50:02.153 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:50:02.153 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 11:50:02.154 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 11:50:02.154 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:02.175 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 11:50:02.175 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 11:50:02.185 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 11:50:02.199 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 11:50:02.199 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 11:50:02.217 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 11:50:02.217 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 11:50:02.219 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 11:50:02.220 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 11:50:02.220 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 11:50:02.221 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 11:50:02.221 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 11:50:02.222 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 11:50:02.223 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 11:50:02.224 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 11:50:02.225 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 11:50:02.226 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 11:50:02.227 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 11:50:02.227 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 11:50:02.227 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 11:50:02.229 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 11:50:02.229 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 11:50:02.230 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 11:50:02.230 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 11:50:02.235 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 11:50:02.244 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 11:50:02.245 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 11:50:02.252 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 11:50:02.273 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 11:50:02.273 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream null
[DEBUG] 11:50:02.317 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 11:50:02.454 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 11:50:02.454 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 11:50:02.488 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 99807 (auto-detected)
[DEBUG] 11:50:02.490 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 11:50:02.490 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 11:50:02.494 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 11:50:02.495 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 11:50:02.498 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 11:50:02.508 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 11:50:02.508 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 11:50:02.543 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 11:50:02.543 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 11:50:02.544 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 11:50:02.544 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 11:50:02.544 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 11:50:02.544 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 11:50:02.544 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 11:50:02.544 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 11:50:02.544 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 11:50:02.544 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 11:50:02.544 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 11:50:02.544 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 11:50:02.555 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 11:50:02.555 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 11:50:02.555 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 11:50:02.569 io.netty.handler.logging.LoggingHandler - [id: 0x9ac7fb54] REGISTERED
[INFO ] 11:50:02.571 io.netty.handler.logging.LoggingHandler - [id: 0x9ac7fb54] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 11:50:02.574 io.netty.handler.logging.LoggingHandler - [id: 0x377032eb] REGISTERED
[INFO ] 11:50:02.574 io.netty.handler.logging.LoggingHandler - [id: 0x9ac7fb54, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 11:50:02.575 io.netty.handler.logging.LoggingHandler - [id: 0x377032eb] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 11:50:02.575 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 11:50:02.575 io.netty.handler.logging.LoggingHandler - [id: 0x377032eb, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 11:50:02.577 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 11:50:02.655 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 11:50:02.661 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 11:50:02.672 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 11:50:02.672 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 11:50:02.674 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 11:50:02.686 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:50:02.686 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:50:02.687 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:50:02.687 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 11:50:02.687 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:02.687 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:50:02.688 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 11:50:02.689 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 11:50:02.689 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 11:50:02.691 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:50:02.692 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 11:50:02.692 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:50:02.692 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 11:50:02.693 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:02.693 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:50:02.693 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 11:50:02.694 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 11:50:02.694 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 11:50:02.695 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 11:50:02.696 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:50:02.696 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 11:50:02.699 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 11:50:02.701 org.nutz.resource.Scans - Locations count=80 time use 0ms
[DEBUG] 11:50:02.702 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 11:50:02.704 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 11:50:02.704 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 11:50:02.704 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 11:50:02.704 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 11:50:02.704 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 11:50:02.704 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 11:50:02.705 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 11:50:02.705 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 11:50:02.705 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 11:50:02.705 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 11:50:02.705 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 11:50:02.705 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 11:50:02.705 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 11:50:02.705 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:50:02.706 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 11:50:02.706 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 11:50:02.708 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 11:50:02.709 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 11:50:02.712 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 11:50:02.717 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 11:50:02.723 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:50:02.732 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:50:02.737 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 11:50:02.737 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 11:50:02.740 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:50:02.743 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:50:02.743 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 11:50:02.746 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 11:50:02.748 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 11:50:02.752 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:50:02.753 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:50:02.753 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 11:50:02.753 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 11:50:02.753 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 11:50:02.755 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:50:02.755 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 11:50:02.755 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 11:50:02.756 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 50ms
[INFO ] 11:50:02.775 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@62628e78{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 11:50:02.787 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:50:02.787 org.eclipse.jetty.server.Server - Started @1836ms
[DEBUG] 11:50:02.788 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 11:50:02.788 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:50:02.788 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 11:50:02.788 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:50:02.788 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:50:02.788 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 11:50:02.788 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 11:50:02.789 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:02.789 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:50:02.789 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 11:50:02.789 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:50:02.789 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:50:02.790 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 11:50:02.813 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 11:50:02.819 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:50:02.819 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 11:50:02.819 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:50:02.819 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 11:50:02.819 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 11:50:02.819 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 11:50:02.819 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:50:02.820 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 11:50:02.820 org.nutz.boot.NbApp - mqttwk started : 1408ms
[INFO ] 11:50:28.003 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:50:28.003 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 11:50:28.005 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 11:50:28.006 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 11:50:30.910 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 11:50:30.916 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 11:50:30.950 org.nutz.resource.Scans - Locations count=79 time use 28ms
[DEBUG] 11:50:30.953 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:50:30.954 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 11:50:30.955 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 11:50:31.045 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:50:31.045 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 11:50:31.046 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 11:50:31.082 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 11:50:31.084 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 11:50:31.084 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 11:50:31.097 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 11:50:31.130 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 11:50:31.141 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:50:31.153 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 11:50:31.155 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 11:50:31.158 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 11:50:31.160 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 11:50:31.163 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 11:50:31.166 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 11:50:31.167 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 11:50:31.167 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 11:50:31.170 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 11:50:31.176 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 11:50:31.178 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 11:50:31.179 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 11:50:31.179 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 11:50:31.180 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 11:50:31.181 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 11:50:31.181 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 11:50:31.182 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 11:50:31.182 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 11:50:31.183 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 11:50:31.183 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 11:50:31.184 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:50:31.184 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 11:50:31.185 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 11:50:31.185 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 11:50:31.186 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:50:31.196 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 11:50:31.198 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 11:50:31.198 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 11:50:31.200 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 11:50:31.203 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 11:50:31.225 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 11:50:31.226 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 11:50:31.228 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:50:31.229 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:50:31.230 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:50:31.230 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 11:50:31.230 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:50:31.231 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:50:31.231 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:50:31.241 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 11:50:31.252 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 11:50:31.259 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 11:50:31.259 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 11:50:31.260 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 11:50:31.260 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 11:50:31.261 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 11:50:31.265 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:50:31.265 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 11:50:31.266 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 11:50:31.266 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:50:31.267 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:50:31.267 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 11:50:31.268 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:50:31.268 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:50:31.285 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 11:50:31.318 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 11:50:31.318 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 11:50:31.318 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:50:31.318 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:50:31.319 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 11:50:31.319 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 11:50:31.321 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:31.326 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:50:31.326 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 11:50:31.326 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:31.326 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:50:31.327 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 11:50:31.327 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 11:50:31.329 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:31.329 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:50:31.329 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:50:31.329 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 11:50:31.329 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:31.330 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:50:31.330 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 11:50:31.330 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 11:50:31.330 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:31.331 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:50:31.331 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 11:50:31.331 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:31.331 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:50:31.331 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 11:50:31.331 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 11:50:31.332 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:31.332 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 11:50:31.357 org.eclipse.jetty.util.log - Logging initialized @962ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 11:50:31.479 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:50:31.480 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 11:50:31.480 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:31.480 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:50:31.480 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 11:50:31.480 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 11:50:31.481 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:50:31.580 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:50:31.583 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:50:31.583 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 11:50:31.583 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:50:31.583 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:50:31.583 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 11:50:31.584 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 11:50:31.584 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:50:31.584 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 11:50:31.585 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:50:31.585 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:50:31.585 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 11:50:31.585 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 11:50:31.585 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:31.607 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 11:50:31.607 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 11:50:31.619 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 11:50:31.635 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 11:50:31.635 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 11:50:31.651 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 11:50:31.651 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 11:50:31.652 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 11:50:31.653 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 11:50:31.654 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 11:50:31.654 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 11:50:31.655 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 11:50:31.656 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 11:50:31.657 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 11:50:31.658 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 11:50:31.659 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 11:50:31.660 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 11:50:31.661 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 11:50:31.661 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 11:50:31.661 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 11:50:31.662 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 11:50:31.663 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 11:50:31.663 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 11:50:31.664 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 11:50:31.668 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 11:50:31.678 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 11:50:31.678 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 11:50:31.684 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 11:50:31.701 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 11:50:31.702 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@27f0ad19
[DEBUG] 11:50:31.810 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 11:50:31.911 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 11:50:31.911 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 11:50:36.945 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 99830 (auto-detected)
[DEBUG] 11:50:36.947 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 11:50:36.947 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 11:50:36.951 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 11:50:36.952 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 11:50:36.955 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 11:50:36.965 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 11:50:36.966 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 11:50:36.990 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 11:50:36.990 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 11:50:36.990 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 11:50:36.990 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 11:50:36.990 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 11:50:36.991 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 11:50:36.991 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 11:50:36.991 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 11:50:36.991 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 11:50:36.991 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 11:50:36.991 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 11:50:36.991 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 11:50:37.001 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 11:50:37.002 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 11:50:37.002 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 11:50:37.016 io.netty.handler.logging.LoggingHandler - [id: 0x889d04ac] REGISTERED
[INFO ] 11:50:37.017 io.netty.handler.logging.LoggingHandler - [id: 0x889d04ac] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 11:50:37.021 io.netty.handler.logging.LoggingHandler - [id: 0x295c0f32] REGISTERED
[INFO ] 11:50:37.021 io.netty.handler.logging.LoggingHandler - [id: 0x889d04ac, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 11:50:37.021 io.netty.handler.logging.LoggingHandler - [id: 0x295c0f32] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 11:50:37.021 io.netty.handler.logging.LoggingHandler - [id: 0x295c0f32, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 11:50:37.021 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 11:50:37.023 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 11:50:37.117 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 11:50:37.121 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 11:50:37.134 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 11:50:37.135 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 11:50:37.137 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 11:50:37.150 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:50:37.151 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:50:37.151 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:50:37.152 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 11:50:37.152 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:37.152 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:50:37.152 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 11:50:37.154 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 11:50:37.154 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 11:50:37.157 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:50:37.159 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 11:50:37.159 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:50:37.159 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 11:50:37.160 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:50:37.160 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:50:37.160 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 11:50:37.161 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 11:50:37.161 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 11:50:37.162 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 11:50:37.164 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:50:37.164 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 11:50:37.167 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 11:50:37.170 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 11:50:37.170 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 11:50:37.172 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 11:50:37.172 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 11:50:37.172 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 11:50:37.172 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 11:50:37.172 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 11:50:37.173 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 11:50:37.173 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 11:50:37.173 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 11:50:37.173 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 11:50:37.173 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 11:50:37.173 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 11:50:37.173 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 11:50:37.173 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 11:50:37.173 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:50:37.174 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 11:50:37.174 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 11:50:37.176 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 11:50:37.178 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 11:50:37.181 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 11:50:37.186 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 11:50:37.193 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:50:37.202 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:50:37.206 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 11:50:37.206 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 11:50:37.209 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:50:37.212 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:50:37.213 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 11:50:37.216 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 11:50:37.218 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 11:50:37.222 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:50:37.223 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:50:37.223 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 11:50:37.223 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 11:50:37.223 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 11:50:37.225 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:50:37.225 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 11:50:37.225 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 11:50:37.226 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 51ms
[INFO ] 11:50:37.245 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@bd1111a{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 11:50:37.256 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:50:37.257 org.eclipse.jetty.server.Server - Started @6862ms
[DEBUG] 11:50:37.257 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 11:50:37.257 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:50:37.257 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 11:50:37.257 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:50:37.257 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:50:37.258 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 11:50:37.258 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 11:50:37.258 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:50:37.258 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:50:37.258 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 11:50:37.259 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:50:37.259 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:50:37.259 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 11:50:37.283 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 11:50:37.289 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:50:37.290 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 11:50:37.290 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:50:37.290 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 11:50:37.290 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 11:50:37.290 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 11:50:37.290 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:50:37.291 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 11:50:37.291 org.nutz.boot.NbApp - mqttwk started : 6434ms
[INFO ] 11:51:26.881 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:51:26.881 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 11:51:26.883 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 11:51:26.883 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 11:51:29.879 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 11:51:29.886 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 11:51:29.919 org.nutz.resource.Scans - Locations count=79 time use 27ms
[DEBUG] 11:51:29.923 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:51:29.923 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 11:51:29.925 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 11:51:30.029 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:51:30.029 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 11:51:30.030 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 11:51:30.071 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 11:51:30.073 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 11:51:30.074 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 11:51:30.088 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 11:51:30.127 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 11:51:30.140 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:51:30.158 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 11:51:30.160 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 11:51:30.163 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 11:51:30.164 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 11:51:30.168 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 11:51:30.172 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 11:51:30.173 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 11:51:30.173 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 11:51:30.177 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 11:51:30.183 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 11:51:30.186 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 11:51:30.187 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 11:51:30.188 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 11:51:30.189 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 11:51:30.190 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 11:51:30.191 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 11:51:30.192 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 11:51:30.194 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 11:51:30.195 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 11:51:30.196 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 11:51:30.197 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:51:30.198 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 11:51:30.198 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 11:51:30.199 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 11:51:30.200 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:51:30.211 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 11:51:30.214 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 11:51:30.215 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 11:51:30.216 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 11:51:30.219 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 11:51:30.244 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 11:51:30.245 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 11:51:30.246 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:51:30.248 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:51:30.249 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:51:30.249 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 11:51:30.250 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:51:30.250 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:51:30.251 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:51:30.265 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 11:51:30.282 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 11:51:30.293 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 11:51:30.294 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 11:51:30.295 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 11:51:30.295 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 11:51:30.296 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 11:51:30.301 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:51:30.301 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 11:51:30.303 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 11:51:30.303 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:51:30.304 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:51:30.304 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 11:51:30.305 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:51:30.305 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:51:30.328 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 11:51:30.365 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 11:51:30.365 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 11:51:30.365 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:51:30.366 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:51:30.366 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 11:51:30.366 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 11:51:30.368 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:51:30.373 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:51:30.373 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 11:51:30.373 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:51:30.374 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:51:30.374 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 11:51:30.374 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 11:51:30.376 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:51:30.376 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:51:30.376 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:51:30.376 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 11:51:30.377 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:51:30.377 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:51:30.377 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 11:51:30.377 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 11:51:30.378 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:51:30.378 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:51:30.378 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 11:51:30.379 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:51:30.379 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:51:30.379 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 11:51:30.379 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 11:51:30.380 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:51:30.380 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 11:51:30.409 org.eclipse.jetty.util.log - Logging initialized @1053ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 11:51:30.543 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:51:30.543 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 11:51:30.544 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:51:30.544 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:51:30.544 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 11:51:30.544 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 11:51:30.544 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:51:30.646 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:51:30.649 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:51:30.649 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 11:51:30.650 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:51:30.650 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:51:30.650 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 11:51:30.650 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 11:51:30.651 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:51:30.651 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 11:51:30.651 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:51:30.651 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:51:30.651 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 11:51:30.652 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 11:51:30.652 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:51:30.675 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 11:51:30.675 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 11:51:30.686 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 11:51:30.702 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 11:51:30.703 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 11:51:30.726 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 11:51:30.727 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 11:51:30.729 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 11:51:30.729 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 11:51:30.730 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 11:51:30.730 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 11:51:30.731 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 11:51:30.731 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 11:51:30.733 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 11:51:30.734 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 11:51:30.734 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 11:51:30.736 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 11:51:30.737 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 11:51:30.737 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 11:51:30.737 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 11:51:30.738 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 11:51:30.738 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 11:51:30.739 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 11:51:30.739 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 11:51:30.747 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 11:51:30.758 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 11:51:30.758 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 11:51:30.769 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 11:51:30.797 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 11:51:30.797 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream null
[DEBUG] 11:51:30.851 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 11:51:31.005 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 11:51:31.005 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 11:51:31.048 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 99896 (auto-detected)
[DEBUG] 11:51:31.050 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 11:51:31.051 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 11:51:31.054 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 11:51:31.055 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 11:51:31.059 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 11:51:31.077 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 11:51:31.078 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 11:51:31.113 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 11:51:31.113 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 11:51:31.113 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 11:51:31.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 11:51:31.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 11:51:31.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 11:51:31.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 11:51:31.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 11:51:31.115 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 11:51:31.115 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 11:51:31.115 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 11:51:31.115 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 11:51:31.131 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 11:51:31.132 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 11:51:31.132 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 11:51:31.150 io.netty.handler.logging.LoggingHandler - [id: 0xaf08ee56] REGISTERED
[INFO ] 11:51:31.152 io.netty.handler.logging.LoggingHandler - [id: 0xaf08ee56] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 11:51:31.157 io.netty.handler.logging.LoggingHandler - [id: 0x55ac5252] REGISTERED
[INFO ] 11:51:31.157 io.netty.handler.logging.LoggingHandler - [id: 0xaf08ee56, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 11:51:31.157 io.netty.handler.logging.LoggingHandler - [id: 0x55ac5252] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 11:51:31.158 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 11:51:31.158 io.netty.handler.logging.LoggingHandler - [id: 0x55ac5252, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 11:51:31.160 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 11:51:31.269 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 11:51:31.275 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 11:51:31.288 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 11:51:31.288 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 11:51:31.290 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 11:51:31.305 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:51:31.306 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:51:31.307 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:51:31.307 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 11:51:31.307 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:51:31.307 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:51:31.307 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 11:51:31.309 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 11:51:31.310 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 11:51:31.312 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:51:31.313 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 11:51:31.313 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:51:31.313 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 11:51:31.313 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:51:31.313 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:51:31.313 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 11:51:31.314 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 11:51:31.315 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 11:51:31.316 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 11:51:31.318 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:51:31.318 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 11:51:31.321 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 11:51:31.323 org.nutz.resource.Scans - Locations count=80 time use 0ms
[DEBUG] 11:51:31.324 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 11:51:31.326 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 11:51:31.327 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 11:51:31.327 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 11:51:31.327 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 11:51:31.327 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 11:51:31.327 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 11:51:31.327 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 11:51:31.327 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 11:51:31.327 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 11:51:31.327 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 11:51:31.328 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 11:51:31.328 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 11:51:31.328 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 11:51:31.328 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:51:31.328 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 11:51:31.329 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 11:51:31.331 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 11:51:31.332 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 11:51:31.334 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 11:51:31.340 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 11:51:31.346 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:51:31.355 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:51:31.361 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 11:51:31.362 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 11:51:31.365 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:51:31.368 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:51:31.369 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 11:51:31.372 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 11:51:31.374 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 11:51:31.379 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:51:31.380 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:51:31.380 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 11:51:31.380 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 11:51:31.380 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 11:51:31.382 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:51:31.382 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 11:51:31.383 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 11:51:31.383 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 55ms
[INFO ] 11:51:31.405 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@44841b43{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 11:51:31.420 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:51:31.421 org.eclipse.jetty.server.Server - Started @2065ms
[DEBUG] 11:51:31.421 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 11:51:31.422 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:51:31.422 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 11:51:31.423 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:51:31.423 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:51:31.423 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 11:51:31.423 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 11:51:31.424 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:51:31.424 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:51:31.424 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 11:51:31.425 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:51:31.425 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:51:31.425 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 11:51:31.451 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 11:51:31.460 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:51:31.461 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 11:51:31.461 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:51:31.461 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 11:51:31.461 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 11:51:31.462 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 11:51:31.462 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:51:31.462 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 11:51:31.463 org.nutz.boot.NbApp - mqttwk started : 1635ms
[INFO ] 11:53:10.653 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:53:10.653 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 11:53:10.655 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 11:53:10.656 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 11:53:21.103 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 11:53:21.120 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 11:53:21.211 org.nutz.resource.Scans - Locations count=79 time use 78ms
[DEBUG] 11:53:21.220 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:53:21.220 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 11:53:21.223 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 11:53:21.458 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:53:21.459 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 11:53:21.460 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 11:53:21.578 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 11:53:21.606 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 11:53:21.608 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 11:53:21.643 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 11:53:21.689 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 11:53:21.710 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:53:21.725 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 11:53:21.728 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 11:53:21.735 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 11:53:21.737 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 11:53:21.745 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 11:53:21.751 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 11:53:21.753 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 11:53:21.754 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 11:53:21.758 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 11:53:21.771 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 11:53:21.774 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 11:53:21.775 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 11:53:21.777 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 11:53:21.780 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 11:53:21.781 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 11:53:21.782 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 11:53:21.783 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 11:53:21.784 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 11:53:21.785 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 11:53:21.786 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 11:53:21.787 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:53:21.796 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 11:53:21.797 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 11:53:21.799 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 11:53:21.801 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:53:21.819 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 11:53:21.824 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 11:53:21.825 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 11:53:21.827 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 11:53:21.832 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 11:53:21.872 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 11:53:21.872 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 11:53:21.875 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:53:21.879 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 11:53:21.879 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 11:53:21.880 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 11:53:21.880 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:53:21.881 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:53:21.882 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 11:53:21.900 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 11:53:21.930 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 11:53:21.947 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 11:53:21.949 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 11:53:21.950 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 11:53:21.950 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 11:53:21.951 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 11:53:21.962 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 11:53:21.962 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 11:53:21.964 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 11:53:21.965 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:53:21.965 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:53:21.967 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 11:53:21.975 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:53:21.976 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 11:53:22.000 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 11:53:22.059 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 11:53:22.059 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 11:53:22.060 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:22.060 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 11:53:22.060 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 11:53:22.060 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 11:53:22.063 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:53:22.067 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:53:22.067 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 11:53:22.067 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:53:22.068 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 11:53:22.068 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 11:53:22.068 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 11:53:22.070 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:53:22.070 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:53:22.071 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:53:22.071 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 11:53:22.071 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:53:22.071 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 11:53:22.071 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 11:53:22.072 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 11:53:22.073 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:53:22.073 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:53:22.074 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 11:53:22.074 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:53:22.075 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 11:53:22.075 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 11:53:22.075 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 11:53:22.077 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:53:22.077 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 11:53:22.111 org.eclipse.jetty.util.log - Logging initialized @2083ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 11:53:22.291 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:53:22.292 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 11:53:22.292 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:53:22.292 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 11:53:22.293 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 11:53:22.293 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 11:53:22.293 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 11:53:22.416 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:53:22.420 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:53:22.421 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 11:53:22.421 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:22.421 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 11:53:22.421 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 11:53:22.422 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 11:53:22.422 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:53:22.423 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 11:53:22.423 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:22.423 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:53:22.424 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 11:53:22.424 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 11:53:22.425 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:53:22.456 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 11:53:22.457 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 11:53:22.470 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 11:53:22.488 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 11:53:22.489 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 11:53:22.510 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 11:53:22.511 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 11:53:22.512 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 11:53:22.513 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 11:53:22.514 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 11:53:22.515 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 11:53:22.516 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 11:53:22.517 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 11:53:22.518 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 11:53:22.520 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 11:53:22.520 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 11:53:22.522 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 11:53:22.522 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 11:53:22.523 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 11:53:22.523 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 11:53:22.526 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 11:53:22.527 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 11:53:22.528 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 11:53:22.528 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 11:53:22.534 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 11:53:22.545 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 11:53:22.546 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 11:53:22.554 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 11:53:22.578 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 11:53:22.578 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@27f0ad19
[DEBUG] 11:53:22.706 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 11:53:22.814 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 11:53:22.815 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 11:53:27.851 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 320 (auto-detected)
[DEBUG] 11:53:27.854 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 11:53:27.854 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 11:53:27.857 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 11:53:27.858 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 11:53:27.862 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 11:53:27.873 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 11:53:27.873 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 11:53:27.897 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 11:53:27.897 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 11:53:27.897 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 11:53:27.897 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 11:53:27.897 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 11:53:27.897 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 11:53:27.897 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 11:53:27.897 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 11:53:27.897 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 11:53:27.898 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 11:53:27.898 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 11:53:27.898 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 11:53:27.907 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 11:53:27.907 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 11:53:27.907 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 11:53:27.919 io.netty.handler.logging.LoggingHandler - [id: 0xa906e856] REGISTERED
[INFO ] 11:53:27.921 io.netty.handler.logging.LoggingHandler - [id: 0xa906e856] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 11:53:27.924 io.netty.handler.logging.LoggingHandler - [id: 0xa22a9345] REGISTERED
[INFO ] 11:53:27.925 io.netty.handler.logging.LoggingHandler - [id: 0xa906e856, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 11:53:27.925 io.netty.handler.logging.LoggingHandler - [id: 0xa22a9345] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 11:53:27.925 io.netty.handler.logging.LoggingHandler - [id: 0xa22a9345, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 11:53:27.925 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 11:53:27.927 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 11:53:28.010 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 11:53:28.014 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 11:53:28.026 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 11:53:28.026 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 11:53:28.028 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 11:53:28.039 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:53:28.040 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 11:53:28.040 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:53:28.041 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 11:53:28.041 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:53:28.041 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:53:28.041 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 11:53:28.042 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 11:53:28.042 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 11:53:28.044 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 11:53:28.045 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 11:53:28.045 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:53:28.045 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 11:53:28.046 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 11:53:28.046 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:53:28.046 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 11:53:28.046 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 11:53:28.047 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 11:53:28.048 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 11:53:28.049 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 11:53:28.049 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 11:53:28.052 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 11:53:28.054 org.nutz.resource.Scans - Locations count=80 time use 0ms
[DEBUG] 11:53:28.055 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 11:53:28.057 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 11:53:28.058 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 11:53:28.058 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 11:53:28.058 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 11:53:28.058 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 11:53:28.058 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 11:53:28.058 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 11:53:28.058 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 11:53:28.058 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 11:53:28.058 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 11:53:28.059 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 11:53:28.059 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 11:53:28.059 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 11:53:28.059 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 11:53:28.059 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 11:53:28.059 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 11:53:28.062 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 11:53:28.063 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 11:53:28.066 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 11:53:28.071 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 11:53:28.077 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:53:28.086 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:53:28.092 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 11:53:28.093 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 11:53:28.096 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 11:53:28.099 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 11:53:28.100 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 11:53:28.103 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 11:53:28.105 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 11:53:28.110 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:53:28.110 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 11:53:28.110 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 11:53:28.111 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 11:53:28.111 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 11:53:28.113 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 11:53:28.113 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 11:53:28.113 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 11:53:28.114 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 54ms
[INFO ] 11:53:28.134 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@778db7c5{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 11:53:28.146 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 11:53:28.146 org.eclipse.jetty.server.Server - Started @8118ms
[DEBUG] 11:53:28.147 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 11:53:28.147 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:53:28.147 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 11:53:28.147 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:28.147 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 11:53:28.148 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 11:53:28.148 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 11:53:28.148 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:53:28.148 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:53:28.148 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 11:53:28.149 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:53:28.149 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:53:28.149 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 11:53:28.173 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 11:53:28.180 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:53:28.180 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 11:53:28.180 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:53:28.180 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 11:53:28.180 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 11:53:28.180 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 11:53:28.181 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:28.181 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 11:53:28.181 org.nutz.boot.NbApp - mqttwk started : 7216ms
[INFO ] 11:53:39.990 io.netty.handler.logging.LoggingHandler - [id: 0xa906e856, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x0110fccf, L:/127.0.0.1:8885 - R:/127.0.0.1:53274]
[INFO ] 11:53:39.991 io.netty.handler.logging.LoggingHandler - [id: 0xa906e856, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 11:53:40.026 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 11:53:40.026 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 11:53:40.027 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.027 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 11:53:40.027 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 11:53:40.027 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 11:53:40.028 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 11:53:40.028 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 11:53:40.028 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.028 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 11:53:40.028 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 11:53:40.029 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 11:53:40.030 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 11:53:40.030 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 11:53:40.030 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.030 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 11:53:40.030 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 11:53:40.039 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:53:40.040 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 11:53:40.041 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 11:53:40.041 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.041 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 11:53:40.041 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 11:53:40.042 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 11:53:40.042 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 11:53:40.042 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 11:53:40.043 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.043 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 11:53:40.043 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 11:53:40.045 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:53:40.046 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:53:40.046 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 11:53:40.047 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 11:53:40.047 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.047 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 11:53:40.047 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 11:53:40.050 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:53:40.050 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:53:40.051 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:53:40.051 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 11:53:40.051 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.051 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:53:40.052 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 11:53:40.052 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 11:53:40.053 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:53:40.058 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 11:53:40.058 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 11:53:40.059 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:53:40.059 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 11:53:40.059 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 11:53:40.067 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 11:53:40.068 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 11:53:40.068 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:53:40.068 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 11:53:40.069 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 11:53:40.069 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 11:53:40.069 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.072 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.073 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.073 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.073 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.074 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.074 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.076 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 11:53:40.078 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 11:53:40.078 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.078 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.079 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.079 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.079 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 11:53:40.169 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 11:53:40.170 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1624040447
[DEBUG] 11:53:40.170 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1624040447
[DEBUG] 11:53:40.170 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1624040447
[DEBUG] 11:53:40.170 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1624040447
[DEBUG] 11:53:40.170 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1624040447
[DEBUG] 11:53:40.170 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 11:53:40.170 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.170 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.171 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.171 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.171 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.171 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.171 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.171 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.171 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.171 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.171 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.171 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.172 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.172 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.172 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.172 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.172 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.172 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 11:53:40.172 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 11:53:40.172 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.172 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 11:53:40.173 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 11:53:40.173 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 11:53:40.173 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 11:53:40.173 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 11:53:40.173 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.173 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 11:53:40.173 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 11:53:40.175 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:53:40.175 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:53:40.175 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 11:53:40.175 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 11:53:40.175 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 11:53:40.176 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.176 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 11:53:40.176 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 11:53:40.176 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 11:53:40.176 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:53:40.176 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 11:53:40.176 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 11:53:40.176 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.176 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 11:53:40.177 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 11:53:40.178 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:53:40.178 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:53:40.178 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 11:53:40.178 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 11:53:40.178 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.178 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 11:53:40.178 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 11:53:40.178 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 11:53:40.179 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 11:53:40.179 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 11:53:40.179 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 11:53:40.179 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.179 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 11:53:40.179 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 11:53:40.181 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 11:53:40.181 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 11:53:40.181 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 11:53:40.181 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 11:53:40.181 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.181 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 11:53:40.181 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 11:53:40.181 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 11:53:40.182 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:53:40.182 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 11:53:40.182 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 11:53:40.182 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.182 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 11:53:40.182 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 11:53:40.184 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 11:53:40.184 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 11:53:40.184 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.184 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 11:53:40.184 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 11:53:40.194 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 11:53:40.195 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 11:53:40.195 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 11:53:40.195 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:53:40.195 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 11:53:40.195 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 11:53:40.195 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.196 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 11:53:40.196 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 11:53:40.197 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 11:53:40.198 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 11:53:40.198 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 11:53:40.198 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 11:53:40.198 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 11:53:40.199 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 11:53:40.199 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 11:53:40.199 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:53:40.200 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 11:53:40.200 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 11:53:40.200 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.200 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 11:53:40.200 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 11:53:40.200 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 11:53:40.202 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:53:40.202 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 11:53:40.202 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 11:53:40.202 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 11:53:40.202 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:53:40.203 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 11:53:40.203 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.203 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:53:40.203 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 11:53:40.203 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 11:53:40.203 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:53:40.203 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 11:53:40.204 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 11:53:40.204 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 11:53:40.204 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 11:53:40.204 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 11:53:40.208 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:53:40.209 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:53:40.209 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:53:40.209 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 11:53:40.210 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 11:53:40.210 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 11:53:40.214 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 11:53:40.214 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 11:53:40.214 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 11:53:40.214 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 11:53:40.221 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 11:53:40.221 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 11:53:40.222 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@2bb5a1e3
[DEBUG] 11:53:40.371 io.netty.handler.ssl.SslHandler - [id: 0x0110fccf, L:/127.0.0.1:8885 - R:/127.0.0.1:53274] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 11:53:40.509 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 11:53:52.216 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 11:53:54.028 io.netty.handler.logging.LoggingHandler - [id: 0xa906e856, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x5a8a47f5, L:/127.0.0.1:8885 - R:/127.0.0.1:53314]
[INFO ] 11:53:54.028 io.netty.handler.logging.LoggingHandler - [id: 0xa906e856, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 11:53:54.029 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 11:53:54.159 io.netty.handler.ssl.SslHandler - [id: 0x5a8a47f5, L:/127.0.0.1:8885 - R:/127.0.0.1:53314] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 11:53:54.163 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 11:53:55.311 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 12:00:24.730 io.netty.handler.logging.LoggingHandler - [id: 0xa906e856, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x8b2edb40, L:/127.0.0.1:8885 - R:/127.0.0.1:54641]
[INFO ] 12:00:24.731 io.netty.handler.logging.LoggingHandler - [id: 0xa906e856, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 12:00:24.732 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 12:00:24.820 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: bad_certificate
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: bad_certificate
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 12:34:43.174 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 12:34:43.176 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 12:34:43.181 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 12:34:43.182 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 12:35:01.319 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 12:35:01.327 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 12:35:01.395 org.nutz.resource.Scans - Locations count=79 time use 51ms
[DEBUG] 12:35:01.429 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 12:35:01.430 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 12:35:01.433 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 12:35:01.609 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 12:35:01.610 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 12:35:01.611 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 12:35:01.672 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 12:35:01.675 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 12:35:01.676 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 12:35:01.703 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 12:35:01.818 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 12:35:01.842 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 12:35:01.858 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 12:35:01.861 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 12:35:01.864 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 12:35:01.866 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 12:35:01.875 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 12:35:01.879 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 12:35:01.880 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 12:35:01.881 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 12:35:01.886 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 12:35:01.893 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 12:35:01.896 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 12:35:01.898 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 12:35:01.899 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 12:35:01.902 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 12:35:01.904 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 12:35:01.905 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 12:35:01.907 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 12:35:01.908 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 12:35:01.909 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 12:35:01.911 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 12:35:01.912 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 12:35:01.912 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 12:35:01.913 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 12:35:01.913 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 12:35:01.915 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 12:35:01.928 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 12:35:01.931 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 12:35:01.932 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 12:35:01.933 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 12:35:01.938 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 12:35:01.977 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 12:35:01.978 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 12:35:01.981 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 12:35:01.984 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 12:35:01.985 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 12:35:01.985 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 12:35:01.986 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 12:35:01.987 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 12:35:01.988 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 12:35:02.005 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 12:35:02.038 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 12:35:02.050 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 12:35:02.052 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 12:35:02.053 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 12:35:02.053 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 12:35:02.054 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 12:35:02.059 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 12:35:02.059 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 12:35:02.061 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 12:35:02.062 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 12:35:02.062 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 12:35:02.063 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 12:35:02.064 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@891461509
[DEBUG] 12:35:02.064 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 12:35:02.085 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 12:35:02.125 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 12:35:02.125 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 12:35:02.125 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:02.125 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 12:35:02.126 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 12:35:02.126 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 12:35:02.128 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:35:02.135 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 12:35:02.135 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 12:35:02.136 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:35:02.136 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 12:35:02.136 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 12:35:02.137 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 12:35:02.138 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:35:02.139 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 12:35:02.139 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 12:35:02.139 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 12:35:02.139 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:35:02.139 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 12:35:02.140 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 12:35:02.140 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 12:35:02.141 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:35:02.141 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 12:35:02.142 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 12:35:02.142 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:35:02.142 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 12:35:02.142 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 12:35:02.142 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 12:35:02.143 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:35:02.143 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 12:35:02.178 org.eclipse.jetty.util.log - Logging initialized @2045ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 12:35:02.368 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 12:35:02.369 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 12:35:02.369 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:35:02.369 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 12:35:02.369 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 12:35:02.370 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 12:35:02.370 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 12:35:02.488 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 12:35:02.492 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 12:35:02.492 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 12:35:02.492 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:02.493 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 12:35:02.493 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 12:35:02.493 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 12:35:02.494 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:35:02.494 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 12:35:02.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:02.495 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:35:02.495 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 12:35:02.495 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 12:35:02.496 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:35:02.519 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 12:35:02.519 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 12:35:02.530 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 12:35:02.545 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 12:35:02.546 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 12:35:02.567 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 12:35:02.567 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 12:35:02.569 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 12:35:02.570 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 12:35:02.571 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 12:35:02.571 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 12:35:02.572 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 12:35:02.572 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 12:35:02.574 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @495b0487
[DEBUG] 12:35:02.575 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 12:35:02.575 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 12:35:02.576 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 12:35:02.576 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 12:35:02.577 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 12:35:02.577 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 12:35:02.578 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 12:35:02.579 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 12:35:02.579 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 12:35:02.580 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 12:35:02.587 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 12:35:02.600 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 12:35:02.600 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 12:35:02.610 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 12:35:02.632 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 12:35:02.633 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@17f9344b
[DEBUG] 12:35:02.755 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 12:35:02.980 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 12:35:02.981 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 12:35:08.019 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 3974 (auto-detected)
[DEBUG] 12:35:08.021 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 12:35:08.022 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 12:35:08.025 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 12:35:08.026 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 12:35:08.028 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 12:35:08.040 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 12:35:08.040 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 12:35:08.064 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 12:35:08.065 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 12:35:08.076 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 12:35:08.076 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 12:35:08.076 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 12:35:08.088 io.netty.handler.logging.LoggingHandler - [id: 0x2d4e5efe] REGISTERED
[INFO ] 12:35:08.090 io.netty.handler.logging.LoggingHandler - [id: 0x2d4e5efe] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 12:35:08.093 io.netty.handler.logging.LoggingHandler - [id: 0x0ac584b1] REGISTERED
[INFO ] 12:35:08.093 io.netty.handler.logging.LoggingHandler - [id: 0x2d4e5efe, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 12:35:08.093 io.netty.handler.logging.LoggingHandler - [id: 0x0ac584b1] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 12:35:08.093 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 12:35:08.093 io.netty.handler.logging.LoggingHandler - [id: 0x0ac584b1, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 12:35:08.095 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 12:35:08.173 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 12:35:08.177 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 12:35:08.189 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 12:35:08.189 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 12:35:08.191 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 12:35:08.203 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 12:35:08.203 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 12:35:08.203 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 12:35:08.204 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 12:35:08.204 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:35:08.204 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 12:35:08.204 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 12:35:08.205 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 12:35:08.205 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 12:35:08.207 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 12:35:08.208 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 12:35:08.208 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 12:35:08.208 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 12:35:08.208 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:35:08.209 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 12:35:08.209 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 12:35:08.209 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 12:35:08.209 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 12:35:08.211 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 12:35:08.212 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 12:35:08.212 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 12:35:08.215 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 12:35:08.218 org.nutz.resource.Scans - Locations count=80 time use 0ms
[DEBUG] 12:35:08.219 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 12:35:08.221 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 12:35:08.221 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 12:35:08.221 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 12:35:08.221 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 12:35:08.221 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 12:35:08.221 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 12:35:08.221 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 12:35:08.221 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 12:35:08.221 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 12:35:08.222 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 12:35:08.222 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 12:35:08.222 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 12:35:08.222 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 12:35:08.222 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 12:35:08.222 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 12:35:08.223 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 12:35:08.225 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 12:35:08.226 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 12:35:08.229 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 12:35:08.234 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 12:35:08.241 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 12:35:08.249 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 12:35:08.254 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 12:35:08.255 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 12:35:08.259 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 12:35:08.262 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 12:35:08.262 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 12:35:08.265 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 12:35:08.267 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 12:35:08.272 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 12:35:08.273 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 12:35:08.273 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 12:35:08.274 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 12:35:08.274 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 12:35:08.275 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 12:35:08.276 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 12:35:08.276 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 12:35:08.277 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 55ms
[INFO ] 12:35:08.297 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@72ee5d84{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 12:35:08.309 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@6821ea29{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 12:35:08.310 org.eclipse.jetty.server.Server - Started @8177ms
[DEBUG] 12:35:08.310 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 12:35:08.311 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 12:35:08.311 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 12:35:08.311 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:08.311 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 12:35:08.311 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 12:35:08.311 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 12:35:08.312 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:35:08.312 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:35:08.312 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 12:35:08.312 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 12:35:08.313 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:35:08.313 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 12:35:08.339 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 12:35:08.345 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 12:35:08.346 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 12:35:08.346 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 12:35:08.346 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 12:35:08.346 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 12:35:08.346 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 12:35:08.346 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:08.347 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 12:35:08.347 org.nutz.boot.NbApp - mqttwk started : 7181ms
[INFO ] 12:35:33.516 io.netty.handler.logging.LoggingHandler - [id: 0x2d4e5efe, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xc50b3a3a, L:/127.0.0.1:8885 - R:/127.0.0.1:64210]
[INFO ] 12:35:33.518 io.netty.handler.logging.LoggingHandler - [id: 0x2d4e5efe, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 12:35:33.570 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 12:35:33.570 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 12:35:33.571 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.571 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 12:35:33.571 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 12:35:33.571 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 12:35:33.573 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 12:35:33.573 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 12:35:33.573 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.574 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 12:35:33.574 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 12:35:33.574 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 12:35:33.576 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 12:35:33.576 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 12:35:33.576 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.576 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 12:35:33.576 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 12:35:33.591 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:35:33.591 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 12:35:33.591 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 12:35:33.592 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.592 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 12:35:33.592 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 12:35:33.592 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 12:35:33.593 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 12:35:33.593 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 12:35:33.593 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.593 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 12:35:33.593 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 12:35:33.596 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:35:33.596 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 12:35:33.597 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 12:35:33.597 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 12:35:33.597 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.597 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 12:35:33.597 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 12:35:33.600 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:35:33.600 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 12:35:33.600 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 12:35:33.600 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 12:35:33.600 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.600 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 12:35:33.600 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 12:35:33.600 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 12:35:33.602 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:35:33.605 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 12:35:33.605 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 12:35:33.606 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 12:35:33.606 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 12:35:33.606 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 12:35:33.615 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 12:35:33.615 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 12:35:33.615 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 12:35:33.615 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 12:35:33.616 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 12:35:33.616 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 12:35:33.616 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.618 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.619 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.619 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.619 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.619 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.619 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.621 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 12:35:33.622 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 12:35:33.622 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.623 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.623 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.623 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.623 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:35:33.731 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 12:35:33.731 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@104204992
[DEBUG] 12:35:33.731 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@104204992
[DEBUG] 12:35:33.731 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@104204992
[DEBUG] 12:35:33.731 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@104204992
[DEBUG] 12:35:33.731 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@104204992
[DEBUG] 12:35:33.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@891461509
[DEBUG] 12:35:33.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.733 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.733 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.733 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.733 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.733 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.733 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.733 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.734 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.734 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 12:35:33.734 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 12:35:33.734 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.734 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 12:35:33.735 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 12:35:33.735 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 12:35:33.735 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 12:35:33.735 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 12:35:33.736 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.736 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 12:35:33.736 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 12:35:33.738 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:35:33.738 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:35:33.738 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 12:35:33.738 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 12:35:33.738 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 12:35:33.739 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.739 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 12:35:33.739 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 12:35:33.739 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 12:35:33.740 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 12:35:33.740 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 12:35:33.740 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 12:35:33.740 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.740 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 12:35:33.740 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 12:35:33.742 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:35:33.742 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:35:33.743 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 12:35:33.743 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 12:35:33.743 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.743 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 12:35:33.743 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 12:35:33.743 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 12:35:33.744 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 12:35:33.744 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 12:35:33.744 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 12:35:33.744 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.744 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 12:35:33.744 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 12:35:33.746 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:35:33.746 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:35:33.747 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 12:35:33.747 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 12:35:33.747 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.747 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 12:35:33.747 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 12:35:33.747 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 12:35:33.748 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:35:33.748 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 12:35:33.749 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 12:35:33.749 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.749 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 12:35:33.749 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 12:35:33.751 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 12:35:33.751 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 12:35:33.752 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.752 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 12:35:33.752 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 12:35:33.765 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 12:35:33.765 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 12:35:33.766 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 12:35:33.766 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:35:33.766 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 12:35:33.766 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 12:35:33.766 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.767 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 12:35:33.767 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 12:35:33.770 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 12:35:33.770 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 12:35:33.770 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 12:35:33.770 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 12:35:33.770 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 12:35:33.771 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 12:35:33.773 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 12:35:33.773 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:35:33.773 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 12:35:33.774 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 12:35:33.774 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.774 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 12:35:33.774 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 12:35:33.774 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 12:35:33.775 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:35:33.775 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 12:35:33.775 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 12:35:33.776 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 12:35:33.776 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 12:35:33.776 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 12:35:33.776 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.776 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 12:35:33.776 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 12:35:33.776 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 12:35:33.777 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 12:35:33.777 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 12:35:33.777 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:35:33.777 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 12:35:33.778 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 12:35:33.778 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 12:35:33.781 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:35:33.781 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 12:35:33.782 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 12:35:33.782 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:35:33.782 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 12:35:33.782 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 12:35:33.789 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 12:35:33.789 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 12:35:33.789 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 12:35:33.789 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 12:35:33.797 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 12:35:33.797 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 12:35:33.799 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@70f0726a
[DEBUG] 12:35:33.976 io.netty.handler.ssl.SslHandler - [id: 0xc50b3a3a, L:/127.0.0.1:8885 - R:/127.0.0.1:64210] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 12:35:34.094 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 12:35:35.556 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 12:53:18.486 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@6821ea29{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 12:53:18.488 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 12:53:18.492 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 12:53:18.494 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 12:53:23.103 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 12:53:23.110 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 12:53:23.144 org.nutz.resource.Scans - Locations count=79 time use 28ms
[DEBUG] 12:53:23.148 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 12:53:23.148 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 12:53:23.149 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 12:53:23.257 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 12:53:23.257 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 12:53:23.258 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 12:53:23.295 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 12:53:23.297 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 12:53:23.298 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 12:53:23.311 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 12:53:23.339 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 12:53:23.349 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 12:53:23.359 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 12:53:23.361 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 12:53:23.363 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 12:53:23.363 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 12:53:23.366 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 12:53:23.369 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 12:53:23.370 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 12:53:23.370 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 12:53:23.372 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 12:53:23.377 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 12:53:23.379 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 12:53:23.380 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 12:53:23.380 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 12:53:23.381 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 12:53:23.381 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 12:53:23.382 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 12:53:23.382 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 12:53:23.383 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 12:53:23.383 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 12:53:23.383 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 12:53:23.384 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 12:53:23.384 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 12:53:23.385 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 12:53:23.385 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 12:53:23.386 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 12:53:23.396 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 12:53:23.399 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 12:53:23.400 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 12:53:23.401 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 12:53:23.404 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 12:53:23.428 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 12:53:23.429 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 12:53:23.430 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 12:53:23.432 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 12:53:23.432 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 12:53:23.433 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 12:53:23.433 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 12:53:23.433 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 12:53:23.434 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 12:53:23.443 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 12:53:23.454 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 12:53:23.462 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 12:53:23.462 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 12:53:23.463 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 12:53:23.463 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 12:53:23.463 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 12:53:23.467 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 12:53:23.467 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 12:53:23.468 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 12:53:23.468 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 12:53:23.469 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 12:53:23.469 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 12:53:23.470 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 12:53:23.470 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 12:53:23.485 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 12:53:23.518 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 12:53:23.519 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 12:53:23.519 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:23.519 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 12:53:23.519 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 12:53:23.520 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 12:53:23.521 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:53:23.527 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 12:53:23.528 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 12:53:23.528 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:53:23.528 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 12:53:23.528 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 12:53:23.528 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 12:53:23.529 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:53:23.529 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 12:53:23.530 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 12:53:23.530 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 12:53:23.530 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:53:23.530 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 12:53:23.530 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 12:53:23.530 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 12:53:23.531 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:53:23.531 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 12:53:23.531 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 12:53:23.531 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:53:23.531 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 12:53:23.532 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 12:53:23.532 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 12:53:23.532 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:53:23.533 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 12:53:23.560 org.eclipse.jetty.util.log - Logging initialized @983ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 12:53:23.673 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 12:53:23.674 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 12:53:23.674 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:53:23.674 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 12:53:23.675 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 12:53:23.675 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 12:53:23.676 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 12:53:23.790 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 12:53:23.794 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 12:53:23.794 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 12:53:23.794 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:23.794 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 12:53:23.794 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 12:53:23.795 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 12:53:23.795 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:53:23.795 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 12:53:23.795 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:23.796 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:53:23.796 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 12:53:23.796 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 12:53:23.796 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:53:23.818 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 12:53:23.818 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 12:53:23.828 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 12:53:23.843 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 12:53:23.844 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 12:53:23.863 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 12:53:23.864 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 12:53:23.866 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 12:53:23.866 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 12:53:23.867 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 12:53:23.868 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 12:53:23.869 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 12:53:23.869 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 12:53:23.871 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 12:53:23.872 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 12:53:23.872 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 12:53:23.874 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 12:53:23.874 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 12:53:23.874 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 12:53:23.875 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 12:53:23.876 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 12:53:23.877 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 12:53:23.878 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 12:53:23.878 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 12:53:23.883 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 12:53:23.894 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 12:53:23.894 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 12:53:23.901 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 12:53:23.921 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 12:53:23.921 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@27f0ad19
[DEBUG] 12:53:24.036 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 12:53:24.135 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 12:53:24.135 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 12:53:29.170 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 5461 (auto-detected)
[DEBUG] 12:53:29.173 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 12:53:29.173 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 12:53:29.176 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 12:53:29.177 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 12:53:29.180 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 12:53:29.190 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 12:53:29.191 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 12:53:29.215 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 12:53:29.215 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 12:53:29.215 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 12:53:29.215 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 12:53:29.215 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 12:53:29.215 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 12:53:29.215 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 12:53:29.216 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 12:53:29.216 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 12:53:29.216 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 12:53:29.216 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 12:53:29.216 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 12:53:29.227 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 12:53:29.227 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 12:53:29.227 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 12:53:29.240 io.netty.handler.logging.LoggingHandler - [id: 0xfcf88918] REGISTERED
[INFO ] 12:53:29.242 io.netty.handler.logging.LoggingHandler - [id: 0xfcf88918] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 12:53:29.246 io.netty.handler.logging.LoggingHandler - [id: 0xa8eaa5e8] REGISTERED
[INFO ] 12:53:29.246 io.netty.handler.logging.LoggingHandler - [id: 0xfcf88918, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 12:53:29.246 io.netty.handler.logging.LoggingHandler - [id: 0xa8eaa5e8] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 12:53:29.246 io.netty.handler.logging.LoggingHandler - [id: 0xa8eaa5e8, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 12:53:29.246 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 12:53:29.248 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 12:53:29.331 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 12:53:29.336 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 12:53:29.348 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 12:53:29.348 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 12:53:29.350 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 12:53:29.362 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 12:53:29.363 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 12:53:29.364 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 12:53:29.364 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 12:53:29.364 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:53:29.364 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 12:53:29.364 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 12:53:29.365 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 12:53:29.366 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 12:53:29.367 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 12:53:29.368 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 12:53:29.369 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 12:53:29.369 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 12:53:29.369 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 12:53:29.369 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 12:53:29.369 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 12:53:29.370 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 12:53:29.370 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 12:53:29.371 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 12:53:29.372 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 12:53:29.373 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 12:53:29.378 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 12:53:29.380 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 12:53:29.381 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 12:53:29.383 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 12:53:29.383 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 12:53:29.383 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 12:53:29.383 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 12:53:29.383 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 12:53:29.383 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 12:53:29.384 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 12:53:29.384 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 12:53:29.384 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 12:53:29.384 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 12:53:29.384 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 12:53:29.384 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 12:53:29.384 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 12:53:29.385 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 12:53:29.385 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 12:53:29.385 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 12:53:29.388 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 12:53:29.389 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 12:53:29.392 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 12:53:29.398 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 12:53:29.404 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 12:53:29.414 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 12:53:29.420 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 12:53:29.420 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 12:53:29.423 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 12:53:29.427 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 12:53:29.427 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 12:53:29.430 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 12:53:29.433 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 12:53:29.438 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 12:53:29.438 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 12:53:29.438 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 12:53:29.439 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 12:53:29.439 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 12:53:29.441 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 12:53:29.441 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 12:53:29.442 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 12:53:29.443 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 58ms
[INFO ] 12:53:29.464 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@1706a5c9{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 12:53:29.476 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 12:53:29.476 org.eclipse.jetty.server.Server - Started @6899ms
[DEBUG] 12:53:29.476 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 12:53:29.477 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 12:53:29.477 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 12:53:29.477 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:29.477 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 12:53:29.477 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 12:53:29.477 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 12:53:29.478 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:53:29.478 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:53:29.478 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 12:53:29.478 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 12:53:29.478 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:53:29.478 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 12:53:29.502 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 12:53:29.509 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 12:53:29.510 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 12:53:29.510 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 12:53:29.510 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 12:53:29.510 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 12:53:29.510 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 12:53:29.510 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:29.511 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 12:53:29.511 org.nutz.boot.NbApp - mqttwk started : 6462ms
[INFO ] 12:53:44.921 io.netty.handler.logging.LoggingHandler - [id: 0xfcf88918, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xe05487a3, L:/127.0.0.1:8885 - R:/127.0.0.1:52410]
[INFO ] 12:53:44.922 io.netty.handler.logging.LoggingHandler - [id: 0xfcf88918, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 12:53:44.967 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 12:53:44.968 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 12:53:44.968 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:44.968 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 12:53:44.968 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 12:53:44.968 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 12:53:44.969 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 12:53:44.970 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 12:53:44.970 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:44.970 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 12:53:44.970 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 12:53:44.970 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 12:53:44.971 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 12:53:44.971 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 12:53:44.972 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:44.972 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 12:53:44.972 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 12:53:44.985 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:53:44.986 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 12:53:44.986 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 12:53:44.986 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:44.986 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 12:53:44.986 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 12:53:44.986 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 12:53:44.987 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 12:53:44.987 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 12:53:44.987 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:44.987 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 12:53:44.988 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 12:53:44.990 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:53:44.990 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 12:53:44.992 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 12:53:44.992 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 12:53:44.992 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:44.992 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 12:53:44.993 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 12:53:44.995 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:53:44.996 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 12:53:44.996 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 12:53:44.996 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 12:53:44.996 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:44.997 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 12:53:44.997 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 12:53:44.997 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 12:53:44.998 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:53:45.001 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 12:53:45.001 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 12:53:45.002 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 12:53:45.002 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 12:53:45.002 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 12:53:45.010 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 12:53:45.010 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 12:53:45.011 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 12:53:45.011 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 12:53:45.011 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 12:53:45.012 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 12:53:45.012 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.014 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.014 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.014 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.014 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.014 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.014 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.016 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 12:53:45.017 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 12:53:45.017 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.017 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.017 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.017 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.017 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 12:53:45.103 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 12:53:45.104 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@911109925
[DEBUG] 12:53:45.104 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@911109925
[DEBUG] 12:53:45.104 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@911109925
[DEBUG] 12:53:45.104 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@911109925
[DEBUG] 12:53:45.104 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@911109925
[DEBUG] 12:53:45.104 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 12:53:45.104 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.105 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.105 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.105 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.105 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.105 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.105 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.105 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.105 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.105 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.106 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.106 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.106 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.106 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.106 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.106 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.107 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.107 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 12:53:45.107 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 12:53:45.107 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.107 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 12:53:45.107 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 12:53:45.108 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 12:53:45.108 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 12:53:45.108 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 12:53:45.108 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.108 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 12:53:45.108 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 12:53:45.110 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:53:45.110 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:53:45.110 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 12:53:45.111 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 12:53:45.111 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 12:53:45.111 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.111 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 12:53:45.111 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 12:53:45.111 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 12:53:45.112 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 12:53:45.112 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 12:53:45.112 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 12:53:45.112 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.112 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 12:53:45.112 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 12:53:45.114 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:53:45.114 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:53:45.114 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 12:53:45.114 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 12:53:45.114 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.114 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 12:53:45.114 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 12:53:45.115 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 12:53:45.115 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 12:53:45.115 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 12:53:45.115 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 12:53:45.115 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.115 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 12:53:45.115 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 12:53:45.117 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 12:53:45.117 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 12:53:45.117 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 12:53:45.117 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 12:53:45.117 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.117 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 12:53:45.118 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 12:53:45.118 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 12:53:45.118 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:53:45.118 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 12:53:45.119 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 12:53:45.119 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.119 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 12:53:45.119 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 12:53:45.120 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 12:53:45.120 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 12:53:45.120 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.120 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 12:53:45.120 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 12:53:45.132 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 12:53:45.132 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 12:53:45.133 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 12:53:45.133 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:53:45.133 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 12:53:45.133 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 12:53:45.133 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.133 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 12:53:45.133 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 12:53:45.135 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 12:53:45.135 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 12:53:45.135 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 12:53:45.135 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 12:53:45.135 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 12:53:45.136 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 12:53:45.136 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 12:53:45.137 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:53:45.137 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 12:53:45.137 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 12:53:45.137 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.137 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 12:53:45.137 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 12:53:45.137 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 12:53:45.138 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:53:45.138 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 12:53:45.138 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 12:53:45.139 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 12:53:45.139 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 12:53:45.139 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 12:53:45.139 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.139 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 12:53:45.139 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 12:53:45.140 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 12:53:45.140 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 12:53:45.140 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 12:53:45.141 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 12:53:45.141 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 12:53:45.141 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 12:53:45.141 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 12:53:45.145 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:53:45.146 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 12:53:45.146 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 12:53:45.146 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 12:53:45.146 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 12:53:45.146 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 12:53:45.151 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 12:53:45.151 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 12:53:45.151 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 12:53:45.152 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 12:53:45.158 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 12:53:45.159 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 12:53:45.160 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@6476a16b
[WARN ] 12:53:45.299 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:390)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:375)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 13:31:50.027 io.netty.handler.logging.LoggingHandler - [id: 0xfcf88918, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xb70ed11c, L:/127.0.0.1:8885 - R:/127.0.0.1:60609]
[INFO ] 13:31:50.031 io.netty.handler.logging.LoggingHandler - [id: 0xfcf88918, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 13:31:50.037 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 13:31:50.178 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 13:32:49.302 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 13:32:49.302 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 13:32:49.307 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 13:32:49.308 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 13:32:52.787 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 13:32:52.794 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 13:32:52.832 org.nutz.resource.Scans - Locations count=79 time use 32ms
[DEBUG] 13:32:52.836 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 13:32:52.837 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 13:32:52.838 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 13:32:52.951 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 13:32:52.951 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 13:32:52.952 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 13:32:52.994 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 13:32:52.995 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 13:32:52.996 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 13:32:53.012 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 13:32:53.046 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 13:32:53.055 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 13:32:53.065 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 13:32:53.067 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 13:32:53.069 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 13:32:53.070 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 13:32:53.073 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 13:32:53.076 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 13:32:53.076 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 13:32:53.077 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 13:32:53.079 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 13:32:53.085 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 13:32:53.087 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 13:32:53.088 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 13:32:53.089 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 13:32:53.090 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 13:32:53.091 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 13:32:53.092 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 13:32:53.092 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 13:32:53.093 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 13:32:53.093 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 13:32:53.094 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 13:32:53.094 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 13:32:53.095 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 13:32:53.095 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 13:32:53.096 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 13:32:53.097 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 13:32:53.107 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 13:32:53.111 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 13:32:53.112 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 13:32:53.113 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 13:32:53.117 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 13:32:53.144 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 13:32:53.144 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 13:32:53.146 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:32:53.148 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 13:32:53.148 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 13:32:53.149 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 13:32:53.149 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:32:53.149 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:32:53.150 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:32:53.162 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 13:32:53.175 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 13:32:53.182 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 13:32:53.183 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 13:32:53.183 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 13:32:53.183 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 13:32:53.184 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 13:32:53.189 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 13:32:53.190 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 13:32:53.191 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 13:32:53.192 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 13:32:53.192 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 13:32:53.193 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 13:32:53.194 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 13:32:53.194 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 13:32:53.212 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 13:32:53.247 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 13:32:53.247 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 13:32:53.248 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:32:53.248 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 13:32:53.248 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 13:32:53.248 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 13:32:53.250 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:32:53.256 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 13:32:53.256 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 13:32:53.256 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:32:53.256 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 13:32:53.257 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 13:32:53.257 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 13:32:53.258 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:32:53.258 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 13:32:53.259 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 13:32:53.259 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 13:32:53.259 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:32:53.259 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 13:32:53.259 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 13:32:53.259 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 13:32:53.260 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:32:53.260 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 13:32:53.260 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 13:32:53.260 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:32:53.260 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 13:32:53.261 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 13:32:53.261 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 13:32:53.262 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:32:53.262 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 13:32:53.287 org.eclipse.jetty.util.log - Logging initialized @1170ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 13:32:53.409 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 13:32:53.409 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 13:32:53.409 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:32:53.409 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 13:32:53.409 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 13:32:53.409 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 13:32:53.410 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 13:32:53.514 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:32:53.517 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 13:32:53.517 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 13:32:53.517 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:32:53.517 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 13:32:53.518 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 13:32:53.518 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 13:32:53.519 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:32:53.519 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 13:32:53.519 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:32:53.519 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:32:53.519 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 13:32:53.519 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 13:32:53.520 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:32:53.541 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 13:32:53.541 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 13:32:53.551 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 13:32:53.566 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 13:32:53.567 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 13:32:53.584 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 13:32:53.584 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 13:32:53.586 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 13:32:53.587 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 13:32:53.588 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 13:32:53.589 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 13:32:53.589 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 13:32:53.591 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 13:32:53.592 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 13:32:53.594 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 13:32:53.594 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 13:32:53.596 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 13:32:53.596 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 13:32:53.596 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 13:32:53.597 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 13:32:53.598 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 13:32:53.598 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 13:32:53.599 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 13:32:53.599 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 13:32:53.604 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 13:32:53.614 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 13:32:53.614 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 13:32:53.622 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 13:32:53.644 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 13:32:53.645 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@27f0ad19
[DEBUG] 13:32:53.774 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 13:32:53.867 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 13:32:53.867 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 13:32:58.903 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 8468 (auto-detected)
[DEBUG] 13:32:58.906 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 13:32:58.906 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 13:32:58.909 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 13:32:58.910 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 13:32:58.913 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 13:32:58.924 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 13:32:58.924 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 13:32:58.948 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 13:32:58.949 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 13:32:58.949 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 13:32:58.949 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 13:32:58.949 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 13:32:58.949 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 13:32:58.949 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 13:32:58.949 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 13:32:58.949 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 13:32:58.949 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 13:32:58.949 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 13:32:58.950 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 13:32:58.961 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 13:32:58.961 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 13:32:58.961 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 13:32:58.976 io.netty.handler.logging.LoggingHandler - [id: 0xe305a72f] REGISTERED
[INFO ] 13:32:58.977 io.netty.handler.logging.LoggingHandler - [id: 0xe305a72f] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 13:32:58.980 io.netty.handler.logging.LoggingHandler - [id: 0x86f6e4e7] REGISTERED
[INFO ] 13:32:58.980 io.netty.handler.logging.LoggingHandler - [id: 0xe305a72f, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 13:32:58.981 io.netty.handler.logging.LoggingHandler - [id: 0x86f6e4e7] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 13:32:58.981 io.netty.handler.logging.LoggingHandler - [id: 0x86f6e4e7, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 13:32:58.981 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 13:32:58.983 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 13:32:59.074 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 13:32:59.079 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 13:32:59.090 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 13:32:59.090 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 13:32:59.093 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 13:32:59.105 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 13:32:59.106 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 13:32:59.107 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:32:59.107 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 13:32:59.107 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:32:59.107 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:32:59.107 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 13:32:59.109 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 13:32:59.109 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 13:32:59.112 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:32:59.113 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 13:32:59.113 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:32:59.113 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 13:32:59.113 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:32:59.113 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:32:59.114 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 13:32:59.114 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 13:32:59.115 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 13:32:59.116 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 13:32:59.118 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:32:59.118 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 13:32:59.122 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 13:32:59.124 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 13:32:59.125 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 13:32:59.127 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 13:32:59.127 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 13:32:59.127 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 13:32:59.128 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 13:32:59.128 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 13:32:59.128 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 13:32:59.128 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 13:32:59.128 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 13:32:59.128 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 13:32:59.128 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 13:32:59.128 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 13:32:59.129 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 13:32:59.129 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 13:32:59.129 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 13:32:59.129 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 13:32:59.130 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 13:32:59.132 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 13:32:59.133 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 13:32:59.136 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 13:32:59.142 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 13:32:59.149 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:32:59.160 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 13:32:59.165 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 13:32:59.165 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 13:32:59.169 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:32:59.172 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 13:32:59.173 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 13:32:59.177 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 13:32:59.179 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 13:32:59.183 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 13:32:59.184 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 13:32:59.184 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 13:32:59.185 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 13:32:59.185 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 13:32:59.186 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 13:32:59.187 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 13:32:59.187 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 13:32:59.188 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 59ms
[INFO ] 13:32:59.210 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@68c7ef83{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 13:32:59.223 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 13:32:59.224 org.eclipse.jetty.server.Server - Started @7106ms
[DEBUG] 13:32:59.224 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 13:32:59.225 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 13:32:59.225 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 13:32:59.225 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:32:59.225 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 13:32:59.225 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 13:32:59.225 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 13:32:59.226 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:32:59.226 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:32:59.226 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 13:32:59.226 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:32:59.226 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:32:59.226 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 13:32:59.250 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 13:32:59.257 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 13:32:59.257 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 13:32:59.257 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:32:59.257 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 13:32:59.257 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 13:32:59.257 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 13:32:59.258 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:32:59.258 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 13:32:59.258 org.nutz.boot.NbApp - mqttwk started : 6535ms
[INFO ] 13:33:04.490 io.netty.handler.logging.LoggingHandler - [id: 0xe305a72f, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xc1a30918, L:/127.0.0.1:8885 - R:/127.0.0.1:60882]
[INFO ] 13:33:04.491 io.netty.handler.logging.LoggingHandler - [id: 0xe305a72f, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 13:33:04.543 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 13:33:04.544 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 13:33:04.544 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.544 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 13:33:04.544 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 13:33:04.545 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 13:33:04.546 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 13:33:04.546 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 13:33:04.546 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.546 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 13:33:04.546 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 13:33:04.546 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 13:33:04.547 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 13:33:04.547 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 13:33:04.547 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.547 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 13:33:04.548 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 13:33:04.557 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:33:04.557 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 13:33:04.557 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 13:33:04.557 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.557 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 13:33:04.558 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 13:33:04.558 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 13:33:04.558 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 13:33:04.558 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 13:33:04.559 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.559 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 13:33:04.559 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 13:33:04.560 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:33:04.560 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 13:33:04.561 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 13:33:04.561 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 13:33:04.561 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.561 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 13:33:04.561 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 13:33:04.563 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:33:04.563 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 13:33:04.563 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 13:33:04.563 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 13:33:04.563 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.564 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 13:33:04.564 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 13:33:04.564 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 13:33:04.565 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:33:04.567 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 13:33:04.567 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 13:33:04.567 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:33:04.568 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 13:33:04.568 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 13:33:04.573 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 13:33:04.574 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 13:33:04.574 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:33:04.574 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 13:33:04.574 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 13:33:04.575 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 13:33:04.575 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.576 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.576 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.576 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.577 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.577 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.577 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.578 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 13:33:04.579 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 13:33:04.579 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.579 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.580 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.580 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.580 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:33:04.680 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 13:33:04.681 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@565393859
[DEBUG] 13:33:04.681 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@565393859
[DEBUG] 13:33:04.681 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@565393859
[DEBUG] 13:33:04.681 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@565393859
[DEBUG] 13:33:04.681 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@565393859
[DEBUG] 13:33:04.681 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 13:33:04.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.682 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.683 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.683 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.683 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.683 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.683 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.683 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.683 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.683 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.683 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 13:33:04.683 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 13:33:04.683 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.684 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 13:33:04.684 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 13:33:04.684 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 13:33:04.684 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 13:33:04.684 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 13:33:04.684 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.684 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 13:33:04.684 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 13:33:04.686 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:33:04.686 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:33:04.686 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 13:33:04.687 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 13:33:04.687 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 13:33:04.687 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.687 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 13:33:04.687 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 13:33:04.687 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 13:33:04.688 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 13:33:04.688 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 13:33:04.688 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 13:33:04.688 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.689 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 13:33:04.689 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 13:33:04.690 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:33:04.690 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:33:04.691 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 13:33:04.691 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 13:33:04.691 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.691 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 13:33:04.691 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 13:33:04.691 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 13:33:04.691 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 13:33:04.691 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 13:33:04.692 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 13:33:04.692 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.692 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 13:33:04.692 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 13:33:04.694 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:33:04.694 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:33:04.694 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 13:33:04.694 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 13:33:04.694 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.694 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 13:33:04.694 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 13:33:04.694 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 13:33:04.695 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:33:04.695 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 13:33:04.695 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 13:33:04.695 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.696 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 13:33:04.696 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 13:33:04.697 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 13:33:04.697 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 13:33:04.698 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.698 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 13:33:04.698 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 13:33:04.708 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 13:33:04.709 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 13:33:04.709 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 13:33:04.709 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:33:04.709 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 13:33:04.709 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 13:33:04.709 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.709 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 13:33:04.710 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 13:33:04.711 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 13:33:04.711 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 13:33:04.711 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:33:04.711 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 13:33:04.711 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 13:33:04.712 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 13:33:04.713 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 13:33:04.713 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:33:04.713 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 13:33:04.713 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 13:33:04.713 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.713 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 13:33:04.713 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 13:33:04.713 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 13:33:04.714 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:33:04.714 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 13:33:04.714 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 13:33:04.714 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 13:33:04.714 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 13:33:04.714 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 13:33:04.715 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.715 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 13:33:04.715 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 13:33:04.715 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 13:33:04.715 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 13:33:04.715 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 13:33:04.716 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:33:04.716 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 13:33:04.716 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 13:33:04.716 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 13:33:04.719 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:33:04.720 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 13:33:04.720 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 13:33:04.720 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:33:04.720 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 13:33:04.720 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 13:33:04.727 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 13:33:04.727 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 13:33:04.727 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 13:33:04.727 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 13:33:04.734 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 13:33:04.734 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 13:33:04.735 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@5663f105
[WARN ] 13:33:04.864 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 13:33:24.628 io.netty.handler.logging.LoggingHandler - [id: 0xe305a72f, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x9912bab8, L:/127.0.0.1:8885 - R:/127.0.0.1:60945]
[INFO ] 13:33:24.629 io.netty.handler.logging.LoggingHandler - [id: 0xe305a72f, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 13:33:24.630 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 13:33:24.663 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 13:48:40.676 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 13:48:40.676 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 13:48:40.678 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 13:48:40.678 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 13:48:45.424 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 13:48:45.432 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 13:48:45.480 org.nutz.resource.Scans - Locations count=79 time use 40ms
[DEBUG] 13:48:45.486 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 13:48:45.486 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 13:48:45.488 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 13:48:45.607 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 13:48:45.607 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 13:48:45.608 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 13:48:45.653 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 13:48:45.655 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 13:48:45.655 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 13:48:45.670 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 13:48:45.700 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 13:48:45.710 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 13:48:45.722 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 13:48:45.724 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 13:48:45.726 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 13:48:45.727 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 13:48:45.731 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 13:48:45.735 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 13:48:45.736 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 13:48:45.736 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 13:48:45.739 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 13:48:45.746 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 13:48:45.748 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 13:48:45.749 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 13:48:45.750 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 13:48:45.752 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 13:48:45.752 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 13:48:45.753 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 13:48:45.754 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 13:48:45.754 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 13:48:45.755 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 13:48:45.755 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 13:48:45.756 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 13:48:45.756 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 13:48:45.757 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 13:48:45.757 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 13:48:45.759 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 13:48:45.770 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 13:48:45.774 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 13:48:45.774 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 13:48:45.775 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 13:48:45.779 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 13:48:45.806 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 13:48:45.806 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 13:48:45.808 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:48:45.810 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 13:48:45.810 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 13:48:45.810 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 13:48:45.811 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:48:45.811 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:48:45.812 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:48:45.827 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 13:48:45.845 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 13:48:45.855 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 13:48:45.856 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 13:48:45.856 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 13:48:45.856 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 13:48:45.857 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 13:48:45.862 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 13:48:45.862 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 13:48:45.863 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 13:48:45.864 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 13:48:45.864 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 13:48:45.865 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 13:48:45.866 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 13:48:45.867 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 13:48:45.887 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 13:48:45.929 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 13:48:45.930 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 13:48:45.930 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:48:45.930 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 13:48:45.930 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 13:48:45.931 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 13:48:45.935 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:48:45.943 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 13:48:45.943 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 13:48:45.943 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:48:45.943 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 13:48:45.944 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 13:48:45.944 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 13:48:45.946 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:48:45.946 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 13:48:45.947 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 13:48:45.947 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 13:48:45.947 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:48:45.947 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 13:48:45.948 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 13:48:45.948 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 13:48:45.949 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:48:45.949 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 13:48:45.949 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 13:48:45.950 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:48:45.950 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 13:48:45.950 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 13:48:45.951 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 13:48:45.952 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:48:45.953 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 13:48:45.986 org.eclipse.jetty.util.log - Logging initialized @1109ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 13:48:46.138 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 13:48:46.138 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 13:48:46.138 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:48:46.139 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 13:48:46.139 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 13:48:46.139 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 13:48:46.140 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 13:48:46.251 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:48:46.254 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 13:48:46.255 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 13:48:46.255 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:48:46.255 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 13:48:46.255 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 13:48:46.255 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 13:48:46.256 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:48:46.257 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 13:48:46.257 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:48:46.257 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:48:46.258 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 13:48:46.258 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 13:48:46.259 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:48:46.285 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 13:48:46.285 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 13:48:46.299 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 13:48:46.320 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 13:48:46.320 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 13:48:46.345 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 13:48:46.345 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 13:48:46.348 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 13:48:46.349 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 13:48:46.350 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 13:48:46.351 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 13:48:46.352 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 13:48:46.353 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 13:48:46.355 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 13:48:46.356 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 13:48:46.356 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 13:48:46.358 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 13:48:46.358 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 13:48:46.358 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 13:48:46.358 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 13:48:46.359 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 13:48:46.360 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 13:48:46.360 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 13:48:46.360 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 13:48:46.366 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 13:48:46.376 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 13:48:46.376 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 13:48:46.386 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 13:48:46.410 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 13:48:46.410 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@27f0ad19
[DEBUG] 13:48:46.511 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input ca stream java.io.BufferedInputStream@27f0ad19
[DEBUG] 13:48:46.545 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 13:48:46.546 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 13:48:46.554 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 13:48:46.554 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 13:48:46.555 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@5f212d84
[DEBUG] 13:48:46.560 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 13:48:46.560 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 13:48:46.560 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 13:48:46.560 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 13:48:46.560 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 13:48:46.560 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 13:48:46.560 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 13:48:46.560 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 13:48:46.560 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 13:48:46.561 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 13:48:46.561 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 13:48:46.561 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 13:48:46.571 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 13:48:46.571 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 13:48:46.571 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[DEBUG] 13:48:46.586 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 13:48:46.690 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 13:48:46.690 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 13:48:51.723 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 9660 (auto-detected)
[DEBUG] 13:48:51.725 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 13:48:51.725 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 13:48:51.728 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 13:48:51.729 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 13:48:51.732 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[INFO ] 13:48:51.761 io.netty.handler.logging.LoggingHandler - [id: 0x06682540] REGISTERED
[INFO ] 13:48:51.762 io.netty.handler.logging.LoggingHandler - [id: 0x06682540] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 13:48:51.766 io.netty.handler.logging.LoggingHandler - [id: 0x1a67286b] REGISTERED
[INFO ] 13:48:51.766 io.netty.handler.logging.LoggingHandler - [id: 0x06682540, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 13:48:51.766 io.netty.handler.logging.LoggingHandler - [id: 0x1a67286b] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 13:48:51.767 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 13:48:51.767 io.netty.handler.logging.LoggingHandler - [id: 0x1a67286b, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 13:48:51.768 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 13:48:51.856 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 13:48:51.862 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 13:48:51.876 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 13:48:51.876 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 13:48:51.878 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 13:48:51.892 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 13:48:51.893 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 13:48:51.894 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:48:51.894 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 13:48:51.894 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:48:51.894 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:48:51.894 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 13:48:51.896 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 13:48:51.896 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 13:48:51.900 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:48:51.901 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 13:48:51.901 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:48:51.902 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 13:48:51.902 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:48:51.902 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:48:51.902 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 13:48:51.903 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 13:48:51.903 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 13:48:51.905 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 13:48:51.906 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:48:51.907 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 13:48:51.911 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 13:48:51.913 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 13:48:51.915 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 13:48:51.917 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 13:48:51.917 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 13:48:51.917 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 13:48:51.917 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 13:48:51.918 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 13:48:51.918 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 13:48:51.918 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 13:48:51.918 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 13:48:51.918 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 13:48:51.919 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 13:48:51.919 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 13:48:51.919 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 13:48:51.919 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 13:48:51.919 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 13:48:51.920 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 13:48:51.920 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 13:48:51.922 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 13:48:51.924 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 13:48:51.927 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 13:48:51.933 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 13:48:51.941 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:48:51.952 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 13:48:51.958 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 13:48:51.959 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 13:48:51.962 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:48:51.966 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 13:48:51.967 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 13:48:51.971 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 13:48:51.974 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 13:48:51.979 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 13:48:51.980 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 13:48:51.981 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 13:48:51.981 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 13:48:51.981 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 13:48:51.983 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 13:48:51.984 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 13:48:51.984 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 13:48:51.984 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 65ms
[INFO ] 13:48:52.007 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@58a2b4c{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 13:48:52.021 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 13:48:52.022 org.eclipse.jetty.server.Server - Started @7144ms
[DEBUG] 13:48:52.022 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 13:48:52.023 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 13:48:52.023 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 13:48:52.023 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:48:52.023 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 13:48:52.023 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 13:48:52.023 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 13:48:52.024 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:48:52.024 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:48:52.024 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 13:48:52.024 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:48:52.024 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:48:52.024 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 13:48:52.051 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 13:48:52.057 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 13:48:52.058 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 13:48:52.058 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:48:52.058 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 13:48:52.058 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 13:48:52.058 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 13:48:52.058 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:48:52.058 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 13:48:52.059 org.nutz.boot.NbApp - mqttwk started : 6692ms
[INFO ] 13:49:20.504 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 13:49:20.505 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 13:49:20.506 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 13:49:20.506 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 13:49:34.322 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 13:49:34.335 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 13:49:34.463 org.nutz.resource.Scans - Locations count=79 time use 117ms
[DEBUG] 13:49:34.472 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 13:49:34.473 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 13:49:34.475 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 13:49:34.722 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 13:49:34.722 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 13:49:34.723 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 13:49:34.786 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 13:49:34.791 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 13:49:34.792 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 13:49:34.822 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 13:49:34.868 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 13:49:34.886 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 13:49:34.901 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 13:49:34.905 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 13:49:34.910 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 13:49:34.911 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 13:49:34.919 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 13:49:34.925 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 13:49:34.926 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 13:49:34.927 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 13:49:34.931 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 13:49:34.941 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 13:49:34.944 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 13:49:34.945 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 13:49:34.946 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 13:49:34.948 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 13:49:34.950 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 13:49:34.951 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 13:49:34.954 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 13:49:34.957 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 13:49:34.958 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 13:49:34.959 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 13:49:34.961 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 13:49:34.962 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 13:49:34.963 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 13:49:34.965 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 13:49:34.967 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 13:49:34.990 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 13:49:34.995 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 13:49:34.995 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 13:49:34.997 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 13:49:35.002 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 13:49:35.044 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 13:49:35.045 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 13:49:35.047 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:49:35.050 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 13:49:35.051 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 13:49:35.052 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 13:49:35.052 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:49:35.053 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:49:35.054 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:49:35.073 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 13:49:35.096 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 13:49:35.108 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 13:49:35.109 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 13:49:35.109 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 13:49:35.110 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 13:49:35.111 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 13:49:35.118 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 13:49:35.118 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 13:49:35.120 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 13:49:35.120 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 13:49:35.121 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 13:49:35.122 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 13:49:35.123 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 13:49:35.123 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 13:49:35.147 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 13:49:35.199 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 13:49:35.200 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 13:49:35.200 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:49:35.200 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 13:49:35.200 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 13:49:35.201 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 13:49:35.204 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:49:35.212 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 13:49:35.213 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 13:49:35.213 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:49:35.214 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 13:49:35.214 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 13:49:35.214 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 13:49:35.216 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:49:35.216 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 13:49:35.217 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 13:49:35.217 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 13:49:35.217 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:49:35.217 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 13:49:35.218 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 13:49:35.218 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 13:49:35.219 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:49:35.220 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 13:49:35.220 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 13:49:35.220 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:49:35.220 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 13:49:35.220 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 13:49:35.221 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 13:49:35.223 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:49:35.223 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 13:49:35.263 org.eclipse.jetty.util.log - Logging initialized @1996ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 13:49:35.467 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 13:49:35.467 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 13:49:35.468 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:49:35.468 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 13:49:35.468 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 13:49:35.468 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 13:49:35.469 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 13:49:35.594 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:49:35.597 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 13:49:35.597 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 13:49:35.597 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:49:35.598 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 13:49:35.598 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 13:49:35.598 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 13:49:35.599 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:49:35.599 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 13:49:35.599 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:49:35.599 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:49:35.599 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 13:49:35.600 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 13:49:35.600 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:49:35.630 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 13:49:35.630 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 13:49:35.643 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 13:49:35.661 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 13:49:35.661 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 13:49:35.681 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 13:49:35.682 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 13:49:35.683 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 13:49:35.684 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 13:49:35.685 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 13:49:35.686 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 13:49:35.687 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 13:49:35.689 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 13:49:35.691 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 13:49:35.692 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 13:49:35.692 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 13:49:35.694 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 13:49:35.695 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 13:49:35.695 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 13:49:35.696 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 13:49:35.697 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 13:49:35.697 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 13:49:35.699 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 13:49:35.699 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 13:49:35.707 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 13:49:35.717 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 13:49:35.717 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 13:49:35.726 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 13:49:35.750 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 13:49:35.751 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@27f0ad19
[DEBUG] 13:49:35.864 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input ca stream java.io.BufferedInputStream@27f0ad19
[DEBUG] 13:49:35.906 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 13:49:35.906 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 13:49:35.915 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 13:49:35.915 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 13:49:35.916 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@18388a3c
[DEBUG] 13:49:35.923 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 13:49:35.923 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 13:49:35.923 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 13:49:35.923 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 13:49:35.923 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 13:49:35.923 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 13:49:35.924 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 13:49:35.924 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 13:49:35.924 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 13:49:35.924 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 13:49:35.924 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 13:49:35.924 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 13:49:35.935 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 13:49:35.935 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 13:49:35.936 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[DEBUG] 13:49:35.954 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 13:49:36.062 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 13:49:36.063 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 13:49:36.108 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 9748 (auto-detected)
[DEBUG] 13:49:36.111 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 13:49:36.111 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 13:49:36.114 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 13:49:36.115 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 13:49:36.118 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[INFO ] 13:49:36.155 io.netty.handler.logging.LoggingHandler - [id: 0xa278a143] REGISTERED
[INFO ] 13:49:36.157 io.netty.handler.logging.LoggingHandler - [id: 0xa278a143] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 13:49:36.162 io.netty.handler.logging.LoggingHandler - [id: 0xf50d8796] REGISTERED
[INFO ] 13:49:36.162 io.netty.handler.logging.LoggingHandler - [id: 0xa278a143, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 13:49:36.162 io.netty.handler.logging.LoggingHandler - [id: 0xf50d8796] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 13:49:36.162 io.netty.handler.logging.LoggingHandler - [id: 0xf50d8796, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 13:49:36.162 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 13:49:36.164 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 13:49:36.262 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 13:49:36.267 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 13:49:36.282 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 13:49:36.282 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 13:49:36.286 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 13:49:36.301 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 13:49:36.301 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 13:49:36.303 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:49:36.303 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 13:49:36.303 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:49:36.303 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:49:36.303 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 13:49:36.305 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 13:49:36.306 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 13:49:36.308 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:49:36.308 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 13:49:36.309 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:49:36.309 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 13:49:36.309 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:49:36.309 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:49:36.309 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 13:49:36.310 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 13:49:36.310 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 13:49:36.311 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 13:49:36.313 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:49:36.313 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 13:49:36.316 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 13:49:36.319 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 13:49:36.320 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 13:49:36.323 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 13:49:36.323 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 13:49:36.323 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 13:49:36.323 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 13:49:36.323 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 13:49:36.323 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 13:49:36.323 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 13:49:36.324 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 13:49:36.324 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 13:49:36.324 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 13:49:36.324 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 13:49:36.324 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 13:49:36.324 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 13:49:36.324 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 13:49:36.325 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 13:49:36.325 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 13:49:36.328 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 13:49:36.329 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 13:49:36.333 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 13:49:36.340 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 13:49:36.349 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:49:36.361 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 13:49:36.367 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 13:49:36.367 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 13:49:36.372 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:49:36.376 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 13:49:36.377 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 13:49:36.380 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 13:49:36.384 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 13:49:36.390 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 13:49:36.391 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 13:49:36.391 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 13:49:36.391 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 13:49:36.392 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 13:49:36.395 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 13:49:36.395 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 13:49:36.395 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 13:49:36.396 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 72ms
[INFO ] 13:49:36.420 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@42210be1{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 13:49:36.434 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 13:49:36.434 org.eclipse.jetty.server.Server - Started @3168ms
[DEBUG] 13:49:36.434 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 13:49:36.435 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 13:49:36.435 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 13:49:36.435 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:49:36.435 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 13:49:36.435 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 13:49:36.436 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 13:49:36.437 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:49:36.437 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:49:36.437 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 13:49:36.437 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:49:36.438 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:49:36.438 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 13:49:36.466 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 13:49:36.474 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 13:49:36.475 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 13:49:36.475 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:49:36.475 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 13:49:36.475 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 13:49:36.475 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 13:49:36.475 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:49:36.476 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 13:49:36.476 org.nutz.boot.NbApp - mqttwk started : 2254ms
[INFO ] 13:50:00.838 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 13:50:00.838 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 13:50:00.839 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 13:50:00.840 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 13:50:05.027 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 13:50:05.035 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 13:50:05.067 org.nutz.resource.Scans - Locations count=79 time use 27ms
[DEBUG] 13:50:05.072 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 13:50:05.072 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 13:50:05.073 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 13:50:05.163 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 13:50:05.163 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 13:50:05.163 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 13:50:05.199 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 13:50:05.201 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 13:50:05.202 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 13:50:05.214 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 13:50:05.245 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 13:50:05.256 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 13:50:05.266 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 13:50:05.268 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 13:50:05.271 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 13:50:05.272 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 13:50:05.275 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 13:50:05.278 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 13:50:05.279 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 13:50:05.279 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 13:50:05.281 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 13:50:05.287 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 13:50:05.289 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 13:50:05.290 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 13:50:05.290 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 13:50:05.291 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 13:50:05.292 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 13:50:05.292 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 13:50:05.293 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 13:50:05.293 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 13:50:05.294 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 13:50:05.294 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 13:50:05.295 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 13:50:05.295 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 13:50:05.295 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 13:50:05.296 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 13:50:05.297 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 13:50:05.307 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 13:50:05.309 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 13:50:05.310 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 13:50:05.311 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 13:50:05.314 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 13:50:05.337 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 13:50:05.337 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 13:50:05.339 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:50:05.341 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 13:50:05.341 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 13:50:05.342 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 13:50:05.342 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:50:05.342 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:50:05.343 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 13:50:05.353 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 13:50:05.364 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 13:50:05.372 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 13:50:05.373 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 13:50:05.373 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 13:50:05.373 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 13:50:05.373 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 13:50:05.377 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 13:50:05.378 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 13:50:05.379 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 13:50:05.379 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 13:50:05.379 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 13:50:05.380 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 13:50:05.381 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 13:50:05.381 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 13:50:05.396 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 13:50:05.428 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 13:50:05.428 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 13:50:05.429 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:05.429 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 13:50:05.429 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 13:50:05.430 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 13:50:05.432 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:50:05.437 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 13:50:05.438 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 13:50:05.438 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:50:05.438 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 13:50:05.438 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 13:50:05.438 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 13:50:05.439 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:50:05.439 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 13:50:05.439 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 13:50:05.440 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 13:50:05.440 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:50:05.440 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 13:50:05.440 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 13:50:05.440 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 13:50:05.441 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:50:05.441 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 13:50:05.441 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 13:50:05.441 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:50:05.441 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 13:50:05.441 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 13:50:05.442 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 13:50:05.442 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:50:05.442 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 13:50:05.471 org.eclipse.jetty.util.log - Logging initialized @953ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 13:50:05.614 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 13:50:05.615 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 13:50:05.615 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:50:05.615 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 13:50:05.615 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 13:50:05.615 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 13:50:05.616 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 13:50:05.720 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:50:05.723 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 13:50:05.723 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 13:50:05.723 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:05.723 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 13:50:05.723 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 13:50:05.724 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 13:50:05.724 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:50:05.724 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 13:50:05.724 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:05.724 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:50:05.724 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 13:50:05.725 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 13:50:05.725 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:50:05.744 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 13:50:05.744 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 13:50:05.754 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 13:50:05.768 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 13:50:05.768 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 13:50:05.784 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 13:50:05.784 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 13:50:05.786 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 13:50:05.787 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 13:50:05.788 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 13:50:05.788 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 13:50:05.788 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 13:50:05.789 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 13:50:05.791 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @55dfcc6
[DEBUG] 13:50:05.792 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 13:50:05.792 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 13:50:05.794 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 13:50:05.794 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 13:50:05.794 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 13:50:05.795 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 13:50:05.796 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 13:50:05.796 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 13:50:05.797 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 13:50:05.797 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 13:50:05.804 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 13:50:05.814 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 13:50:05.815 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 13:50:05.824 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 13:50:05.849 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 13:50:05.849 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@27f0ad19
[DEBUG] 13:50:05.945 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input ca stream java.io.BufferedInputStream@36a7abe1
[DEBUG] 13:50:05.983 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 13:50:05.984 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 13:50:05.991 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 13:50:05.991 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 13:50:05.992 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@3bd55d8
[DEBUG] 13:50:05.997 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 13:50:05.997 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 13:50:05.997 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 13:50:05.997 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 13:50:05.997 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 13:50:05.998 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 13:50:05.998 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 13:50:05.998 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 13:50:05.998 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 13:50:05.998 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 13:50:05.998 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 13:50:05.998 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 13:50:06.009 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 13:50:06.010 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 13:50:06.010 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[DEBUG] 13:50:06.024 io.netty.handler.ssl.OpenSsl - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.
[DEBUG] 13:50:06.127 io.netty.handler.ssl.JdkSslContext - Default protocols (JDK): [TLSv1.3, TLSv1.2] 
[DEBUG] 13:50:06.128 io.netty.handler.ssl.JdkSslContext - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384]
[DEBUG] 13:50:11.159 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 9781 (auto-detected)
[DEBUG] 13:50:11.161 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 13:50:11.162 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 13:50:11.165 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 13:50:11.165 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 13:50:11.169 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[INFO ] 13:50:11.198 io.netty.handler.logging.LoggingHandler - [id: 0xdad47ffa] REGISTERED
[INFO ] 13:50:11.200 io.netty.handler.logging.LoggingHandler - [id: 0xdad47ffa] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 13:50:11.204 io.netty.handler.logging.LoggingHandler - [id: 0xc476655a] REGISTERED
[INFO ] 13:50:11.204 io.netty.handler.logging.LoggingHandler - [id: 0xdad47ffa, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 13:50:11.204 io.netty.handler.logging.LoggingHandler - [id: 0xc476655a] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 13:50:11.204 io.netty.handler.logging.LoggingHandler - [id: 0xc476655a, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 13:50:11.204 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 13:50:11.206 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 13:50:11.285 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 13:50:11.290 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 13:50:11.301 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 13:50:11.301 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 13:50:11.303 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 13:50:11.315 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 13:50:11.315 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 13:50:11.315 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:50:11.316 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 13:50:11.316 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:50:11.316 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:50:11.316 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 13:50:11.317 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 13:50:11.317 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 13:50:11.320 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 13:50:11.321 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 13:50:11.321 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:50:11.321 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 13:50:11.321 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 13:50:11.321 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:50:11.322 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 13:50:11.322 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 13:50:11.323 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 13:50:11.323 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 13:50:11.325 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 13:50:11.325 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 13:50:11.328 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 13:50:11.330 org.nutz.resource.Scans - Locations count=80 time use 0ms
[DEBUG] 13:50:11.331 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 13:50:11.333 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 13:50:11.333 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 13:50:11.333 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 13:50:11.333 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 13:50:11.333 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 13:50:11.333 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 13:50:11.333 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 13:50:11.333 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 13:50:11.334 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 13:50:11.334 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 13:50:11.334 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 13:50:11.334 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 13:50:11.334 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 13:50:11.335 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 13:50:11.335 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 13:50:11.335 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 13:50:11.338 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 13:50:11.339 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 13:50:11.341 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 13:50:11.347 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 13:50:11.353 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:50:11.362 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 13:50:11.367 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 13:50:11.368 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 13:50:11.372 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 13:50:11.375 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 13:50:11.376 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 13:50:11.379 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 13:50:11.381 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 13:50:11.386 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 13:50:11.387 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 13:50:11.387 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 13:50:11.388 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 13:50:11.388 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 13:50:11.389 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 13:50:11.389 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 13:50:11.390 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 13:50:11.390 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 55ms
[INFO ] 13:50:11.411 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@f446158{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 13:50:11.423 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 13:50:11.424 org.eclipse.jetty.server.Server - Started @6906ms
[DEBUG] 13:50:11.424 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 13:50:11.424 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 13:50:11.424 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 13:50:11.424 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:11.425 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 13:50:11.425 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 13:50:11.425 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 13:50:11.425 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:50:11.425 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:50:11.425 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 13:50:11.426 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:50:11.426 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:50:11.426 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 13:50:11.450 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 13:50:11.457 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 13:50:11.457 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 13:50:11.457 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:50:11.457 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 13:50:11.457 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 13:50:11.458 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 13:50:11.458 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:11.458 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 13:50:11.459 org.nutz.boot.NbApp - mqttwk started : 6484ms
[INFO ] 13:50:26.593 io.netty.handler.logging.LoggingHandler - [id: 0xdad47ffa, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x9b31ce64, L:/127.0.0.1:8885 - R:/127.0.0.1:64742]
[INFO ] 13:50:26.594 io.netty.handler.logging.LoggingHandler - [id: 0xdad47ffa, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 13:50:26.623 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 13:50:26.624 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 13:50:26.624 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.624 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 13:50:26.625 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 13:50:26.625 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 13:50:26.626 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 13:50:26.626 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 13:50:26.626 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.626 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 13:50:26.626 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 13:50:26.626 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 13:50:26.627 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 13:50:26.627 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 13:50:26.628 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.628 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 13:50:26.628 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 13:50:26.638 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:50:26.638 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 13:50:26.638 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 13:50:26.638 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.638 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 13:50:26.638 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 13:50:26.639 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 13:50:26.639 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 13:50:26.639 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 13:50:26.639 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.639 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 13:50:26.640 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 13:50:26.641 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:50:26.642 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 13:50:26.642 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 13:50:26.642 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 13:50:26.642 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.642 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 13:50:26.642 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 13:50:26.644 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:50:26.644 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 13:50:26.645 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 13:50:26.645 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 13:50:26.645 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.645 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 13:50:26.645 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 13:50:26.645 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 13:50:26.646 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:50:26.648 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 13:50:26.648 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 13:50:26.649 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:50:26.649 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 13:50:26.649 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 13:50:26.657 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 13:50:26.657 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 13:50:26.657 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:50:26.658 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 13:50:26.658 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 13:50:26.658 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 13:50:26.658 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.659 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.660 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.660 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.660 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.660 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.660 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.662 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 13:50:26.662 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 13:50:26.662 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.663 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.663 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.663 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.663 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 13:50:26.761 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 13:50:26.762 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1031275168
[DEBUG] 13:50:26.762 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1031275168
[DEBUG] 13:50:26.762 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1031275168
[DEBUG] 13:50:26.762 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1031275168
[DEBUG] 13:50:26.762 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1031275168
[DEBUG] 13:50:26.762 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1832669781
[DEBUG] 13:50:26.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.764 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.764 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.764 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.764 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.764 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.764 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.764 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.764 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 13:50:26.764 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 13:50:26.764 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.765 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 13:50:26.765 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 13:50:26.765 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 13:50:26.765 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 13:50:26.765 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 13:50:26.765 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.765 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 13:50:26.766 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 13:50:26.767 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:50:26.767 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:50:26.768 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 13:50:26.768 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 13:50:26.768 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 13:50:26.768 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.768 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 13:50:26.768 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 13:50:26.769 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 13:50:26.769 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 13:50:26.769 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 13:50:26.769 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 13:50:26.769 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.769 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 13:50:26.769 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 13:50:26.771 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:50:26.771 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:50:26.771 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 13:50:26.771 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 13:50:26.771 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.771 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 13:50:26.772 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 13:50:26.772 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 13:50:26.772 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 13:50:26.772 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 13:50:26.772 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 13:50:26.772 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.772 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 13:50:26.773 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 13:50:26.774 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 13:50:26.775 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 13:50:26.775 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 13:50:26.775 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 13:50:26.775 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.775 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 13:50:26.775 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 13:50:26.776 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 13:50:26.776 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:50:26.776 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 13:50:26.777 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 13:50:26.777 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.777 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 13:50:26.777 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 13:50:26.778 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 13:50:26.779 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 13:50:26.779 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.779 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 13:50:26.779 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 13:50:26.793 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 13:50:26.793 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 13:50:26.794 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 13:50:26.794 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:50:26.794 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 13:50:26.794 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 13:50:26.794 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.794 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 13:50:26.794 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 13:50:26.796 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 13:50:26.796 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 13:50:26.796 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 13:50:26.796 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 13:50:26.796 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 13:50:26.798 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 13:50:26.798 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 13:50:26.799 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:50:26.799 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 13:50:26.799 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 13:50:26.799 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.799 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 13:50:26.799 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 13:50:26.799 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 13:50:26.800 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:50:26.800 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 13:50:26.800 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 13:50:26.801 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 13:50:26.801 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 13:50:26.801 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 13:50:26.801 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.801 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 13:50:26.801 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 13:50:26.802 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 13:50:26.802 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 13:50:26.802 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 13:50:26.803 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 13:50:26.803 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 13:50:26.803 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 13:50:26.803 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 13:50:26.806 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:50:26.807 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 13:50:26.808 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 13:50:26.808 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 13:50:26.808 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 13:50:26.808 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 13:50:26.814 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 13:50:26.814 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 13:50:26.814 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 13:50:26.814 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[WARN ] 13:50:26.962 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 14:36:19.369 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@338494fa{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:36:19.372 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 14:36:19.377 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 14:36:19.378 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 14:37:06.833 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 14:37:06.846 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 14:37:06.962 org.nutz.resource.Scans - Locations count=79 time use 95ms
[DEBUG] 14:37:06.976 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:37:06.977 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 14:37:06.979 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 14:37:07.152 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:37:07.153 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 14:37:07.154 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 14:37:07.219 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 14:37:07.222 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 14:37:07.224 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 14:37:07.250 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 14:37:07.289 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 14:37:07.307 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:37:07.323 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 14:37:07.326 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 14:37:07.331 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 14:37:07.333 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 14:37:07.339 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 14:37:07.342 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 14:37:07.344 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 14:37:07.345 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 14:37:07.349 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 14:37:07.357 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 14:37:07.361 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 14:37:07.362 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 14:37:07.363 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 14:37:07.365 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 14:37:07.366 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 14:37:07.367 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 14:37:07.368 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 14:37:07.369 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 14:37:07.370 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 14:37:07.371 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 14:37:07.372 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:37:07.373 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 14:37:07.374 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 14:37:07.375 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 14:37:07.377 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:37:07.393 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 14:37:07.398 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 14:37:07.399 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 14:37:07.400 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 14:37:07.406 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 14:37:07.448 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 14:37:07.449 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 14:37:07.451 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:37:07.455 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:37:07.455 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:37:07.456 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 14:37:07.456 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:37:07.457 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:37:07.458 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:37:07.478 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 14:37:07.499 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 14:37:07.513 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 14:37:07.514 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 14:37:07.515 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 14:37:07.515 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 14:37:07.516 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 14:37:07.523 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:37:07.523 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 14:37:07.524 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 14:37:07.525 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:37:07.526 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:37:07.527 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 14:37:07.528 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1594791957
[DEBUG] 14:37:07.528 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:37:07.549 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 14:37:07.592 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 14:37:07.592 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 14:37:07.593 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:07.593 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:37:07.593 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 14:37:07.594 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 14:37:07.597 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:37:07.602 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:37:07.603 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 14:37:07.603 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:37:07.603 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:37:07.604 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 14:37:07.604 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 14:37:07.606 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:37:07.606 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:37:07.606 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:37:07.606 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 14:37:07.607 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:37:07.607 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:37:07.607 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 14:37:07.607 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 14:37:07.608 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:37:07.609 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:37:07.609 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 14:37:07.609 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:37:07.609 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:37:07.609 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 14:37:07.610 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 14:37:07.610 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:37:07.611 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 14:37:07.649 org.eclipse.jetty.util.log - Logging initialized @2037ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 14:37:07.853 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:37:07.853 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 14:37:07.853 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:37:07.854 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:37:07.854 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 14:37:07.854 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 14:37:07.855 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:37:07.979 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:37:07.983 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:37:07.984 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 14:37:07.984 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:07.984 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:37:07.985 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 14:37:07.985 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 14:37:07.986 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:37:07.986 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 14:37:07.986 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:07.987 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:37:07.987 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 14:37:07.987 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 14:37:07.988 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:37:08.014 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 14:37:08.014 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 14:37:08.025 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 14:37:08.043 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 14:37:08.043 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 14:37:08.062 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 14:37:08.063 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 14:37:08.065 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 14:37:08.065 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 14:37:08.066 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 14:37:08.067 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 14:37:08.067 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 14:37:08.068 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 14:37:08.070 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @635572a7
[DEBUG] 14:37:08.071 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 14:37:08.071 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 14:37:08.073 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 14:37:08.073 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 14:37:08.073 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 14:37:08.073 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 14:37:08.075 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 14:37:08.075 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 14:37:08.076 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 14:37:08.076 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 14:37:08.083 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 14:37:08.093 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 14:37:08.093 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 14:37:08.100 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 14:37:08.121 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 14:37:08.121 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@54f5f647
[DEBUG] 14:37:08.352 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input ca stream java.io.BufferedInputStream@d2387c8
[DEBUG] 14:37:13.428 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 13416 (auto-detected)
[DEBUG] 14:37:13.430 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 14:37:13.431 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 14:37:13.433 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 14:37:13.434 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 14:37:13.437 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 14:37:13.447 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 14:37:13.447 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 14:37:13.471 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 14:37:13.472 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 14:37:13.483 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 14:37:13.483 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 14:37:13.483 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 14:37:13.496 io.netty.handler.logging.LoggingHandler - [id: 0xee4c6473] REGISTERED
[INFO ] 14:37:13.498 io.netty.handler.logging.LoggingHandler - [id: 0xee4c6473] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 14:37:13.501 io.netty.handler.logging.LoggingHandler - [id: 0xc6d6c743] REGISTERED
[INFO ] 14:37:13.501 io.netty.handler.logging.LoggingHandler - [id: 0xee4c6473, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 14:37:13.502 io.netty.handler.logging.LoggingHandler - [id: 0xc6d6c743] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 14:37:13.502 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 14:37:13.502 io.netty.handler.logging.LoggingHandler - [id: 0xc6d6c743, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 14:37:13.504 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 14:37:13.585 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 14:37:13.590 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 14:37:13.602 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 14:37:13.602 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 14:37:13.605 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 14:37:13.616 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:37:13.617 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:37:13.618 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:37:13.618 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 14:37:13.618 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:37:13.618 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:37:13.618 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 14:37:13.619 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 14:37:13.619 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 14:37:13.621 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:37:13.622 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 14:37:13.623 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:37:13.623 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 14:37:13.623 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:37:13.623 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:37:13.623 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 14:37:13.624 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 14:37:13.624 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 14:37:13.625 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 14:37:13.627 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:37:13.627 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 14:37:13.631 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 14:37:13.633 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 14:37:13.634 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 14:37:13.635 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 14:37:13.635 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 14:37:13.635 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 14:37:13.635 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 14:37:13.636 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 14:37:13.636 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 14:37:13.636 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 14:37:13.636 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 14:37:13.636 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 14:37:13.636 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 14:37:13.636 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 14:37:13.636 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 14:37:13.636 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 14:37:13.637 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:37:13.637 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 14:37:13.637 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 14:37:13.640 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 14:37:13.641 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 14:37:13.644 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 14:37:13.649 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 14:37:13.656 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:37:13.666 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:37:13.673 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 14:37:13.673 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 14:37:13.676 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:37:13.680 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:37:13.681 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 14:37:13.684 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 14:37:13.686 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 14:37:13.690 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:37:13.693 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:37:13.694 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 14:37:13.694 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 14:37:13.694 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 14:37:13.696 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:37:13.696 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 14:37:13.696 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 14:37:13.697 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 60ms
[INFO ] 14:37:13.716 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@4682eba5{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 14:37:13.729 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@a776e{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:37:13.729 org.eclipse.jetty.server.Server - Started @8116ms
[DEBUG] 14:37:13.730 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 14:37:13.730 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:37:13.730 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 14:37:13.730 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:13.730 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:37:13.731 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 14:37:13.731 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 14:37:13.731 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:37:13.731 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:37:13.731 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 14:37:13.732 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:37:13.732 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:37:13.732 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 14:37:13.755 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 14:37:13.762 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:37:13.762 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 14:37:13.763 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:37:13.763 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 14:37:13.763 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 14:37:13.763 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 14:37:13.763 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:13.763 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 14:37:13.764 org.nutz.boot.NbApp - mqttwk started : 7090ms
[INFO ] 14:37:50.583 io.netty.handler.logging.LoggingHandler - [id: 0xee4c6473, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x0940d74e, L:/127.0.0.1:8885 - R:/127.0.0.1:58695]
[INFO ] 14:37:50.584 io.netty.handler.logging.LoggingHandler - [id: 0xee4c6473, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:37:50.627 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:37:50.627 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 14:37:50.628 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.628 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:37:50.628 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 14:37:50.628 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 14:37:50.629 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:37:50.629 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 14:37:50.629 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.629 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:37:50.630 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 14:37:50.630 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 14:37:50.631 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:37:50.631 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 14:37:50.631 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.631 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:37:50.631 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 14:37:50.639 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:37:50.639 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:37:50.639 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 14:37:50.639 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.639 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:37:50.639 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 14:37:50.640 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 14:37:50.640 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:37:50.640 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 14:37:50.640 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.640 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:37:50.640 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 14:37:50.642 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:37:50.642 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:37:50.642 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:37:50.642 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 14:37:50.643 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.643 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:37:50.643 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 14:37:50.645 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:37:50.645 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:37:50.645 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:37:50.645 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 14:37:50.645 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.645 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:37:50.646 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 14:37:50.646 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 14:37:50.646 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:37:50.649 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 14:37:50.649 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 14:37:50.649 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:37:50.649 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 14:37:50.649 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 14:37:50.656 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 14:37:50.656 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 14:37:50.657 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:37:50.657 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 14:37:50.657 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 14:37:50.657 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 14:37:50.657 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.659 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.659 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.659 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.659 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.659 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.659 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.661 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 14:37:50.662 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 14:37:50.662 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.662 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.662 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.662 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.662 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:37:50.744 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 14:37:50.744 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1818994545
[DEBUG] 14:37:50.744 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1818994545
[DEBUG] 14:37:50.744 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1818994545
[DEBUG] 14:37:50.745 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1818994545
[DEBUG] 14:37:50.745 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1818994545
[DEBUG] 14:37:50.745 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1594791957
[DEBUG] 14:37:50.745 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.745 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.745 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.745 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.745 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.745 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.746 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.747 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 14:37:50.747 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 14:37:50.747 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.747 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 14:37:50.747 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 14:37:50.747 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 14:37:50.747 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 14:37:50.748 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 14:37:50.748 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.748 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 14:37:50.748 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 14:37:50.749 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:37:50.749 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:37:50.750 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:37:50.750 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 14:37:50.750 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 14:37:50.750 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.750 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 14:37:50.750 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 14:37:50.750 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 14:37:50.751 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:37:50.751 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 14:37:50.751 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 14:37:50.751 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.751 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 14:37:50.751 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 14:37:50.753 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:37:50.753 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:37:50.753 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 14:37:50.753 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 14:37:50.753 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.753 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 14:37:50.754 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 14:37:50.754 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 14:37:50.754 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:37:50.754 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 14:37:50.754 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 14:37:50.754 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.755 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 14:37:50.755 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 14:37:50.757 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:37:50.757 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:37:50.757 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 14:37:50.757 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 14:37:50.757 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.757 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 14:37:50.757 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 14:37:50.758 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 14:37:50.758 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:37:50.759 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 14:37:50.759 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 14:37:50.759 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.759 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 14:37:50.759 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 14:37:50.761 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 14:37:50.761 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 14:37:50.761 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.761 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 14:37:50.761 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 14:37:50.771 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 14:37:50.771 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 14:37:50.772 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 14:37:50.772 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:37:50.772 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 14:37:50.772 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 14:37:50.772 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.772 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 14:37:50.772 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 14:37:50.774 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 14:37:50.774 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 14:37:50.774 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:37:50.774 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 14:37:50.774 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 14:37:50.775 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 14:37:50.776 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:37:50.776 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:37:50.776 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 14:37:50.776 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 14:37:50.776 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.777 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 14:37:50.777 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 14:37:50.777 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 14:37:50.778 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:37:50.778 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 14:37:50.778 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 14:37:50.778 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 14:37:50.778 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:37:50.778 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 14:37:50.779 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.779 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:37:50.779 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 14:37:50.779 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 14:37:50.779 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:37:50.780 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 14:37:50.780 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:37:50.780 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 14:37:50.780 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 14:37:50.780 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 14:37:50.783 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:37:50.784 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:37:50.784 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:37:50.785 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:37:50.785 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:37:50.785 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:37:50.790 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 14:37:50.791 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 14:37:50.791 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 14:37:50.791 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 14:37:50.797 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 14:37:50.797 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 14:37:50.798 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@6dbbd86
[WARN ] 14:37:50.928 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 14:38:08.587 io.netty.handler.logging.LoggingHandler - [id: 0xee4c6473, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x8f884bfd, L:/127.0.0.1:8885 - R:/127.0.0.1:58761]
[INFO ] 14:38:08.588 io.netty.handler.logging.LoggingHandler - [id: 0xee4c6473, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:38:08.589 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 14:38:08.628 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 14:39:18.747 io.netty.handler.logging.LoggingHandler - [id: 0xee4c6473, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xbd65c250, L:/127.0.0.1:8885 - R:/127.0.0.1:58994]
[INFO ] 14:39:18.748 io.netty.handler.logging.LoggingHandler - [id: 0xee4c6473, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:39:18.749 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 14:39:18.777 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 14:40:03.049 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@a776e{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:40:03.049 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 14:40:03.050 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 14:40:03.051 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 14:40:08.083 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 14:40:08.090 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 14:40:08.127 org.nutz.resource.Scans - Locations count=79 time use 31ms
[DEBUG] 14:40:08.131 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:40:08.131 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 14:40:08.132 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 14:40:08.231 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:40:08.232 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 14:40:08.233 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 14:40:08.270 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 14:40:08.272 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 14:40:08.273 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 14:40:08.286 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 14:40:08.315 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 14:40:08.325 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:40:08.335 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 14:40:08.337 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 14:40:08.340 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 14:40:08.341 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 14:40:08.344 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 14:40:08.346 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 14:40:08.346 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 14:40:08.347 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 14:40:08.348 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 14:40:08.353 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 14:40:08.355 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 14:40:08.356 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 14:40:08.356 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 14:40:08.358 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 14:40:08.358 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 14:40:08.359 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 14:40:08.359 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 14:40:08.360 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 14:40:08.360 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 14:40:08.361 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 14:40:08.361 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:40:08.361 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 14:40:08.362 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 14:40:08.362 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 14:40:08.363 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:40:08.373 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 14:40:08.377 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 14:40:08.377 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 14:40:08.378 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 14:40:08.382 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 14:40:08.408 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 14:40:08.408 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 14:40:08.410 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:40:08.412 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:40:08.412 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:40:08.412 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 14:40:08.412 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:40:08.413 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:40:08.413 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:40:08.424 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 14:40:08.437 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 14:40:08.447 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 14:40:08.448 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 14:40:08.449 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 14:40:08.449 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 14:40:08.450 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 14:40:08.456 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:40:08.457 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 14:40:08.458 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 14:40:08.459 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:40:08.460 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:40:08.460 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 14:40:08.461 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1988644427
[DEBUG] 14:40:08.461 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:40:08.481 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 14:40:08.523 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 14:40:08.523 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 14:40:08.523 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:08.524 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:40:08.524 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 14:40:08.525 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 14:40:08.528 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:40:08.535 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:40:08.535 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 14:40:08.535 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:40:08.535 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:40:08.536 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 14:40:08.536 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 14:40:08.537 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:40:08.537 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:40:08.538 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:40:08.538 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 14:40:08.538 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:40:08.538 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:40:08.539 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 14:40:08.540 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 14:40:08.541 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:40:08.541 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:40:08.541 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 14:40:08.541 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:40:08.541 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:40:08.542 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 14:40:08.542 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 14:40:08.543 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:40:08.543 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 14:40:08.572 org.eclipse.jetty.util.log - Logging initialized @1147ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 14:40:08.696 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:40:08.696 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 14:40:08.696 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:40:08.697 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:40:08.697 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 14:40:08.697 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 14:40:08.697 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:40:08.810 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:40:08.813 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:40:08.813 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 14:40:08.813 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:08.814 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:40:08.814 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 14:40:08.814 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 14:40:08.815 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:40:08.815 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 14:40:08.815 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:08.815 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:40:08.815 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 14:40:08.816 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 14:40:08.816 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:40:08.835 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 14:40:08.835 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 14:40:08.847 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 14:40:08.863 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 14:40:08.863 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 14:40:08.880 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 14:40:08.881 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 14:40:08.882 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 14:40:08.883 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 14:40:08.884 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 14:40:08.884 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 14:40:08.884 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 14:40:08.885 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 14:40:08.886 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @79d94571
[DEBUG] 14:40:08.887 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 14:40:08.887 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 14:40:08.889 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 14:40:08.889 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 14:40:08.890 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 14:40:08.890 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 14:40:08.892 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 14:40:08.892 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 14:40:08.893 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 14:40:08.893 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 14:40:08.898 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 14:40:08.909 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 14:40:08.910 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 14:40:08.917 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 14:40:08.941 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 14:40:08.941 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@6979efad
[DEBUG] 14:40:09.178 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input ca stream java.io.BufferedInputStream@1500e009
[DEBUG] 14:40:14.261 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 13615 (auto-detected)
[DEBUG] 14:40:14.264 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 14:40:14.264 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 14:40:14.267 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 14:40:14.268 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 14:40:14.271 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 14:40:14.281 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 14:40:14.281 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 14:40:14.308 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 14:40:14.308 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 14:40:14.308 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 14:40:14.308 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 14:40:14.309 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 14:40:14.309 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 14:40:14.309 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 14:40:14.309 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 14:40:14.309 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 14:40:14.309 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 14:40:14.309 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 14:40:14.309 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 14:40:14.320 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 14:40:14.320 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 14:40:14.320 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 14:40:14.343 io.netty.handler.logging.LoggingHandler - [id: 0xb43c3608] REGISTERED
[INFO ] 14:40:14.345 io.netty.handler.logging.LoggingHandler - [id: 0xb43c3608] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 14:40:14.348 io.netty.handler.logging.LoggingHandler - [id: 0xf1b6c74f] REGISTERED
[INFO ] 14:40:14.349 io.netty.handler.logging.LoggingHandler - [id: 0xb43c3608, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 14:40:14.349 io.netty.handler.logging.LoggingHandler - [id: 0xf1b6c74f] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 14:40:14.349 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 14:40:14.349 io.netty.handler.logging.LoggingHandler - [id: 0xf1b6c74f, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 14:40:14.351 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 14:40:14.438 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 14:40:14.444 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 14:40:14.457 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 14:40:14.457 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 14:40:14.460 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 14:40:14.473 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:40:14.474 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:40:14.474 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:40:14.475 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 14:40:14.475 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:40:14.475 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:40:14.475 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 14:40:14.476 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 14:40:14.476 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 14:40:14.478 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:40:14.479 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 14:40:14.480 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:40:14.480 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 14:40:14.480 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:40:14.480 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:40:14.480 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 14:40:14.481 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 14:40:14.481 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 14:40:14.483 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 14:40:14.484 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:40:14.485 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 14:40:14.489 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 14:40:14.492 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 14:40:14.493 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 14:40:14.495 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 14:40:14.495 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 14:40:14.495 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 14:40:14.495 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 14:40:14.495 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 14:40:14.495 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 14:40:14.495 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 14:40:14.495 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 14:40:14.496 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 14:40:14.496 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 14:40:14.496 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 14:40:14.496 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 14:40:14.496 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 14:40:14.496 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:40:14.497 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 14:40:14.497 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 14:40:14.500 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 14:40:14.501 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 14:40:14.505 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 14:40:14.511 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 14:40:14.519 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:40:14.530 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:40:14.537 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 14:40:14.537 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 14:40:14.543 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:40:14.546 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:40:14.547 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 14:40:14.551 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 14:40:14.554 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 14:40:14.560 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:40:14.560 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:40:14.561 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 14:40:14.561 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 14:40:14.561 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 14:40:14.563 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:40:14.563 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 14:40:14.563 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 14:40:14.564 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 68ms
[INFO ] 14:40:14.586 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@61fafb74{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 14:40:14.598 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@792bbc74{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:40:14.599 org.eclipse.jetty.server.Server - Started @7174ms
[DEBUG] 14:40:14.599 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 14:40:14.600 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:40:14.600 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 14:40:14.600 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:14.600 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:40:14.600 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 14:40:14.600 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 14:40:14.601 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:40:14.601 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:40:14.601 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 14:40:14.601 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:40:14.601 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:40:14.601 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 14:40:14.627 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 14:40:14.634 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:40:14.634 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 14:40:14.635 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:40:14.635 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 14:40:14.635 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 14:40:14.635 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 14:40:14.635 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:14.635 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 14:40:14.636 org.nutz.boot.NbApp - mqttwk started : 6615ms
[INFO ] 14:40:23.316 io.netty.handler.logging.LoggingHandler - [id: 0xb43c3608, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x19a8083d, L:/127.0.0.1:8885 - R:/127.0.0.1:59226]
[INFO ] 14:40:23.317 io.netty.handler.logging.LoggingHandler - [id: 0xb43c3608, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:40:23.360 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:40:23.361 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 14:40:23.361 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.361 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:40:23.361 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 14:40:23.361 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 14:40:23.362 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:40:23.362 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 14:40:23.363 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.363 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:40:23.363 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 14:40:23.363 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 14:40:23.364 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:40:23.364 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 14:40:23.364 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.364 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:40:23.365 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 14:40:23.373 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:40:23.374 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:40:23.374 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 14:40:23.374 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.374 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:40:23.374 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 14:40:23.374 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 14:40:23.375 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:40:23.375 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 14:40:23.375 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.375 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:40:23.375 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 14:40:23.377 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:40:23.377 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:40:23.378 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:40:23.378 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 14:40:23.378 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.378 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:40:23.378 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 14:40:23.380 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:40:23.380 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:40:23.381 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:40:23.381 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 14:40:23.381 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.381 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:40:23.381 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 14:40:23.381 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 14:40:23.382 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:40:23.384 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 14:40:23.385 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 14:40:23.385 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:40:23.385 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 14:40:23.385 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 14:40:23.391 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 14:40:23.391 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 14:40:23.391 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:40:23.392 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 14:40:23.392 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 14:40:23.392 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 14:40:23.392 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.394 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.394 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.394 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.394 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.394 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.394 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.396 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 14:40:23.397 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 14:40:23.397 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.397 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.397 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.398 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.398 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:40:23.494 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 14:40:23.494 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1512515095
[DEBUG] 14:40:23.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1512515095
[DEBUG] 14:40:23.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1512515095
[DEBUG] 14:40:23.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1512515095
[DEBUG] 14:40:23.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1512515095
[DEBUG] 14:40:23.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1988644427
[DEBUG] 14:40:23.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.496 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.496 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.496 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.496 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.496 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.496 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.496 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.496 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.497 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.497 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.497 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.497 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.497 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.497 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 14:40:23.497 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 14:40:23.497 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.497 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 14:40:23.497 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 14:40:23.498 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 14:40:23.498 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 14:40:23.498 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 14:40:23.498 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.498 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 14:40:23.498 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 14:40:23.500 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:40:23.500 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:40:23.500 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:40:23.500 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 14:40:23.500 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 14:40:23.500 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.500 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 14:40:23.500 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 14:40:23.501 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 14:40:23.501 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:40:23.501 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 14:40:23.501 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 14:40:23.501 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.502 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 14:40:23.502 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 14:40:23.503 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:40:23.503 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:40:23.504 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 14:40:23.504 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 14:40:23.504 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.504 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 14:40:23.504 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 14:40:23.504 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 14:40:23.504 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:40:23.504 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 14:40:23.505 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 14:40:23.505 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.505 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 14:40:23.505 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 14:40:23.507 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:40:23.508 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:40:23.508 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 14:40:23.508 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 14:40:23.508 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.508 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 14:40:23.508 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 14:40:23.508 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 14:40:23.509 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:40:23.509 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 14:40:23.509 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 14:40:23.509 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.510 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 14:40:23.510 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 14:40:23.511 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 14:40:23.511 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 14:40:23.511 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.511 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 14:40:23.512 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 14:40:23.523 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 14:40:23.523 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 14:40:23.523 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 14:40:23.524 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:40:23.524 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 14:40:23.524 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 14:40:23.524 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.524 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 14:40:23.524 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 14:40:23.526 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 14:40:23.526 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 14:40:23.526 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:40:23.526 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 14:40:23.526 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 14:40:23.527 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 14:40:23.528 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:40:23.528 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:40:23.528 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 14:40:23.528 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 14:40:23.528 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.529 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 14:40:23.529 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 14:40:23.529 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 14:40:23.529 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:40:23.530 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 14:40:23.530 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 14:40:23.530 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 14:40:23.530 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:40:23.530 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 14:40:23.530 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.530 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:40:23.530 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 14:40:23.530 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 14:40:23.531 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:40:23.531 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 14:40:23.531 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:40:23.531 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 14:40:23.531 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 14:40:23.531 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 14:40:23.534 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:40:23.535 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:40:23.536 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:40:23.536 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:40:23.536 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:40:23.536 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:40:23.541 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 14:40:23.542 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 14:40:23.542 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 14:40:23.542 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 14:40:23.548 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 14:40:23.548 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 14:40:23.549 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@6ccc9194
[WARN ] 14:40:23.678 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 14:45:27.767 io.netty.handler.logging.LoggingHandler - [id: 0xb43c3608, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xd3996a41, L:/127.0.0.1:8885 - R:/127.0.0.1:60418]
[INFO ] 14:45:27.769 io.netty.handler.logging.LoggingHandler - [id: 0xb43c3608, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:45:27.772 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 14:45:27.822 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 14:49:46.130 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@792bbc74{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:49:46.130 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 14:49:46.133 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 14:49:46.133 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 14:49:49.407 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 14:49:49.414 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 14:49:49.447 org.nutz.resource.Scans - Locations count=79 time use 28ms
[DEBUG] 14:49:49.451 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:49:49.452 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 14:49:49.453 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 14:49:49.548 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:49:49.549 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 14:49:49.549 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 14:49:49.587 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 14:49:49.589 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 14:49:49.590 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 14:49:49.603 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 14:49:49.634 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 14:49:49.644 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:49:49.653 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 14:49:49.655 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 14:49:49.658 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 14:49:49.658 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 14:49:49.662 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 14:49:49.664 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 14:49:49.664 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 14:49:49.665 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 14:49:49.667 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 14:49:49.671 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 14:49:49.673 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 14:49:49.674 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 14:49:49.674 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 14:49:49.675 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 14:49:49.676 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 14:49:49.676 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 14:49:49.677 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 14:49:49.677 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 14:49:49.678 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 14:49:49.678 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 14:49:49.678 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:49:49.679 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 14:49:49.679 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 14:49:49.680 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 14:49:49.681 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:49:49.689 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 14:49:49.694 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 14:49:49.694 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 14:49:49.695 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 14:49:49.698 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 14:49:49.721 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 14:49:49.722 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 14:49:49.723 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:49:49.725 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 14:49:49.726 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 14:49:49.726 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 14:49:49.726 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:49:49.727 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:49:49.727 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 14:49:49.736 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 14:49:49.747 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 14:49:49.753 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 14:49:49.754 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 14:49:49.754 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 14:49:49.754 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 14:49:49.755 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 14:49:49.759 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 14:49:49.759 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 14:49:49.761 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 14:49:49.761 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:49:49.761 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:49:49.762 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 14:49:49.762 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1988644427
[DEBUG] 14:49:49.763 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 14:49:49.776 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 14:49:49.806 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 14:49:49.807 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 14:49:49.807 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:49:49.807 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 14:49:49.807 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 14:49:49.808 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 14:49:49.810 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:49:49.815 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:49:49.815 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 14:49:49.815 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:49:49.815 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 14:49:49.816 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 14:49:49.816 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 14:49:49.817 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:49:49.817 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:49:49.817 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:49:49.817 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 14:49:49.817 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:49:49.817 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 14:49:49.817 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 14:49:49.818 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 14:49:49.818 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:49:49.818 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:49:49.818 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 14:49:49.818 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:49:49.819 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 14:49:49.819 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 14:49:49.819 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 14:49:49.820 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:49:49.821 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 14:49:49.848 org.eclipse.jetty.util.log - Logging initialized @971ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 14:49:49.971 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:49:49.971 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 14:49:49.972 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:49:49.972 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 14:49:49.972 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 14:49:49.972 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 14:49:49.973 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 14:49:50.072 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:49:50.075 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:49:50.075 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 14:49:50.075 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:49:50.076 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 14:49:50.076 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 14:49:50.077 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 14:49:50.077 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:49:50.078 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 14:49:50.078 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:49:50.078 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:49:50.078 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 14:49:50.079 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 14:49:50.079 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:49:50.099 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 14:49:50.099 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 14:49:50.110 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 14:49:50.125 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 14:49:50.126 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 14:49:50.144 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 14:49:50.145 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 14:49:50.146 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 14:49:50.147 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 14:49:50.147 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 14:49:50.148 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 14:49:50.148 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 14:49:50.149 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 14:49:50.150 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @79d94571
[DEBUG] 14:49:50.152 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 14:49:50.152 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 14:49:50.153 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 14:49:50.154 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 14:49:50.154 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 14:49:50.154 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 14:49:50.155 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 14:49:50.156 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 14:49:50.156 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 14:49:50.156 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 14:49:50.162 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 14:49:50.172 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 14:49:50.172 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 14:49:50.180 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 14:49:50.201 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 14:49:50.202 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@6979efad
[DEBUG] 14:49:50.469 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input ca stream java.io.BufferedInputStream@1500e009
[DEBUG] 14:49:55.543 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 14428 (auto-detected)
[DEBUG] 14:49:55.546 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 14:49:55.546 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 14:49:55.550 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 14:49:55.551 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 14:49:55.554 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 14:49:55.564 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 14:49:55.564 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 14:49:55.589 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 14:49:55.589 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 14:49:55.589 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 14:49:55.589 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 14:49:55.589 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 14:49:55.590 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 14:49:55.590 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 14:49:55.590 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 14:49:55.590 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 14:49:55.590 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 14:49:55.590 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 14:49:55.591 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 14:49:55.600 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 14:49:55.601 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 14:49:55.601 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 14:49:55.615 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97] REGISTERED
[INFO ] 14:49:55.616 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 14:49:55.619 io.netty.handler.logging.LoggingHandler - [id: 0x101e31d5] REGISTERED
[INFO ] 14:49:55.620 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 14:49:55.620 io.netty.handler.logging.LoggingHandler - [id: 0x101e31d5] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 14:49:55.620 io.netty.handler.logging.LoggingHandler - [id: 0x101e31d5, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 14:49:55.620 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 14:49:55.622 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 14:49:55.701 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 14:49:55.705 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 14:49:55.718 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 14:49:55.718 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 14:49:55.720 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 14:49:55.733 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:49:55.733 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 14:49:55.734 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:49:55.734 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 14:49:55.734 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:49:55.734 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:49:55.734 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 14:49:55.735 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 14:49:55.736 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 14:49:55.738 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 14:49:55.739 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 14:49:55.740 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:49:55.741 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 14:49:55.741 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 14:49:55.741 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:49:55.741 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 14:49:55.742 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 14:49:55.742 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 14:49:55.743 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 14:49:55.744 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 14:49:55.745 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 14:49:55.747 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 14:49:55.750 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 14:49:55.750 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 14:49:55.752 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 14:49:55.752 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 14:49:55.752 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 14:49:55.752 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 14:49:55.752 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 14:49:55.752 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 14:49:55.752 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 14:49:55.753 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 14:49:55.753 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 14:49:55.753 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 14:49:55.753 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 14:49:55.753 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 14:49:55.753 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 14:49:55.754 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 14:49:55.754 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 14:49:55.754 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 14:49:55.758 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 14:49:55.759 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 14:49:55.762 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 14:49:55.768 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 14:49:55.774 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:49:55.784 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:49:55.790 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 14:49:55.791 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 14:49:55.795 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 14:49:55.798 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 14:49:55.799 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 14:49:55.802 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 14:49:55.805 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 14:49:55.810 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:49:55.810 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 14:49:55.811 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 14:49:55.811 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 14:49:55.811 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 14:49:55.812 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 14:49:55.813 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 14:49:55.813 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 14:49:55.813 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 59ms
[INFO ] 14:49:55.834 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@61fafb74{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 14:49:55.846 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@792bbc74{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 14:49:55.847 org.eclipse.jetty.server.Server - Started @6972ms
[DEBUG] 14:49:55.847 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 14:49:55.847 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:49:55.848 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 14:49:55.848 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:49:55.848 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 14:49:55.848 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 14:49:55.848 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 14:49:55.848 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:49:55.849 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:49:55.849 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 14:49:55.849 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:49:55.849 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:49:55.849 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 14:49:55.873 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 14:49:55.880 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:49:55.880 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 14:49:55.880 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:49:55.880 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 14:49:55.880 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 14:49:55.880 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 14:49:55.880 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:49:55.881 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 14:49:55.881 org.nutz.boot.NbApp - mqttwk started : 6527ms
[INFO ] 14:50:51.428 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xdb08f29e, L:/127.0.0.1:8885 - R:/127.0.0.1:61480]
[INFO ] 14:50:51.428 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:50:51.474 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:50:51.474 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 14:50:51.474 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.474 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 14:50:51.474 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 14:50:51.475 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 14:50:51.476 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:50:51.476 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 14:50:51.476 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.476 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 14:50:51.476 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 14:50:51.477 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 14:50:51.478 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:50:51.478 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 14:50:51.478 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.478 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 14:50:51.478 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 14:50:51.488 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:50:51.488 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:50:51.488 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 14:50:51.488 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.489 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 14:50:51.489 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 14:50:51.489 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 14:50:51.489 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:50:51.489 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 14:50:51.489 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.490 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 14:50:51.490 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 14:50:51.492 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:50:51.492 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:50:51.492 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:50:51.492 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 14:50:51.492 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.492 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 14:50:51.493 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 14:50:51.494 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:50:51.495 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:50:51.495 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:50:51.495 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 14:50:51.495 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.495 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:50:51.495 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 14:50:51.495 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 14:50:51.496 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:50:51.498 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 14:50:51.498 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 14:50:51.499 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:50:51.499 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 14:50:51.499 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 14:50:51.506 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 14:50:51.506 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 14:50:51.506 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:50:51.506 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 14:50:51.507 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 14:50:51.507 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 14:50:51.507 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.508 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.509 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.509 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.509 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.509 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.509 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.511 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 14:50:51.512 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 14:50:51.512 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.512 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.512 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.512 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.512 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 14:50:51.598 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 14:50:51.599 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1548324971
[DEBUG] 14:50:51.599 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1548324971
[DEBUG] 14:50:51.599 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1548324971
[DEBUG] 14:50:51.599 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1548324971
[DEBUG] 14:50:51.599 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1548324971
[DEBUG] 14:50:51.599 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1988644427
[DEBUG] 14:50:51.599 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.599 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.600 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.600 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.600 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.600 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.600 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.601 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.601 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.601 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.601 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.602 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.602 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.602 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.602 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.602 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.603 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.603 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 14:50:51.603 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 14:50:51.603 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.603 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 14:50:51.603 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 14:50:51.603 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 14:50:51.604 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 14:50:51.604 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 14:50:51.604 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.604 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 14:50:51.604 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 14:50:51.606 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:50:51.606 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:50:51.606 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 14:50:51.606 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 14:50:51.606 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 14:50:51.606 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.606 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 14:50:51.607 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 14:50:51.607 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 14:50:51.607 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:50:51.607 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 14:50:51.607 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 14:50:51.608 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.608 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 14:50:51.608 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 14:50:51.609 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:50:51.609 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:50:51.610 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 14:50:51.610 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 14:50:51.610 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.610 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 14:50:51.610 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 14:50:51.610 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 14:50:51.610 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 14:50:51.610 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 14:50:51.611 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 14:50:51.611 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.611 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 14:50:51.611 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 14:50:51.612 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 14:50:51.612 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 14:50:51.613 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 14:50:51.613 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 14:50:51.613 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.613 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 14:50:51.613 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 14:50:51.613 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 14:50:51.614 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:50:51.614 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 14:50:51.614 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 14:50:51.614 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.614 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 14:50:51.614 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 14:50:51.616 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 14:50:51.616 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 14:50:51.616 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.616 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 14:50:51.616 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 14:50:51.626 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 14:50:51.626 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 14:50:51.627 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 14:50:51.627 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:50:51.627 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 14:50:51.627 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 14:50:51.627 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.627 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 14:50:51.627 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 14:50:51.629 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 14:50:51.629 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 14:50:51.629 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 14:50:51.629 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 14:50:51.629 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 14:50:51.630 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 14:50:51.630 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 14:50:51.630 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:50:51.631 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 14:50:51.631 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 14:50:51.631 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.631 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 14:50:51.631 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 14:50:51.631 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 14:50:51.632 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:50:51.632 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 14:50:51.632 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 14:50:51.632 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 14:50:51.632 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:50:51.633 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 14:50:51.633 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.633 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:50:51.633 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 14:50:51.633 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 14:50:51.633 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:50:51.633 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 14:50:51.633 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 14:50:51.634 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 14:50:51.634 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 14:50:51.634 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 14:50:51.638 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:50:51.639 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:50:51.639 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:50:51.640 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 14:50:51.640 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 14:50:51.640 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 14:50:51.645 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 14:50:51.645 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 14:50:51.645 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 14:50:51.646 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 14:50:51.653 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 14:50:51.653 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 14:50:51.654 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@612e9ba7
[DEBUG] 14:50:51.801 io.netty.handler.ssl.SslHandler - [id: 0xdb08f29e, L:/127.0.0.1:8885 - R:/127.0.0.1:61480] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 14:50:51.917 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 14:50:55.553 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 14:52:20.297 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x5dddd698, L:/127.0.0.1:8885 - R:/127.0.0.1:61823]
[INFO ] 14:52:20.298 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 14:52:20.299 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 14:52:20.340 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:00:40.349 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x03675a5c, L:/127.0.0.1:8885 - R:/127.0.0.1:64001]
[INFO ] 15:00:40.350 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:00:40.351 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 15:00:40.392 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:02:59.343 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x99200f83, L:/127.0.0.1:8885 - R:/127.0.0.1:64592]
[INFO ] 15:02:59.343 io.netty.handler.logging.LoggingHandler - [id: 0x24b15c97, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:02:59.344 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 15:02:59.368 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:03:32.189 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@792bbc74{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:03:32.189 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 15:03:32.192 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 15:03:32.193 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 15:03:35.616 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 15:03:35.624 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 15:03:35.662 org.nutz.resource.Scans - Locations count=79 time use 33ms
[DEBUG] 15:03:35.666 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:03:35.666 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 15:03:35.668 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 15:03:35.786 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:03:35.787 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 15:03:35.787 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 15:03:35.833 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 15:03:35.835 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 15:03:35.836 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 15:03:35.851 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 15:03:35.880 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 15:03:35.891 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:03:35.902 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 15:03:35.904 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 15:03:35.907 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 15:03:35.908 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 15:03:35.911 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 15:03:35.914 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 15:03:35.915 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 15:03:35.915 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 15:03:35.917 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 15:03:35.924 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 15:03:35.926 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 15:03:35.927 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 15:03:35.928 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 15:03:35.929 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 15:03:35.930 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 15:03:35.930 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 15:03:35.931 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 15:03:35.931 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 15:03:35.932 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 15:03:35.932 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 15:03:35.933 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:03:35.933 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 15:03:35.934 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 15:03:35.934 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 15:03:35.935 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:03:35.946 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 15:03:35.950 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 15:03:35.950 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 15:03:35.951 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 15:03:35.955 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 15:03:35.982 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 15:03:35.983 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 15:03:35.984 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:03:35.986 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:03:35.987 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:03:35.987 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 15:03:35.987 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:03:35.988 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:03:35.988 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:03:36.000 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 15:03:36.013 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 15:03:36.021 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 15:03:36.022 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 15:03:36.022 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 15:03:36.022 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 15:03:36.023 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 15:03:36.029 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:03:36.029 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 15:03:36.031 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 15:03:36.031 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:03:36.032 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:03:36.032 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 15:03:36.033 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1988644427
[DEBUG] 15:03:36.033 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:03:36.051 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 15:03:36.089 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 15:03:36.090 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 15:03:36.090 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:03:36.091 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:03:36.091 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 15:03:36.091 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 15:03:36.094 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:03:36.100 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:03:36.100 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 15:03:36.100 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:03:36.101 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:03:36.101 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 15:03:36.101 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 15:03:36.103 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:03:36.103 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:03:36.103 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:03:36.103 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 15:03:36.103 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:03:36.104 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:03:36.104 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 15:03:36.104 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 15:03:36.105 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:03:36.105 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:03:36.105 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 15:03:36.105 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:03:36.105 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:03:36.106 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 15:03:36.106 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 15:03:36.108 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:03:36.108 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 15:03:36.133 org.eclipse.jetty.util.log - Logging initialized @1079ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 15:03:36.276 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:03:36.276 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 15:03:36.276 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:03:36.277 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:03:36.277 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 15:03:36.277 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 15:03:36.277 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:03:36.377 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:03:36.380 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:03:36.380 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 15:03:36.380 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:03:36.380 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:03:36.380 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 15:03:36.381 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 15:03:36.381 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:03:36.381 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 15:03:36.381 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:03:36.381 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:03:36.381 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 15:03:36.382 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 15:03:36.382 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:03:36.401 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 15:03:36.401 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 15:03:36.411 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 15:03:36.427 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 15:03:36.427 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 15:03:36.445 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 15:03:36.445 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 15:03:36.447 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 15:03:36.448 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 15:03:36.448 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 15:03:36.449 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 15:03:36.449 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 15:03:36.450 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 15:03:36.452 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @79d94571
[DEBUG] 15:03:36.453 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 15:03:36.454 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 15:03:36.455 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 15:03:36.456 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 15:03:36.456 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 15:03:36.456 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 15:03:36.458 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 15:03:36.458 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 15:03:36.459 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 15:03:36.460 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 15:03:36.465 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 15:03:36.474 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 15:03:36.474 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 15:03:36.482 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 15:03:36.502 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 15:03:36.502 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@6979efad
[DEBUG] 15:03:36.763 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input ca stream java.io.BufferedInputStream@3961a41a
[DEBUG] 15:03:41.838 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 15671 (auto-detected)
[DEBUG] 15:03:41.841 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 15:03:41.842 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 15:03:41.844 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 15:03:41.845 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 15:03:41.848 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 15:03:41.858 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 15:03:41.859 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 15:03:41.890 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 15:03:41.890 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 15:03:41.891 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 15:03:41.891 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 15:03:41.891 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 15:03:41.891 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 15:03:41.891 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 15:03:41.891 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 15:03:41.891 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 15:03:41.891 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 15:03:41.891 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 15:03:41.891 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 15:03:41.901 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 15:03:41.901 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 15:03:41.901 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 15:03:41.915 io.netty.handler.logging.LoggingHandler - [id: 0xead33611] REGISTERED
[INFO ] 15:03:41.917 io.netty.handler.logging.LoggingHandler - [id: 0xead33611] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 15:03:41.920 io.netty.handler.logging.LoggingHandler - [id: 0x9e2f0d8f] REGISTERED
[INFO ] 15:03:41.920 io.netty.handler.logging.LoggingHandler - [id: 0x9e2f0d8f] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 15:03:41.920 io.netty.handler.logging.LoggingHandler - [id: 0xead33611, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 15:03:41.920 io.netty.handler.logging.LoggingHandler - [id: 0x9e2f0d8f, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 15:03:41.920 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 15:03:41.924 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 15:03:42.009 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 15:03:42.014 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 15:03:42.027 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 15:03:42.027 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 15:03:42.030 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 15:03:42.043 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:03:42.043 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:03:42.044 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:03:42.044 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 15:03:42.045 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:03:42.045 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:03:42.045 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 15:03:42.046 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 15:03:42.047 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 15:03:42.049 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:03:42.050 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 15:03:42.051 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:03:42.051 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 15:03:42.051 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:03:42.051 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:03:42.051 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 15:03:42.052 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 15:03:42.053 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 15:03:42.054 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 15:03:42.056 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:03:42.056 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 15:03:42.060 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 15:03:42.062 org.nutz.resource.Scans - Locations count=80 time use 0ms
[DEBUG] 15:03:42.063 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 15:03:42.065 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 15:03:42.066 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 15:03:42.066 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 15:03:42.066 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 15:03:42.066 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 15:03:42.066 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 15:03:42.066 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 15:03:42.066 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 15:03:42.067 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 15:03:42.067 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 15:03:42.067 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 15:03:42.067 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 15:03:42.067 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 15:03:42.067 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:03:42.068 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 15:03:42.068 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 15:03:42.071 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 15:03:42.072 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 15:03:42.076 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 15:03:42.081 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 15:03:42.088 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:03:42.098 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:03:42.103 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 15:03:42.103 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 15:03:42.107 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:03:42.110 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:03:42.110 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 15:03:42.114 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 15:03:42.117 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 15:03:42.122 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:03:42.123 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:03:42.123 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 15:03:42.123 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 15:03:42.124 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 15:03:42.125 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:03:42.125 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 15:03:42.125 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 15:03:42.126 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 59ms
[INFO ] 15:03:42.148 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@68c87fc3{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 15:03:42.162 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@792bbc74{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:03:42.163 org.eclipse.jetty.server.Server - Started @7108ms
[DEBUG] 15:03:42.163 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 15:03:42.163 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:03:42.163 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 15:03:42.164 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:03:42.164 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:03:42.164 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 15:03:42.164 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 15:03:42.165 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:03:42.165 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:03:42.165 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 15:03:42.165 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:03:42.165 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:03:42.165 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 15:03:42.192 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 15:03:42.199 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:03:42.199 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 15:03:42.200 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:03:42.200 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 15:03:42.200 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 15:03:42.200 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 15:03:42.200 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:03:42.200 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 15:03:42.201 org.nutz.boot.NbApp - mqttwk started : 6641ms
[INFO ] 15:04:01.273 io.netty.handler.logging.LoggingHandler - [id: 0xead33611, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x8b4a32d7, L:/127.0.0.1:8885 - R:/127.0.0.1:64797]
[INFO ] 15:04:01.274 io.netty.handler.logging.LoggingHandler - [id: 0xead33611, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:04:01.320 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:04:01.321 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 15:04:01.321 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.321 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:04:01.321 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 15:04:01.322 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 15:04:01.323 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 15:04:01.323 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 15:04:01.323 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.324 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 15:04:01.324 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 15:04:01.324 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 15:04:01.326 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 15:04:01.326 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 15:04:01.326 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.326 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 15:04:01.326 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 15:04:01.335 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:04:01.335 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 15:04:01.335 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 15:04:01.335 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.336 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 15:04:01.336 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 15:04:01.336 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 15:04:01.336 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 15:04:01.336 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 15:04:01.336 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.337 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 15:04:01.337 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 15:04:01.338 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:04:01.339 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:04:01.339 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 15:04:01.339 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 15:04:01.340 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.340 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 15:04:01.340 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 15:04:01.343 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:04:01.343 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:04:01.343 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:04:01.344 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 15:04:01.344 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.344 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:04:01.344 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 15:04:01.344 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 15:04:01.345 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:04:01.347 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 15:04:01.348 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 15:04:01.348 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:04:01.348 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 15:04:01.348 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 15:04:01.354 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 15:04:01.354 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 15:04:01.354 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:04:01.354 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 15:04:01.355 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 15:04:01.355 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 15:04:01.355 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.357 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.357 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.357 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.358 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.358 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.358 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.360 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 15:04:01.361 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 15:04:01.361 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.361 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.361 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.362 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.362 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:04:01.450 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 15:04:01.450 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1462595754
[DEBUG] 15:04:01.450 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1462595754
[DEBUG] 15:04:01.450 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1462595754
[DEBUG] 15:04:01.450 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1462595754
[DEBUG] 15:04:01.451 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1462595754
[DEBUG] 15:04:01.451 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1988644427
[DEBUG] 15:04:01.451 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.451 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.451 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.451 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.451 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.451 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.451 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.451 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.452 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.452 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.452 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.452 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.452 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.452 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.452 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.452 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.453 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.453 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 15:04:01.453 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 15:04:01.453 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.453 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 15:04:01.453 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 15:04:01.453 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 15:04:01.453 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 15:04:01.454 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 15:04:01.454 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.454 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 15:04:01.454 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 15:04:01.456 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:04:01.456 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:04:01.456 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:04:01.457 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 15:04:01.457 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 15:04:01.457 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.457 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 15:04:01.457 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 15:04:01.457 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 15:04:01.458 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:04:01.458 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 15:04:01.458 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 15:04:01.458 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.458 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 15:04:01.458 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 15:04:01.460 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:04:01.460 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:04:01.461 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 15:04:01.461 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 15:04:01.461 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.461 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 15:04:01.461 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 15:04:01.461 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 15:04:01.462 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:04:01.462 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 15:04:01.462 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 15:04:01.462 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.462 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 15:04:01.462 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 15:04:01.464 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:04:01.464 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:04:01.464 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 15:04:01.464 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 15:04:01.464 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.464 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 15:04:01.464 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 15:04:01.464 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 15:04:01.465 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:04:01.465 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 15:04:01.465 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 15:04:01.465 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.466 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 15:04:01.466 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 15:04:01.467 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 15:04:01.468 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 15:04:01.468 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.468 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 15:04:01.468 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 15:04:01.480 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 15:04:01.480 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 15:04:01.480 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 15:04:01.480 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:04:01.480 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 15:04:01.481 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 15:04:01.481 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.481 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 15:04:01.481 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 15:04:01.482 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 15:04:01.482 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 15:04:01.483 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:04:01.483 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 15:04:01.483 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 15:04:01.484 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 15:04:01.484 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:04:01.484 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:04:01.484 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 15:04:01.485 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 15:04:01.485 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.485 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 15:04:01.485 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 15:04:01.485 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 15:04:01.486 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:04:01.486 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 15:04:01.486 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 15:04:01.486 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 15:04:01.486 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:04:01.486 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 15:04:01.486 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.486 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:04:01.486 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 15:04:01.487 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 15:04:01.487 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:04:01.487 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 15:04:01.487 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:04:01.487 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 15:04:01.487 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 15:04:01.487 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 15:04:01.492 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:04:01.493 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:04:01.493 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:04:01.493 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:04:01.493 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:04:01.493 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:04:01.498 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 15:04:01.498 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 15:04:01.498 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 15:04:01.498 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 15:04:01.504 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 15:04:01.504 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 15:04:01.505 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@10e0b8ab
[WARN ] 15:04:01.639 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:10:47.625 io.netty.handler.logging.LoggingHandler - [id: 0xead33611, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x1cf3904e, L:/127.0.0.1:8885 - R:/127.0.0.1:49732]
[INFO ] 15:10:47.626 io.netty.handler.logging.LoggingHandler - [id: 0xead33611, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:10:47.627 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 15:10:47.670 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:12:17.162 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@792bbc74{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:12:17.162 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 15:12:17.163 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 15:12:17.164 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 0ms
[INFO ] 15:12:27.652 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 15:12:27.661 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 15:12:27.699 org.nutz.resource.Scans - Locations count=79 time use 31ms
[DEBUG] 15:12:27.703 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:12:27.703 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 15:12:27.704 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 15:12:27.819 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:12:27.819 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 15:12:27.820 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 15:12:27.867 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 15:12:27.869 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 15:12:27.870 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 15:12:27.887 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 15:12:27.918 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 15:12:27.928 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:12:27.939 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 15:12:27.942 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 15:12:27.945 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 15:12:27.945 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 15:12:27.949 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 15:12:27.951 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 15:12:27.951 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 15:12:27.952 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 15:12:27.954 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 15:12:27.961 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 15:12:27.962 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 15:12:27.963 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 15:12:27.964 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 15:12:27.965 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 15:12:27.965 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 15:12:27.966 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 15:12:27.967 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 15:12:27.967 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 15:12:27.967 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 15:12:27.968 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 15:12:27.968 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:12:27.969 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 15:12:27.969 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 15:12:27.969 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 15:12:27.971 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:12:27.980 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 15:12:27.983 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 15:12:27.983 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 15:12:27.984 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 15:12:27.987 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 15:12:28.012 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 15:12:28.013 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 15:12:28.014 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:12:28.016 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:12:28.017 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:12:28.017 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 15:12:28.017 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:12:28.018 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:12:28.018 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:12:28.031 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 15:12:28.046 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 15:12:28.053 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 15:12:28.054 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 15:12:28.054 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 15:12:28.054 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 15:12:28.055 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 15:12:28.060 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:12:28.060 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 15:12:28.061 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 15:12:28.062 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:12:28.062 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:12:28.063 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 15:12:28.063 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1988644427
[DEBUG] 15:12:28.064 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:12:28.081 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 15:12:28.115 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 15:12:28.115 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 15:12:28.116 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:28.116 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:12:28.116 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 15:12:28.116 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 15:12:28.119 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:12:28.124 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:12:28.125 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 15:12:28.125 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:12:28.125 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:12:28.125 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 15:12:28.126 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 15:12:28.128 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:12:28.128 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:12:28.128 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:12:28.128 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 15:12:28.128 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:12:28.129 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:12:28.129 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 15:12:28.129 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 15:12:28.130 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:12:28.130 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:12:28.130 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 15:12:28.130 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:12:28.130 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:12:28.131 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 15:12:28.131 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 15:12:28.133 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:12:28.133 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 15:12:28.167 org.eclipse.jetty.util.log - Logging initialized @1088ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 15:12:28.314 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:12:28.314 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 15:12:28.314 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:12:28.315 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:12:28.315 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 15:12:28.315 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 15:12:28.316 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:12:28.423 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:12:28.426 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:12:28.427 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 15:12:28.427 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:28.427 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:12:28.427 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 15:12:28.427 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 15:12:28.428 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:12:28.428 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 15:12:28.428 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:28.428 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:12:28.428 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 15:12:28.429 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 15:12:28.429 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:12:28.449 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 15:12:28.449 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 15:12:28.461 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 15:12:28.480 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 15:12:28.480 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 15:12:28.500 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 15:12:28.501 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 15:12:28.502 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 15:12:28.503 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 15:12:28.504 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 15:12:28.504 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 15:12:28.505 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 15:12:28.506 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 15:12:28.507 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @79d94571
[DEBUG] 15:12:28.509 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 15:12:28.510 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 15:12:28.511 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 15:12:28.511 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 15:12:28.511 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 15:12:28.512 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 15:12:28.513 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 15:12:28.513 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 15:12:28.514 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 15:12:28.514 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 15:12:28.520 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 15:12:28.531 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 15:12:28.531 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 15:12:28.538 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 15:12:28.562 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 15:12:28.562 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@6979efad
[DEBUG] 15:12:28.875 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input ca stream java.io.BufferedInputStream@16943e88
[DEBUG] 15:12:33.957 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 16323 (auto-detected)
[DEBUG] 15:12:33.960 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 15:12:33.960 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 15:12:33.963 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 15:12:33.964 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 15:12:33.967 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 15:12:33.979 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 15:12:33.979 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 15:12:34.005 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 15:12:34.005 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 15:12:34.005 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 15:12:34.006 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 15:12:34.006 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 15:12:34.006 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 15:12:34.006 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 15:12:34.006 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 15:12:34.006 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 15:12:34.006 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 15:12:34.006 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 15:12:34.006 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 15:12:34.017 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 15:12:34.018 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 15:12:34.018 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 15:12:34.033 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0] REGISTERED
[INFO ] 15:12:34.035 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 15:12:34.038 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 15:12:34.038 io.netty.handler.logging.LoggingHandler - [id: 0x4b9caff9] REGISTERED
[INFO ] 15:12:34.038 io.netty.handler.logging.LoggingHandler - [id: 0x4b9caff9] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 15:12:34.039 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 15:12:34.039 io.netty.handler.logging.LoggingHandler - [id: 0x4b9caff9, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 15:12:34.040 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 15:12:34.129 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 15:12:34.135 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 15:12:34.148 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 15:12:34.148 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 15:12:34.150 org.eclipse.jetty.server.session - node0 Scavenging every 600000ms
[DEBUG] 15:12:34.164 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:12:34.164 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:12:34.165 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:12:34.166 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 15:12:34.166 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:12:34.166 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:12:34.167 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 15:12:34.168 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 15:12:34.168 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 15:12:34.171 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:12:34.173 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 15:12:34.173 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:12:34.174 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 15:12:34.174 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:12:34.174 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:12:34.174 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 15:12:34.175 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 15:12:34.176 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 15:12:34.177 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 15:12:34.179 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:12:34.179 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 15:12:34.183 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 15:12:34.185 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 15:12:34.186 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 15:12:34.188 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 15:12:34.188 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 15:12:34.188 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 15:12:34.188 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 15:12:34.188 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 15:12:34.188 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 15:12:34.188 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 15:12:34.188 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 15:12:34.188 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 15:12:34.188 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 15:12:34.189 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 15:12:34.189 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 15:12:34.189 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 15:12:34.189 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:12:34.190 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 15:12:34.190 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 15:12:34.193 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 15:12:34.194 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 15:12:34.198 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 15:12:34.204 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 15:12:34.212 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:12:34.223 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:12:34.230 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 15:12:34.230 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 15:12:34.234 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:12:34.237 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:12:34.238 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 15:12:34.243 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 15:12:34.245 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 15:12:34.251 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:12:34.253 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:12:34.253 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 15:12:34.253 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 15:12:34.253 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 15:12:34.255 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:12:34.255 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 15:12:34.256 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 15:12:34.256 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 67ms
[INFO ] 15:12:34.279 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@7e4d2287{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 15:12:34.293 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@792bbc74{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:12:34.293 org.eclipse.jetty.server.Server - Started @7214ms
[DEBUG] 15:12:34.293 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 15:12:34.294 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:12:34.294 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 15:12:34.294 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:34.294 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:12:34.295 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 15:12:34.295 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 15:12:34.295 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:12:34.295 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:12:34.296 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 15:12:34.296 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:12:34.296 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:12:34.296 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 15:12:34.320 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 15:12:34.328 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:12:34.328 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 15:12:34.328 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:12:34.328 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 15:12:34.328 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 15:12:34.328 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 15:12:34.329 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:34.329 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 15:12:34.329 org.nutz.boot.NbApp - mqttwk started : 6745ms
[INFO ] 15:12:42.752 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xa8d813c8, L:/127.0.0.1:8885 - R:/127.0.0.1:50239]
[INFO ] 15:12:42.753 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:12:42.798 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:12:42.798 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 15:12:42.798 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.798 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:12:42.799 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 15:12:42.799 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 15:12:42.800 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 15:12:42.800 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 15:12:42.800 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.800 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 15:12:42.800 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 15:12:42.800 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 15:12:42.801 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 15:12:42.801 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 15:12:42.801 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.801 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 15:12:42.802 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 15:12:42.811 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:12:42.811 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 15:12:42.811 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 15:12:42.811 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.811 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 15:12:42.811 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 15:12:42.812 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 15:12:42.812 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 15:12:42.812 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 15:12:42.812 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.812 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 15:12:42.812 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 15:12:42.814 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:12:42.814 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:12:42.815 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 15:12:42.815 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 15:12:42.815 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.815 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 15:12:42.815 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 15:12:42.817 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:12:42.817 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:12:42.817 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:12:42.817 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 15:12:42.818 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.818 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:12:42.818 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 15:12:42.818 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 15:12:42.819 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:12:42.821 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 15:12:42.821 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 15:12:42.821 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:12:42.821 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 15:12:42.821 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 15:12:42.827 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 15:12:42.828 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 15:12:42.828 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:12:42.828 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 15:12:42.828 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 15:12:42.828 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 15:12:42.829 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.830 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.830 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.830 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.830 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.830 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.831 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.832 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 15:12:42.833 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 15:12:42.833 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.833 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.833 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.833 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.833 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:12:42.918 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 15:12:42.918 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@585189938
[DEBUG] 15:12:42.919 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@585189938
[DEBUG] 15:12:42.919 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@585189938
[DEBUG] 15:12:42.919 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@585189938
[DEBUG] 15:12:42.919 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@585189938
[DEBUG] 15:12:42.919 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1988644427
[DEBUG] 15:12:42.919 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.919 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.919 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.919 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.920 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.920 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.920 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.920 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.920 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.920 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.920 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.921 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.921 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.921 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.921 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.921 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.921 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.921 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 15:12:42.921 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 15:12:42.921 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.922 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 15:12:42.922 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 15:12:42.922 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 15:12:42.922 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 15:12:42.923 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 15:12:42.923 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.923 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 15:12:42.923 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 15:12:42.925 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:12:42.925 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:12:42.925 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:12:42.925 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 15:12:42.925 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 15:12:42.926 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.926 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 15:12:42.926 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 15:12:42.926 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 15:12:42.926 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:12:42.926 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 15:12:42.926 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 15:12:42.927 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.927 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 15:12:42.927 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 15:12:42.928 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:12:42.928 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:12:42.929 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 15:12:42.929 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 15:12:42.929 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.929 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 15:12:42.929 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 15:12:42.929 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 15:12:42.929 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:12:42.930 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 15:12:42.930 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 15:12:42.930 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.930 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 15:12:42.930 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 15:12:42.932 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:12:42.932 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:12:42.932 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 15:12:42.932 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 15:12:42.932 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.932 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 15:12:42.932 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 15:12:42.933 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 15:12:42.933 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:12:42.933 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 15:12:42.933 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 15:12:42.933 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.934 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 15:12:42.934 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 15:12:42.935 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 15:12:42.935 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 15:12:42.935 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.935 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 15:12:42.935 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 15:12:42.946 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 15:12:42.946 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 15:12:42.946 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 15:12:42.946 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:12:42.946 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 15:12:42.947 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 15:12:42.947 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.947 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 15:12:42.947 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 15:12:42.948 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 15:12:42.948 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 15:12:42.949 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:12:42.949 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 15:12:42.949 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 15:12:42.950 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 15:12:42.950 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:12:42.950 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:12:42.950 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 15:12:42.950 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 15:12:42.951 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.951 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 15:12:42.951 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 15:12:42.951 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 15:12:42.952 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:12:42.952 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 15:12:42.952 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 15:12:42.952 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 15:12:42.952 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:12:42.952 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 15:12:42.952 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.952 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:12:42.952 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 15:12:42.953 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 15:12:42.953 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:12:42.953 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 15:12:42.953 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:12:42.953 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 15:12:42.953 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 15:12:42.953 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 15:12:42.957 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:12:42.958 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:12:42.959 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:12:42.959 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:12:42.959 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:12:42.959 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:12:42.964 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 15:12:42.964 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 15:12:42.964 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 15:12:42.964 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 15:12:42.970 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 15:12:42.970 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 15:12:42.972 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@6bac52aa
[WARN ] 15:12:43.099 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:12:46.726 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x0549701d, L:/127.0.0.1:8885 - R:/127.0.0.1:50255]
[INFO ] 15:12:46.727 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:12:46.727 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 15:12:46.764 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)
	at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:202)
	at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:171)
	at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:688)
	at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:643)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:461)
	at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:440)
	at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:637)
	at io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:295)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:13:10.890 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x226816c5, L:/127.0.0.1:8885 - R:/127.0.0.1:50324]
[INFO ] 15:13:10.890 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:13:10.891 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:13:10.950 io.netty.handler.ssl.SslHandler - [id: 0x226816c5, L:/127.0.0.1:8885 - R:/127.0.0.1:50324] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 15:13:11.060 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: b596d58b6efe4e4fbcf03e14135ccbc5, cleanSession: true
[DEBUG] 15:13:12.493 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: b596d58b6efe4e4fbcf03e14135ccbc5, cleanSession: true
[INFO ] 15:28:36.672 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x2a651e20, L:/127.0.0.1:8885 - R:/127.0.0.1:53623]
[INFO ] 15:28:36.673 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:28:36.674 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:28:36.706 io.netty.handler.ssl.SslHandler - [id: 0x2a651e20, L:/127.0.0.1:8885 - R:/127.0.0.1:53623] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 15:28:36.712 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:28:50.875 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 15:28:59.478 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x43d6940c, L:/127.0.0.1:8885 - R:/127.0.0.1:53691]
[INFO ] 15:28:59.478 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:28:59.479 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:28:59.504 io.netty.handler.ssl.SslHandler - [id: 0x43d6940c, L:/127.0.0.1:8885 - R:/127.0.0.1:53691] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 15:28:59.508 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:29:08.643 cn.wizzer.iot.mqtt.server.broker.protocol.Subscribe - SUBSCRIBE - clientId: MQTT_FX_Client, topFilter: home/garden/fountain, QoS: 0
[DEBUG] 15:29:16.958 cn.wizzer.iot.mqtt.server.broker.protocol.Publish - PUBLISH - clientId: MQTT_FX_Client, topic: home/garden/fountain, Qos: 0, payload: testpayload
[DEBUG] 15:29:34.945 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 15:29:42.033 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xace674e2, L:/127.0.0.1:8885 - R:/127.0.0.1:53820]
[INFO ] 15:29:42.034 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:29:42.035 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:29:42.061 io.netty.handler.ssl.SslHandler - [id: 0xace674e2, L:/127.0.0.1:8885 - R:/127.0.0.1:53820] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 15:29:42.065 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:30:41.967 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 15:30:58.267 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 15:31:21.576 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x5a1e6be1, L:/127.0.0.1:8885 - R:/127.0.0.1:54151]
[INFO ] 15:31:21.577 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:31:21.578 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:31:21.601 io.netty.handler.ssl.SslHandler - [id: 0x5a1e6be1, L:/127.0.0.1:8885 - R:/127.0.0.1:54151] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 15:31:21.607 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:31:24.626 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 15:31:26.762 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x4a2f85dd, L:/127.0.0.1:8885 - R:/127.0.0.1:54169]
[INFO ] 15:31:26.762 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:31:26.763 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:31:26.786 io.netty.handler.ssl.SslHandler - [id: 0x4a2f85dd, L:/127.0.0.1:8885 - R:/127.0.0.1:54169] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 15:31:26.790 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:31:28.406 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 15:31:30.110 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x0e695b64, L:/127.0.0.1:8885 - R:/127.0.0.1:54179]
[INFO ] 15:31:30.110 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:31:30.111 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:31:30.135 io.netty.handler.ssl.SslHandler - [id: 0x0e695b64, L:/127.0.0.1:8885 - R:/127.0.0.1:54179] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 15:31:30.141 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:31:31.762 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 15:31:40.543 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xee67057d, L:/127.0.0.1:8885 - R:/127.0.0.1:54259]
[INFO ] 15:31:40.543 io.netty.handler.logging.LoggingHandler - [id: 0x1cc920c0, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:31:40.544 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:31:40.568 io.netty.handler.ssl.SslHandler - [id: 0xee67057d, L:/127.0.0.1:8885 - R:/127.0.0.1:54259] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 15:31:40.572 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:31:43.082 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 15:33:49.475 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@792bbc74{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:33:49.475 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 15:33:49.476 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 15:33:49.477 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
[INFO ] 15:33:52.890 org.nutz.boot.banner.SimpleBannerPrinter - 
:: MqttWk by https://wizzer.cn

[DEBUG] 15:33:52.896 org.nutz.boot.NbApp - using org.nutz.boot.config.impl.YamlConfigureLoader as ConfigureLoader
[DEBUG] 15:33:52.930 org.nutz.resource.Scans - Locations count=79 time use 28ms
[DEBUG] 15:33:52.935 org.nutz.resource.Scans - Found 1 resource by src( custom/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:33:52.936 org.nutz.ioc.impl.PropertiesProxy - load properties from jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-core/2.4.3-SNAPSHOT/nutzboot-core-2.4.3-20210428.071212-36.jar!/custom/emtry.properties
[DEBUG] 15:33:52.937 org.nutz.boot.config.impl.YamlConfigureLoader - load /Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/application.yaml
[DEBUG] 15:33:53.028 org.nutz.resource.Scans - Found 1 resource by src( ioc/ ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:33:53.028 org.nutz.ioc.loader.json.JsonLoader - loading [emtry.json]
[DEBUG] 15:33:53.028 org.nutz.ioc.loader.json.JsonLoader - Loaded 0 bean define from path=[ioc/] --> []
[DEBUG] 15:33:53.067 org.nutz.castor.Castors - Using 107 castor for Castors
[DEBUG] 15:33:53.069 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.aop.interceptor.async.Async by type=org.nutz.aop.interceptor.async.AsyncAopIocLoader
[INFO ] 15:33:53.069 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'cn.wizzer.iot'
[DEBUG] 15:33:53.084 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[INFO ] 15:33:53.110 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerHandler                           ' - cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler
[INFO ] 15:33:53.120 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'mainLauncher                            ' - cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:33:53.129 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'redisCluster                            ' - cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster
[INFO ] 15:33:53.131 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerProperties                        ' - cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties
[INFO ] 15:33:53.134 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalCommunication                   ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication
[INFO ] 15:33:53.135 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'internalSendServer                      ' - cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer
[INFO ] 15:33:53.138 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'brokerServer                            ' - cn.wizzer.iot.mqtt.server.broker.server.BrokerServer
[DEBUG] 15:33:53.140 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannels(...) define as name=channelGroup
[DEBUG] 15:33:53.140 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : BrokerServer.getChannelIdMap(...) define as name=channelIdMap
[INFO ] 15:33:53.141 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'protocolProcess                         ' - cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess
[INFO ] 15:33:53.143 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'webApiController                        ' - cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController
[INFO ] 15:33:53.148 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'kafkaService                            ' - cn.wizzer.iot.mqtt.server.broker.service.KafkaService
[INFO ] 15:33:53.150 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeNotWildcardCache               ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache
[INFO ] 15:33:53.150 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache
[INFO ] 15:33:53.151 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageCache                      ' - cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache
[INFO ] 15:33:53.152 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageCache                   ' - cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache
[INFO ] 15:33:53.153 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeWildcardCache                  ' - cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache
[INFO ] 15:33:53.153 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPublishMessageStoreService           ' - cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService
[INFO ] 15:33:53.154 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'messageIdService                        ' - cn.wizzer.iot.mqtt.server.store.message.MessageIdService
[INFO ] 15:33:53.154 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'dupPubRelMessageStoreService            ' - cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService
[INFO ] 15:33:53.154 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'retainMessageStoreService               ' - cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService
[INFO ] 15:33:53.155 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'subscribeStoreService                   ' - cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService
[INFO ] 15:33:53.155 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:33:53.156 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[INFO ] 15:33:53.156 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'sessionStoreService                     ' - cn.wizzer.iot.mqtt.server.store.session.SessionStoreService
[INFO ] 15:33:53.156 org.nutz.ioc.loader.annotation.AnnotationIocLoader -  > scan 'org.nutz.boot.starter'
[DEBUG] 15:33:53.157 org.nutz.resource.Scans - Found 18 resource by src( org/nutz/boot/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:33:53.169 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nutFilterStarter                        ' - org.nutz.boot.starter.nutz.mvc.NutFilterStarter
[DEBUG] 15:33:53.172 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : NutFilterStarter.createNutFilter(...) define as name=nutFilter
[INFO ] 15:33:53.172 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'whaleFilterStarter                      ' - org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter
[DEBUG] 15:33:53.173 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : WhaleFilterStarter.createNutFilter(...) define as name=whaleFilter
[INFO ] 15:33:53.176 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'jettyStarter                            ' - org.nutz.boot.starter.jetty.JettyStarter
[DEBUG] 15:33:53.200 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : JettyStarter.getJettyServer(...) define as name=jettyServer
[INFO ] 15:33:53.200 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'nbServletContextListener                ' - org.nutz.boot.starter.servlet3.NbServletContextListener
[DEBUG] 15:33:53.202 org.nutz.boot.NbApp - Found file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-store/target/classes/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:33:53.203 org.nutz.resource.Scans - Found 1 resource by src( cn/wizzer/iot/mqtt/server/store/starter/ ) , regex( ^.+[.]class$ )
[INFO ] 15:33:53.204 org.nutz.ioc.loader.annotation.AnnotationIocLoader -    > add 'storeStarter                            ' - cn.wizzer.iot.mqtt.server.store.starter.StoreStarter
[DEBUG] 15:33:53.204 org.nutz.ioc.loader.annotation.AnnotationIocLoader - Found @IocBean method : StoreStarter.kafkaProducer(...) define as name=kafkaProducer
[DEBUG] 15:33:53.204 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-redis/2.4.3-SNAPSHOT/nutzboot-starter-redis-2.4.3-20210428.071247-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:33:53.205 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-nutz-mvc/2.4.3-SNAPSHOT/nutzboot-starter-nutz-mvc-2.4.3-20210428.071326-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:33:53.205 org.nutz.boot.NbApp - Found jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/nutz/org.nutz.boot.starter.NbStarter
[DEBUG] 15:33:53.215 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[INFO ] 15:33:53.225 org.nutz.boot.NbApp - Configure Manual:
|id  |key                                     |required  |Possible Values     |Default   |Description         |                                starters|
|----|----------------------------------------|----------|--------------------|----------|--------------------|----------------------------------------|
|0   |jetty.contextPath                       |no        |                    |/         |上下文路径               |org.nutz.boot.starter.jetty.JettyStarter|
|1   |jetty.extports                          |no        |                    |          |配置多个端口监听            |org.nutz.boot.starter.jetty.JettyStarter|
|2   |jetty.gzip.enable                       |no        |                    |false     |是否启用gzip            |org.nutz.boot.starter.jetty.JettyStarter|
|3   |jetty.gzip.level                        |no        |                    |-1        |gzip压缩级别            |org.nutz.boot.starter.jetty.JettyStarter|
|4   |jetty.gzip.minContentSize               |no        |                    |512       |gzip压缩最小触发大小        |org.nutz.boot.starter.jetty.JettyStarter|
|5   |jetty.host                              |no        |                    |0.0.0.0   |监听的ip地址             |org.nutz.boot.starter.jetty.JettyStarter|
|6   |jetty.http.idleTimeout                  |no        |                    |300000    |空闲时间,单位毫秒           |org.nutz.boot.starter.jetty.JettyStarter|
|7   |jetty.httpConfig.blockingTimeout        |no        |                    |-1        |阻塞超时                |org.nutz.boot.starter.jetty.JettyStarter|
|8   |jetty.httpConfig.headerCacheSize        |no        |                    |8192      |头部缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|9   |jetty.httpConfig.maxErrorDispatches     |no        |                    |10        |最大错误重定向次数           |org.nutz.boot.starter.jetty.JettyStarter|
|10  |jetty.httpConfig.outputAggregationSize  |no        |                    |8192      |输出聚合大小              |org.nutz.boot.starter.jetty.JettyStarter|
|11  |jetty.httpConfig.outputBufferSize       |no        |                    |32768     |输出缓冲区大小             |org.nutz.boot.starter.jetty.JettyStarter|
|12  |jetty.httpConfig.persistentConnectionsEnabled|no        |                    |true      |是否启用持久化连接           |org.nutz.boot.starter.jetty.JettyStarter|
|13  |jetty.httpConfig.requestHeaderSize      |no        |                    |8192      |请求的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|14  |jetty.httpConfig.responseHeaderSize     |no        |                    |8192      |响应的头部最大值            |org.nutz.boot.starter.jetty.JettyStarter|
|15  |jetty.httpConfig.securePort             |no        |                    |          |安全协议的端口,例如8443      |org.nutz.boot.starter.jetty.JettyStarter|
|16  |jetty.httpConfig.secureScheme           |no        |                    |          |安全协议,例如https        |org.nutz.boot.starter.jetty.JettyStarter|
|17  |jetty.httpConfig.sendDateHeader         |no        |                    |true      |是否发送日期信息            |org.nutz.boot.starter.jetty.JettyStarter|
|18  |jetty.httpConfig.sendServerVersion      |no        |                    |true      |是否发送jetty版本号        |org.nutz.boot.starter.jetty.JettyStarter|
|19  |jetty.https.keystore.password           |no        |                    |          |Https的KeyStore的密码   |org.nutz.boot.starter.jetty.JettyStarter|
|20  |jetty.https.keystore.path               |no        |                    |          |Https的KeyStore路径    |org.nutz.boot.starter.jetty.JettyStarter|
|21  |jetty.https.port                        |no        |                    |          |Https端口号            |org.nutz.boot.starter.jetty.JettyStarter|
|22  |jetty.maxFormContentSize                |no        |                    |1gb       |表单最大尺寸              |org.nutz.boot.starter.jetty.JettyStarter|
|23  |jetty.maxFormKeys                       |no        |                    |1000      |表单最大key数量           |org.nutz.boot.starter.jetty.JettyStarter|
|24  |jetty.page.404                          |no        |                    |          |自定义404页面,同理,其他状态码也是支持的|org.nutz.boot.starter.jetty.JettyStarter|
|25  |jetty.page.java.lang.Throwable          |no        |                    |          |自定义java.lang.Throwable页面,同理,其他异常也支持|org.nutz.boot.starter.jetty.JettyStarter|
|26  |jetty.port                              |no        |                    |8080      |监听的端口               |org.nutz.boot.starter.jetty.JettyStarter|
|27  |jetty.session.cookie.domain             |no        |                    |          |设置cookie的domain     |org.nutz.boot.starter.jetty.JettyStarter|
|28  |jetty.session.cookie.httponly           |no        |                    |false     |cookie是否设置HttpOnly  |org.nutz.boot.starter.jetty.JettyStarter|
|29  |jetty.session.cookie.name               |no        |                    |          |设置cookie的name       |org.nutz.boot.starter.jetty.JettyStarter|
|30  |jetty.session.cookie.path               |no        |                    |          |设置cookie的path       |org.nutz.boot.starter.jetty.JettyStarter|
|31  |jetty.session.cookie.secure             |no        |                    |false     |cookie是否设置Secure    |org.nutz.boot.starter.jetty.JettyStarter|
|32  |jetty.session.file.storeDir             |no        |                    |./session |session持久化,file所用的目录|org.nutz.boot.starter.jetty.JettyStarter|
|33  |jetty.session.ioc.datastore             |no        |                    |jettySessionDataStore|session持久化,SessionDataStore对应的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|34  |jetty.session.jdbc.datasource.iocname   |no        |                    |dataSource|session持久化,jdbc所用数据库源的ioc名称|org.nutz.boot.starter.jetty.JettyStarter|
|35  |jetty.session.store.enable              |no        |                    |false     |是否启用session持久化      |org.nutz.boot.starter.jetty.JettyStarter|
|36  |jetty.session.store.type                |no        |jdbc,file,ioc,redis |jdbc      |session持久化类型        |org.nutz.boot.starter.jetty.JettyStarter|
|37  |jetty.sessionScavengeInterval.seconds   |no        |                    |600       |扫描session过期的间隔      |org.nutz.boot.starter.jetty.JettyStarter|
|38  |jetty.staticPath                        |no        |                    |          |额外的静态文件路径           |org.nutz.boot.starter.jetty.JettyStarter|
|39  |jetty.staticPathLocal                   |no        |                    |          |静态文件所在的本地路径         |org.nutz.boot.starter.jetty.JettyStarter|
|40  |jetty.tempdir                           |no        |                    |./temp    |设置jetty的临时目录        |org.nutz.boot.starter.jetty.JettyStarter|
|41  |jetty.threadpool.idleTimeout            |no        |                    |60000     |线程池idleTimeout，单位毫秒 |org.nutz.boot.starter.jetty.JettyStarter|
|42  |jetty.threadpool.maxThreads             |no        |                    |500       |线程池最大线程数maxThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|43  |jetty.threadpool.minThreads             |no        |                    |200       |线程池最小线程数minThreads  |org.nutz.boot.starter.jetty.JettyStarter|
|44  |jetty.welcome_files                     |no        |                    |index.html,index.htm,index.do|WelcomeFile列表       |org.nutz.boot.starter.jetty.JettyStarter|
|45  |mqttwk.broker.bossGroup-nThreads        |no        |                    |4         |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|46  |mqttwk.broker.cluster-on                |no        |                    |false     |是否开启集群模式, 默认false   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|47  |mqttwk.broker.host                      |no        |                    |127.0.0.1 |服务启动的IP             |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|48  |mqttwk.broker.id                        |yes       |                    |mqttwk    |实例名称                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|49  |mqttwk.broker.kafka.acks                |no        |                    |all       |all:必须等待回令 -1:不等待   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|50  |mqttwk.broker.kafka.batch.size          |no        |                    |16384     |批量提交大小              |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|51  |mqttwk.broker.kafka.bootstrap.servers   |yes       |                    |127.0.0.1:9092|kafka地址 127.0.0.1:9092,127.0.0.1:9093|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|52  |mqttwk.broker.kafka.broker-enabled      |yes       |                    |false     |是否启用kafka消息转发       |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|53  |mqttwk.broker.kafka.buffer.memory       |no        |                    |67108864  |缓存大小(Bit) 默认:64MB   |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|54  |mqttwk.broker.kafka.key.serializer      |no        |                    |org.apache.kafka.common.serialization.StringSerializer|key序列化方法            |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|55  |mqttwk.broker.kafka.linger.ms           |no        |                    |1         |提交延迟等待时间(等待时间内可以追加提交)|cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|56  |mqttwk.broker.kafka.partitioner.class   |no        |                    |cn.wizzer.iot.mqtt.server.store.kafka.SimplePartitioner|分发策略                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|57  |mqttwk.broker.kafka.producer.topic      |no        |                    |mqtt_publish|kafka转发topic        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|58  |mqttwk.broker.kafka.retries             |no        |                    |0         |重试次数                |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|59  |mqttwk.broker.kafka.value.serializer    |no        |                    |org.apache.kafka.common.serialization.StringSerializer|value序列化方法          |cn.wizzer.iot.mqtt.server.store.starter.StoreStarter|
|60  |mqttwk.broker.keep-alive                |no        |                    |60        |心跳时间(秒), 默认60秒, 该值可被客户端连接时相应配置覆盖|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|61  |mqttwk.broker.mqtt-password-must        |no        |                    |true      |Connect消息必须通过用户名密码验证, 默认true|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|62  |mqttwk.broker.port                      |no        |                    |8885      |端口号, 默认8885端口       |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|63  |mqttwk.broker.so-backlog                |no        |                    |511       |Sokcet参数, 存放已完成三次握手请求的队列最大长度, 默认511长度|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|64  |mqttwk.broker.so-keep-alive             |no        |                    |true      |是否开启心跳保活机制, 默认开启    |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|65  |mqttwk.broker.ssl-password              |no        |                    |          |SSL密钥文件密码           |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|66  |mqttwk.broker.use-epoll                 |no        |                    |false     |是否开启Epoll模式, 默认关闭   |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|67  |mqttwk.broker.websocket-enabled         |no        |                    |false     |WebSocket 是否启用      |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|68  |mqttwk.broker.websocket-path            |no        |                    |/mqtt     |WebSocket 访问路径, 默认 /mqtt|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|69  |mqttwk.broker.websocket-port            |no        |                    |9995      |WebSocket 端口号, 默认9995端口|cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|70  |mqttwk.broker.workerGroup-nThreads      |no        |                    |20        |bossGroup线程数        |cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties|
|71  |nutz.mvc.exclusions                     |no        |                    |          |排除指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|72  |nutz.mvc.ignore                         |no        |                    |          |过滤指定请求路径的正则表达式      |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|73  |nutz.mvc.whale.enc.input                |no        |                    |UTF-8     |在其他Filter之前设置input编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|74  |nutz.mvc.whale.enc.output               |no        |                    |UTF-8     |在其他Filter之前设置output编码|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|75  |nutz.mvc.whale.http.hidden_method_param |no        |                    |          |隐形http方法参数转换所对应的参数名 |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|76  |nutz.mvc.whale.http.method_override     |no        |                    |false     |是否允许使用X-HTTP-Method-Override|org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|77  |nutz.mvc.whale.upload.enable            |no        |                    |false     |是否启用隐形Upload支持      |org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter|
|78  |redis.database                          |no        |                    |0         |redis数据库序号          |org.nutz.boot.starter.redis.JedisStarter|
|79  |redis.host                              |no        |                    |127.0.0.1 |redis服务器ip或域名       |org.nutz.boot.starter.redis.JedisStarter|
|80  |redis.max_redir                         |no        |                    |10        |redis集群最大重定向次数      |org.nutz.boot.starter.redis.JedisStarter|
|81  |redis.nodes                             |no        |                    |          |redis集群节点列表         |org.nutz.boot.starter.redis.JedisStarter|
|82  |redis.password                          |no        |                    |          |redis密码             |org.nutz.boot.starter.redis.JedisStarter|
|83  |redis.port                              |no        |                    |6379      |redis服务器端口          |org.nutz.boot.starter.redis.JedisStarter|
|84  |redis.soTimeout                         |no        |                    |0         |redis写超时            |org.nutz.boot.starter.redis.JedisStarter|
|85  |redis.timeout                           |no        |                    |2000      |redis读写超时           |org.nutz.boot.starter.redis.JedisStarter|
|86  |web.filter.chain.path                   |no        |                    |          |指定Chain文件路径         |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|87  |web.filter.order.nutz                   |no        |                    |          |指定NutFilter执行顺序     |org.nutz.boot.starter.nutz.mvc.NutFilterStarter|
|88  |web.session.timeout                     |no        |                    |30        |Session空闲时间,单位分钟    |org.nutz.boot.starter.jetty.JettyStarter|
[INFO ] 15:33:53.232 org.nutz.ioc.impl.NutIoc - ... NutIoc init complete
[DEBUG] 15:33:53.233 org.nutz.ioc.impl.ScopeContext - Save object 'appContext' to [app] 
[DEBUG] 15:33:53.233 org.nutz.ioc.impl.ScopeContext - Save object 'conf' to [app] 
[DEBUG] 15:33:53.233 org.nutz.ioc.impl.ScopeContext - Save object 'nbApp' to [app] 
[DEBUG] 15:33:53.234 org.nutz.ioc.impl.ScopeContext - Save object 'counterService' to [app] 
[DEBUG] 15:33:53.239 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/integration/jedis/jedis.js ) , regex( ^(.+[.])(js|json)$ )
[DEBUG] 15:33:53.239 org.nutz.ioc.loader.json.JsonLoader - loading [org/nutz/integration/jedis/jedis.js]
[DEBUG] 15:33:53.240 org.nutz.ioc.loader.json.JsonLoader - Loaded 9 bean define from path=[org/nutz/integration/jedis/jedis.js] --> [redisService, jedisCluster, jedisClusterNodes, jedisClusterWrapper, pubSubService, jedisPoolConfig, jedisPool, jedisAgent, redis]
[DEBUG] 15:33:53.240 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:33:53.241 org.nutz.ioc.impl.NutIoc - Get '$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:33:53.241 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=$aop_async
[DEBUG] 15:33:53.242 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1988644427
[DEBUG] 15:33:53.242 org.nutz.ioc.impl.NutIoc - 	 >> Make...'$aop_async'<interface org.nutz.ioc.aop.config.AopConfigration>
[DEBUG] 15:33:53.258 org.nutz.ioc.impl.ScopeContext - Save object '$aop_async' to [app] 
[DEBUG] 15:33:53.296 org.nutz.ioc.aop.SimpleAopMaker - Load AopConfigure for anno=org.nutz.ioc.aop.Aop by type=org.nutz.ioc.aop.config.impl.AnnotationAopConfigration
[DEBUG] 15:33:53.296 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=storeStarter
[DEBUG] 15:33:53.297 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:33:53.297 org.nutz.ioc.impl.NutIoc - 	 >> Make...'storeStarter'<class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter>
[DEBUG] 15:33:53.297 org.nutz.ioc.impl.ScopeContext - Save object 'storeStarter' to [app] 
[DEBUG] 15:33:53.298 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.starter.StoreStarter without AOP
[DEBUG] 15:33:53.301 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:33:53.307 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:33:53.307 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilterStarter
[DEBUG] 15:33:53.307 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:33:53.307 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilterStarter'<class org.nutz.boot.starter.nutz.mvc.NutFilterStarter>
[DEBUG] 15:33:53.308 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilterStarter' to [app] 
[DEBUG] 15:33:53.308 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.NutFilterStarter without AOP
[DEBUG] 15:33:53.309 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:33:53.309 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:33:53.309 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:33:53.309 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilterStarter
[DEBUG] 15:33:53.310 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilterStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:33:53.310 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilterStarter'<class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter>
[DEBUG] 15:33:53.310 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilterStarter' to [app] 
[DEBUG] 15:33:53.310 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.nutz.mvc.WhaleFilterStarter without AOP
[DEBUG] 15:33:53.311 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:33:53.311 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:33:53.311 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jettyStarter
[DEBUG] 15:33:53.311 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jettyStarter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:33:53.311 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jettyStarter'<class org.nutz.boot.starter.jetty.JettyStarter>
[DEBUG] 15:33:53.311 org.nutz.ioc.impl.ScopeContext - Save object 'jettyStarter' to [app] 
[DEBUG] 15:33:53.312 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.jetty.JettyStarter without AOP
[DEBUG] 15:33:53.314 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:33:53.314 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[INFO ] 15:33:53.343 org.eclipse.jetty.util.log - Logging initialized @993ms to org.eclipse.jetty.util.log.Slf4jLog
[DEBUG] 15:33:53.482 org.nutz.ioc.impl.NutIoc - Get 'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:33:53.483 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nbServletContextListener
[DEBUG] 15:33:53.483 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nbServletContextListener) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:33:53.483 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nbServletContextListener'<class org.nutz.boot.starter.servlet3.NbServletContextListener>
[DEBUG] 15:33:53.483 org.nutz.ioc.impl.ScopeContext - Save object 'nbServletContextListener' to [app] 
[DEBUG] 15:33:53.483 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.boot.starter.servlet3.NbServletContextListener without AOP
[DEBUG] 15:33:53.484 org.nutz.ioc.impl.NutIoc - Get 'appContext'<class org.nutz.boot.AppContext>
[DEBUG] 15:33:53.584 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:33:53.587 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:33:53.587 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerServer
[DEBUG] 15:33:53.587 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:33:53.587 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerServer'<interface org.nutz.boot.starter.ServerFace>
[DEBUG] 15:33:53.587 org.nutz.ioc.impl.ScopeContext - Save object 'brokerServer' to [app] 
[DEBUG] 15:33:53.588 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer without AOP
[DEBUG] 15:33:53.588 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:33:53.588 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerProperties
[DEBUG] 15:33:53.588 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:33:53.588 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:33:53.588 org.nutz.ioc.impl.ScopeContext - Save object 'brokerProperties' to [app] 
[DEBUG] 15:33:53.589 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties without AOP
[DEBUG] 15:33:53.589 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:33:53.612 org.nutz.ioc.impl.NutIoc - Get 'jettyStarter'<interface org.nutz.boot.starter.ServerFace>
[INFO ] 15:33:53.612 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - Initializing [mqttwk] MQTT Broker ...
[DEBUG] 15:33:53.622 io.netty.util.internal.logging.InternalLoggerFactory - Using SLF4J as the default logging framework
[DEBUG] 15:33:53.636 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
[DEBUG] 15:33:53.636 io.netty.util.internal.InternalThreadLocalMap - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
[DEBUG] 15:33:53.652 io.netty.util.internal.PlatformDependent0 - -Dio.netty.noUnsafe: false
[DEBUG] 15:33:53.653 io.netty.util.internal.PlatformDependent0 - Java version: 11
[DEBUG] 15:33:53.654 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.theUnsafe: available
[DEBUG] 15:33:53.655 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.copyMemory: available
[DEBUG] 15:33:53.656 io.netty.util.internal.PlatformDependent0 - sun.misc.Unsafe.storeFence: available
[DEBUG] 15:33:53.656 io.netty.util.internal.PlatformDependent0 - java.nio.Buffer.address: available
[DEBUG] 15:33:53.657 io.netty.util.internal.PlatformDependent0 - direct buffer constructor: unavailable: Reflective setAccessible(true) disabled
[DEBUG] 15:33:53.657 io.netty.util.internal.PlatformDependent0 - java.nio.Bits.unaligned: available, true
[DEBUG] 15:33:53.658 io.netty.util.internal.PlatformDependent0 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable: class io.netty.util.internal.PlatformDependent0$7 cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @79d94571
[DEBUG] 15:33:53.660 io.netty.util.internal.PlatformDependent0 - java.nio.DirectByteBuffer.<init>(long, int): unavailable
[DEBUG] 15:33:53.660 io.netty.util.internal.PlatformDependent - sun.misc.Unsafe: available
[DEBUG] 15:33:53.661 io.netty.util.internal.PlatformDependent - maxDirectMemory: 4294967296 bytes (maybe)
[DEBUG] 15:33:53.662 io.netty.util.internal.PlatformDependent - -Dio.netty.tmpdir: /var/folders/c2/wdyrhhhx3qx15b88c9znf5880000gn/T (java.io.tmpdir)
[DEBUG] 15:33:53.662 io.netty.util.internal.PlatformDependent - -Dio.netty.bitMode: 64 (sun.arch.data.model)
[DEBUG] 15:33:53.663 io.netty.util.internal.PlatformDependent - Platform: MacOS
[DEBUG] 15:33:53.664 io.netty.util.internal.PlatformDependent - -Dio.netty.maxDirectMemory: -1 bytes
[DEBUG] 15:33:53.665 io.netty.util.internal.PlatformDependent - -Dio.netty.uninitializedArrayAllocationThreshold: -1
[DEBUG] 15:33:53.666 io.netty.util.internal.CleanerJava9 - java.nio.ByteBuffer.cleaner(): available
[DEBUG] 15:33:53.666 io.netty.util.internal.PlatformDependent - -Dio.netty.noPreferDirect: false
[DEBUG] 15:33:53.671 io.netty.channel.MultithreadEventLoopGroup - -Dio.netty.eventLoopThreads: 24
[DEBUG] 15:33:53.679 io.netty.channel.nio.NioEventLoop - -Dio.netty.noKeySetOptimization: false
[DEBUG] 15:33:53.680 io.netty.channel.nio.NioEventLoop - -Dio.netty.selectorAutoRebuildThreshold: 512
[DEBUG] 15:33:53.688 io.netty.util.internal.PlatformDependent - org.jctools-core.MpscChunkedArrayQueue: available
[DEBUG] 15:33:53.707 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - ssl password 123456
[DEBUG] 15:33:53.708 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input pfx stream java.io.BufferedInputStream@6979efad
[DEBUG] 15:33:53.974 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - input ca stream java.io.BufferedInputStream@3961a41a
[DEBUG] 15:33:59.069 io.netty.channel.DefaultChannelId - -Dio.netty.processId: 17907 (auto-detected)
[DEBUG] 15:33:59.071 io.netty.util.NetUtil - -Djava.net.preferIPv4Stack: false
[DEBUG] 15:33:59.072 io.netty.util.NetUtil - -Djava.net.preferIPv6Addresses: false
[DEBUG] 15:33:59.075 io.netty.util.NetUtilInitializations - Loopback interface: lo0 (lo0, 0:0:0:0:0:0:0:1%lo0)
[DEBUG] 15:33:59.075 io.netty.util.NetUtil - Failed to get SOMAXCONN from sysctl and file /proc/sys/net/core/somaxconn. Default: 128
[DEBUG] 15:33:59.078 io.netty.channel.DefaultChannelId - -Dio.netty.machineId: ac:de:48:ff:fe:00:11:22 (auto-detected)
[DEBUG] 15:33:59.088 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.level: simple
[DEBUG] 15:33:59.088 io.netty.util.ResourceLeakDetector - -Dio.netty.leakDetection.targetRecords: 4
[DEBUG] 15:33:59.113 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numHeapArenas: 24
[DEBUG] 15:33:59.113 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.numDirectArenas: 24
[DEBUG] 15:33:59.113 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.pageSize: 8192
[DEBUG] 15:33:59.113 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxOrder: 9
[DEBUG] 15:33:59.113 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.chunkSize: 4194304
[DEBUG] 15:33:59.113 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.smallCacheSize: 256
[DEBUG] 15:33:59.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.normalCacheSize: 64
[DEBUG] 15:33:59.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
[DEBUG] 15:33:59.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimInterval: 8192
[DEBUG] 15:33:59.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.cacheTrimIntervalMillis: 0
[DEBUG] 15:33:59.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.useCacheForAllThreads: false
[DEBUG] 15:33:59.114 io.netty.buffer.PooledByteBufAllocator - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023
[DEBUG] 15:33:59.124 io.netty.buffer.ByteBufUtil - -Dio.netty.allocator.type: pooled
[DEBUG] 15:33:59.124 io.netty.buffer.ByteBufUtil - -Dio.netty.threadLocalDirectBufferSize: 0
[DEBUG] 15:33:59.124 io.netty.buffer.ByteBufUtil - -Dio.netty.maxThreadLocalCharBufferSize: 16384
[INFO ] 15:33:59.137 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463] REGISTERED
[INFO ] 15:33:59.139 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463] BIND: 0.0.0.0/0.0.0.0:8885
[INFO ] 15:33:59.142 io.netty.handler.logging.LoggingHandler - [id: 0x2e4f768c] REGISTERED
[INFO ] 15:33:59.142 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] ACTIVE
[INFO ] 15:33:59.143 io.netty.handler.logging.LoggingHandler - [id: 0x2e4f768c] BIND: 0.0.0.0/0.0.0.0:9995
[INFO ] 15:33:59.143 io.netty.handler.logging.LoggingHandler - [id: 0x2e4f768c, L:/0:0:0:0:0:0:0:0:9995] ACTIVE
[INFO ] 15:33:59.143 cn.wizzer.iot.mqtt.server.broker.server.BrokerServer - MQTT Broker [mqttwk] is up and running. Open Port: 8885 WebSocketPort: 9995
[INFO ] 15:33:59.145 org.eclipse.jetty.server.Server - jetty-9.4.34.v20201102; built: 2020-11-02T14:15:39.302Z; git: e46af88704a893fc12cb0e3bf46e2c7b48a009e7; jvm 11.0.11+9-LTS-194
[INFO ] 15:33:59.224 org.eclipse.jetty.annotations.AnnotationConfiguration - Scanning elapsed time=0ms
[INFO ] 15:33:59.228 org.eclipse.jetty.webapp.StandardDescriptorProcessor - NO JSP Support for /, did not find org.eclipse.jetty.jsp.JettyJspServlet
[INFO ] 15:33:59.241 org.eclipse.jetty.server.session - DefaultSessionIdManager workerName=node0
[INFO ] 15:33:59.241 org.eclipse.jetty.server.session - No SessionScavenger set, using defaults
[INFO ] 15:33:59.243 org.eclipse.jetty.server.session - node0 Scavenging every 660000ms
[DEBUG] 15:33:59.258 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:33:59.258 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<interface org.nutz.boot.starter.WebFilterFace>
[DEBUG] 15:33:59.259 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:33:59.259 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=whaleFilter
[DEBUG] 15:33:59.260 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(whaleFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:33:59.260 org.nutz.ioc.impl.NutIoc - 	 >> Make...'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:33:59.260 org.nutz.ioc.impl.ScopeContext - Save object 'whaleFilter' to [app] 
[DEBUG] 15:33:59.261 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.WhaleFilter without AOP
[DEBUG] 15:33:59.262 org.nutz.ioc.impl.NutIoc - Get 'whaleFilterStarter'<>
[DEBUG] 15:33:59.264 org.nutz.ioc.impl.NutIoc - Get 'whaleFilter'<class org.nutz.mvc.WhaleFilter>
[DEBUG] 15:33:59.265 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=whale pathSpec=/*
[DEBUG] 15:33:59.266 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:33:59.266 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=nutFilter
[DEBUG] 15:33:59.266 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(nutFilter) in AnnotationIocLoader(packages=[org.nutz.boot.starter])
[DEBUG] 15:33:59.266 org.nutz.ioc.impl.NutIoc - 	 >> Make...'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:33:59.266 org.nutz.ioc.impl.ScopeContext - Save object 'nutFilter' to [app] 
[DEBUG] 15:33:59.267 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.mvc.NutFilter without AOP
[DEBUG] 15:33:59.267 org.nutz.ioc.impl.NutIoc - Get 'nutFilterStarter'<>
[DEBUG] 15:33:59.268 org.nutz.resource.Scans - Found 1 resource by src( org/nutz/conf/NutzDefaultConfig.js ) , regex( \.(js|json)$ )
[DEBUG] 15:33:59.270 org.nutz.ioc.impl.NutIoc - Get 'nutFilter'<class org.nutz.mvc.NutFilter>
[DEBUG] 15:33:59.270 org.nutz.boot.starter.servlet3.NbServletContextListener - add filter name=nutz pathSpec=/*
[INFO ] 15:33:59.273 org.nutz.mvc.NutFilter - NutFilter[nutz] starting ...
[DEBUG] 15:33:59.275 org.nutz.resource.Scans - Locations count=80 time use 1ms
[DEBUG] 15:33:59.276 org.nutz.mvc.config.AbstractNutConfig - Loading by class org.nutz.boot.starter.nutz.mvc.NbMvcLoading
[INFO ] 15:33:59.278 org.nutz.mvc.impl.NutLoading - Nutz Version : 1.r.68-SNAPSHOT 
[INFO ] 15:33:59.278 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is initializing ...
[DEBUG] 15:33:59.279 org.nutz.mvc.impl.NutLoading - Web Container Information:
[DEBUG] 15:33:59.279 org.nutz.mvc.impl.NutLoading -  - Default Charset : UTF-8
[DEBUG] 15:33:59.279 org.nutz.mvc.impl.NutLoading -  - Current . path  : /Users/galezhang/IdeaProjects/MqttWk/.
[DEBUG] 15:33:59.279 org.nutz.mvc.impl.NutLoading -  - Java Version    : 11.0.11
[DEBUG] 15:33:59.279 org.nutz.mvc.impl.NutLoading -  - File separator  : /
[DEBUG] 15:33:59.280 org.nutz.mvc.impl.NutLoading -  - Timezone        : Asia/Shanghai
[DEBUG] 15:33:59.280 org.nutz.mvc.impl.NutLoading -  - OS              : Mac OS X x86_64
[DEBUG] 15:33:59.280 org.nutz.mvc.impl.NutLoading -  - ServerInfo      : jetty/9.4.34.v20201102
[DEBUG] 15:33:59.280 org.nutz.mvc.impl.NutLoading -  - Servlet API     : 3.1
[DEBUG] 15:33:59.280 org.nutz.mvc.impl.NutLoading -  - ContextPath     : 
[DEBUG] 15:33:59.281 org.nutz.mvc.impl.NutLoading -  - context.tempdir : /Users/galezhang/IdeaProjects/MqttWk/temp
[DEBUG] 15:33:59.281 org.nutz.mvc.impl.NutLoading -  - MainModule      : cn.wizzer.iot.mqtt.server.broker.MainLauncher
[INFO ] 15:33:59.281 org.nutz.mvc.config.AbstractNutConfig - /WEB-INF/ not Found?!
[DEBUG] 15:33:59.282 org.nutz.mvc.impl.NutLoading - >> app.root = ./webapp
[INFO ] 15:33:59.285 org.nutz.mvc.impl.NutLoading - Build URL mapping by org.nutz.mvc.impl.UrlMappingImpl ...
[DEBUG] 15:33:59.287 org.nutz.mvc.impl.NutLoading - @Views(DefaultViewMaker.class)
[DEBUG] 15:33:59.290 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - @ChainBy(org.nutz.mvc.impl.NutActionChainMaker)
[DEBUG] 15:33:59.296 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot'
[DEBUG] 15:33:59.303 org.nutz.resource.Scans - Found 52 resource by src( cn/wizzer/iot/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:33:59.312 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:33:59.318 org.nutz.mvc.impl.Loadings - module class location 'file:/Users/galezhang/IdeaProjects/MqttWk/mqtt-broker/target/classes/'
[DEBUG] 15:33:59.319 org.nutz.mvc.impl.Loadings -  > scan 'cn.wizzer.iot.mqtt.server.broker'
[DEBUG] 15:33:59.322 org.nutz.resource.Scans - Found 26 resource by src( cn/wizzer/iot/mqtt/server/broker/ ) , regex( ^.+[.]class$ )
[DEBUG] 15:33:59.326 org.nutz.mvc.impl.Loadings -    >> add 'cn.wizzer.iot.mqtt.server.broker.webapi.WebApiController'
[DEBUG] 15:33:59.326 org.nutz.mvc.impl.NutLoading - Use org.nutz.mvc.impl.NutEntryDeterminer as EntryMethodDeterminer
[INFO ] 15:33:59.330 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.integration.shiro.NutShiroProcessor
[INFO ] 15:33:59.333 org.nutz.mvc.impl.NutActionChainMaker - Optional processor class not found, disabled : org.nutz.plugins.validation.ValidationProcessor
[DEBUG] 15:33:59.338 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/send'     >> (WebApiController.java:60).send       : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:33:59.338 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/test_send' >> (WebApiController.java:92).test_send  : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[DEBUG] 15:33:59.338 org.nutz.mvc.impl.UrlMappingImpl -    '/open/api/mqttwk/info'     >> (WebApiController.java:120).info      : Object     | @Ok(json ) @Fail(null ) | by 0 Filters | (I:UTF-8/O:UTF-8)
[INFO ] 15:33:59.339 org.nutz.mvc.impl.NutLoading - Found 3 module methods
[DEBUG] 15:33:59.339 org.nutz.mvc.impl.NutLoading - Localization: org.nutz.mvc.impl.NutMessageLoader('locales/')  dft<>
[DEBUG] 15:33:59.340 org.nutz.resource.Scans - Found 0 resource by src( locales/ ) , regex( ^.+[.]properties$ )
[DEBUG] 15:33:59.341 org.nutz.mvc.impl.NutMessageLoader - Load Messages in 0 resource : [[]]
[DEBUG] 15:33:59.341 org.nutz.mvc.impl.NutMessageLoader - Message Loaded, size = 0
[INFO ] 15:33:59.341 org.nutz.mvc.impl.NutLoading - Nutz.Mvc[nutz] is up in 60ms
[INFO ] 15:33:59.364 org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.w.WebAppContext@68c87fc3{/,[jar:file:/Users/galezhang/.m2/repository/org/nutz/nutzboot-starter-jetty/2.4.3-SNAPSHOT/nutzboot-starter-jetty-2.4.3-20210428.071228-35.jar!/META-INF/jetty_resources],AVAILABLE}
[INFO ] 15:33:59.378 org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@792bbc74{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 15:33:59.378 org.eclipse.jetty.server.Server - Started @7029ms
[DEBUG] 15:33:59.379 org.nutz.boot.starter.jetty.JettyStarter - Jetty monitor props:
----------------------------------------------
http.enable                              : true
http.port                                : 8922
http.host                                : 0.0.0.0
http.idleTimeout                         : 300000
https.enable                             : false
welcome_files                            : index.html,index.htm,index.do
maxFormContentSize                       : 1073741824
----------------------------------------------
[DEBUG] 15:33:59.380 org.nutz.ioc.impl.NutIoc - Get 'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:33:59.380 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=mainLauncher
[DEBUG] 15:33:59.380 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(mainLauncher) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:33:59.380 org.nutz.ioc.impl.NutIoc - 	 >> Make...'mainLauncher'<class cn.wizzer.iot.mqtt.server.broker.MainLauncher>
[DEBUG] 15:33:59.380 org.nutz.ioc.impl.ScopeContext - Save object 'mainLauncher' to [app] 
[DEBUG] 15:33:59.381 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.MainLauncher without AOP
[DEBUG] 15:33:59.381 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:33:59.381 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:33:59.381 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisService
[DEBUG] 15:33:59.382 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:33:59.382 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:33:59.382 org.nutz.ioc.impl.ScopeContext - Save object 'redisService' to [app] 
[DEBUG] 15:33:59.406 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.RedisService without AOP
[DEBUG] 15:33:59.413 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:33:59.413 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisAgent
[DEBUG] 15:33:59.413 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisAgent) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:33:59.413 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisAgent'<>
[DEBUG] 15:33:59.414 org.nutz.ioc.impl.ScopeContext - Save object 'jedisAgent' to [app] 
[DEBUG] 15:33:59.414 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.JedisAgent without AOP
[DEBUG] 15:33:59.414 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:33:59.414 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<class cn.wizzer.iot.mqtt.server.broker.server.BrokerServer>
[INFO ] 15:33:59.415 org.nutz.boot.NbApp - mqttwk started : 6577ms
[INFO ] 15:34:10.833 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x588c1abf, L:/127.0.0.1:8885 - R:/127.0.0.1:54782]
[INFO ] 15:34:10.834 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:34:10.875 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:34:10.876 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=brokerHandler
[DEBUG] 15:34:10.876 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.876 org.nutz.ioc.impl.NutIoc - 	 >> Make...'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:34:10.876 org.nutz.ioc.impl.ScopeContext - Save object 'brokerHandler' to [app] 
[DEBUG] 15:34:10.877 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler without AOP
[DEBUG] 15:34:10.878 org.nutz.ioc.impl.NutIoc - Get 'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 15:34:10.878 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=protocolProcess
[DEBUG] 15:34:10.878 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.878 org.nutz.ioc.impl.NutIoc - 	 >> Make...'protocolProcess'<class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess>
[DEBUG] 15:34:10.878 org.nutz.ioc.impl.ScopeContext - Save object 'protocolProcess' to [app] 
[DEBUG] 15:34:10.878 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.protocol.ProtocolProcess without AOP
[DEBUG] 15:34:10.879 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 15:34:10.880 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=sessionStoreService
[DEBUG] 15:34:10.880 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.880 org.nutz.ioc.impl.NutIoc - 	 >> Make...'sessionStoreService'<interface cn.wizzer.iot.mqtt.server.common.session.ISessionStoreService>
[DEBUG] 15:34:10.880 org.nutz.ioc.impl.ScopeContext - Save object 'sessionStoreService' to [app] 
[DEBUG] 15:34:10.887 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:34:10.888 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 15:34:10.888 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeStoreService
[DEBUG] 15:34:10.888 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.888 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeStoreService'<interface cn.wizzer.iot.mqtt.server.common.subscribe.ISubscribeStoreService>
[DEBUG] 15:34:10.888 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeStoreService' to [app] 
[DEBUG] 15:34:10.888 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService without AOP
[DEBUG] 15:34:10.889 org.nutz.ioc.impl.NutIoc - Get 'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 15:34:10.889 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeNotWildcardCache
[DEBUG] 15:34:10.889 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeNotWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.889 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeNotWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeNotWildcardCache>
[DEBUG] 15:34:10.889 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeNotWildcardCache' to [app] 
[DEBUG] 15:34:10.891 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:34:10.891 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:34:10.891 org.nutz.ioc.impl.NutIoc - Get 'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 15:34:10.891 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=subscribeWildcardCache
[DEBUG] 15:34:10.891 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.891 org.nutz.ioc.impl.NutIoc - 	 >> Make...'subscribeWildcardCache'<class cn.wizzer.iot.mqtt.server.store.cache.SubscribeWildcardCache>
[DEBUG] 15:34:10.891 org.nutz.ioc.impl.ScopeContext - Save object 'subscribeWildcardCache' to [app] 
[DEBUG] 15:34:10.893 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:34:10.893 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:34:10.894 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:34:10.894 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=messageIdService
[DEBUG] 15:34:10.894 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(messageIdService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.894 org.nutz.ioc.impl.NutIoc - 	 >> Make...'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:34:10.894 org.nutz.ioc.impl.ScopeContext - Save object 'messageIdService' to [app] 
[DEBUG] 15:34:10.895 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.MessageIdService without AOP
[DEBUG] 15:34:10.896 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:34:10.898 org.nutz.ioc.impl.NutIoc - Get 'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 15:34:10.898 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPool
[DEBUG] 15:34:10.899 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPool) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:34:10.899 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPool'<class redis.clients.util.Pool>
[DEBUG] 15:34:10.899 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPool' to [app] 
[DEBUG] 15:34:10.904 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 15:34:10.904 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=jedisPoolConfig
[DEBUG] 15:34:10.904 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(jedisPoolConfig) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:34:10.904 org.nutz.ioc.impl.NutIoc - 	 >> Make...'jedisPoolConfig'<>
[DEBUG] 15:34:10.904 org.nutz.ioc.impl.ScopeContext - Save object 'jedisPoolConfig' to [app] 
[DEBUG] 15:34:10.905 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPoolConfig without AOP
[DEBUG] 15:34:10.905 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.906 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.906 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.906 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.907 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.907 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.907 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.908 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class redis.clients.jedis.JedisPool without AOP
[DEBUG] 15:34:10.909 org.nutz.ioc.impl.NutIoc - Get 'jedisPoolConfig'<>
[DEBUG] 15:34:10.909 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.909 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.909 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.910 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.910 org.nutz.ioc.impl.NutIoc - Get 'conf'<>
[DEBUG] 15:34:10.988 org.nutz.ioc.val.ReferTypeValue - name=messageStoreService not found, search for type=cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService
[DEBUG] 15:34:10.988 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREPEATABLE_READ) in TransIocLoader@1813532933
[DEBUG] 15:34:10.988 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txSERIALIZABLE) in TransIocLoader@1813532933
[DEBUG] 15:34:10.989 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txNONE) in TransIocLoader@1813532933
[DEBUG] 15:34:10.989 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_UNCOMMITTED) in TransIocLoader@1813532933
[DEBUG] 15:34:10.989 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(txREAD_COMMITTED) in TransIocLoader@1813532933
[DEBUG] 15:34:10.989 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject($aop_async) in AsyncAopIocLoader@1988644427
[DEBUG] 15:34:10.989 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.989 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(webApiController) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.989 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(sessionStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(storeStarter) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerHandler) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(subscribeWildcardCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(protocolProcess) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(brokerProperties) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.990 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.991 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.991 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.991 org.nutz.ioc.impl.NutIoc - Get 'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 15:34:10.991 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageStoreService
[DEBUG] 15:34:10.991 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.991 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IRetainMessageStoreService>
[DEBUG] 15:34:10.991 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageStoreService' to [app] 
[DEBUG] 15:34:10.991 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.RetainMessageStoreService without AOP
[DEBUG] 15:34:10.992 org.nutz.ioc.impl.NutIoc - Get 'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 15:34:10.992 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=retainMessageCache
[DEBUG] 15:34:10.992 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(retainMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.992 org.nutz.ioc.impl.NutIoc - 	 >> Make...'retainMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.RetainMessageCache>
[DEBUG] 15:34:10.992 org.nutz.ioc.impl.ScopeContext - Save object 'retainMessageCache' to [app] 
[DEBUG] 15:34:10.993 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:34:10.993 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:34:10.993 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<class org.nutz.integration.jedis.JedisAgent>
[DEBUG] 15:34:10.994 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 15:34:10.994 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageStoreService
[DEBUG] 15:34:10.994 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.994 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPublishMessageStoreService>
[DEBUG] 15:34:10.994 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageStoreService' to [app] 
[DEBUG] 15:34:10.994 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPublishMessageStoreService without AOP
[DEBUG] 15:34:10.995 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:34:10.995 org.nutz.ioc.impl.NutIoc - Get 'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 15:34:10.995 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPublishMessageCache
[DEBUG] 15:34:10.995 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPublishMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.995 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPublishMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPublishMessageCache>
[DEBUG] 15:34:10.996 org.nutz.ioc.impl.ScopeContext - Save object 'dupPublishMessageCache' to [app] 
[DEBUG] 15:34:10.998 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:34:10.998 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:34:10.998 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 15:34:10.998 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageStoreService
[DEBUG] 15:34:10.998 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageStoreService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.998 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageStoreService'<interface cn.wizzer.iot.mqtt.server.common.message.IDupPubRelMessageStoreService>
[DEBUG] 15:34:10.998 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageStoreService' to [app] 
[DEBUG] 15:34:10.998 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.store.message.DupPubRelMessageStoreService without AOP
[DEBUG] 15:34:10.999 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<interface cn.wizzer.iot.mqtt.server.common.message.IMessageIdService>
[DEBUG] 15:34:10.999 org.nutz.ioc.impl.NutIoc - Get 'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 15:34:10.999 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=dupPubRelMessageCache
[DEBUG] 15:34:10.999 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(dupPubRelMessageCache) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:10.999 org.nutz.ioc.impl.NutIoc - 	 >> Make...'dupPubRelMessageCache'<class cn.wizzer.iot.mqtt.server.store.cache.DupPubRelMessageCache>
[DEBUG] 15:34:10.999 org.nutz.ioc.impl.ScopeContext - Save object 'dupPubRelMessageCache' to [app] 
[DEBUG] 15:34:11.000 org.nutz.ioc.impl.NutIoc - Get 'redisService'<class org.nutz.integration.jedis.RedisService>
[DEBUG] 15:34:11.001 org.nutz.ioc.impl.NutIoc - Get 'conf'<class org.nutz.ioc.impl.PropertiesProxy>
[DEBUG] 15:34:11.001 org.nutz.ioc.impl.NutIoc - Get 'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 15:34:11.001 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalCommunication
[DEBUG] 15:34:11.001 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalCommunication) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:11.001 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalCommunication'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication>
[DEBUG] 15:34:11.001 org.nutz.ioc.impl.ScopeContext - Save object 'internalCommunication' to [app] 
[DEBUG] 15:34:11.001 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalCommunication without AOP
[DEBUG] 15:34:11.002 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:34:11.002 org.nutz.ioc.impl.NutIoc - Get 'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 15:34:11.002 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaService
[DEBUG] 15:34:11.002 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaService) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:11.002 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaService'<class cn.wizzer.iot.mqtt.server.broker.service.KafkaService>
[DEBUG] 15:34:11.002 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaService' to [app] 
[DEBUG] 15:34:11.003 org.nutz.ioc.impl.NutIoc - Get 'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 15:34:11.004 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=kafkaProducer
[DEBUG] 15:34:11.004 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(kafkaProducer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:11.004 org.nutz.ioc.impl.NutIoc - 	 >> Make...'kafkaProducer'<class org.apache.kafka.clients.producer.KafkaProducer>
[DEBUG] 15:34:11.004 org.nutz.ioc.impl.ScopeContext - Save object 'kafkaProducer' to [app] 
[DEBUG] 15:34:11.013 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.apache.kafka.clients.producer.KafkaProducer without AOP
[DEBUG] 15:34:11.013 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 15:34:11.014 org.nutz.ioc.impl.NutIoc - Get 'storeStarter'<>
[DEBUG] 15:34:11.014 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:34:11.014 org.nutz.ioc.impl.NutIoc - Get 'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 15:34:11.014 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=redisCluster
[DEBUG] 15:34:11.014 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(redisCluster) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:11.014 org.nutz.ioc.impl.NutIoc - 	 >> Make...'redisCluster'<class cn.wizzer.iot.mqtt.server.broker.cluster.RedisCluster>
[DEBUG] 15:34:11.014 org.nutz.ioc.impl.ScopeContext - Save object 'redisCluster' to [app] 
[DEBUG] 15:34:11.016 org.nutz.ioc.impl.NutIoc - Get 'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 15:34:11.016 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=pubSubService
[DEBUG] 15:34:11.016 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(pubSubService) in JsonLoader(paths=[org/nutz/integration/jedis/jedis.js])
[DEBUG] 15:34:11.016 org.nutz.ioc.impl.NutIoc - 	 >> Make...'pubSubService'<class org.nutz.integration.jedis.pubsub.PubSubService>
[DEBUG] 15:34:11.016 org.nutz.ioc.impl.ScopeContext - Save object 'pubSubService' to [app] 
[DEBUG] 15:34:11.017 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class org.nutz.integration.jedis.pubsub.PubSubService without AOP
[DEBUG] 15:34:11.017 org.nutz.ioc.impl.NutIoc - Get 'jedisAgent'<>
[DEBUG] 15:34:11.017 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:34:11.018 org.nutz.ioc.impl.NutIoc - Get 'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 15:34:11.018 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=internalSendServer
[DEBUG] 15:34:11.018 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(internalSendServer) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:11.018 org.nutz.ioc.impl.NutIoc - 	 >> Make...'internalSendServer'<class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer>
[DEBUG] 15:34:11.018 org.nutz.ioc.impl.ScopeContext - Save object 'internalSendServer' to [app] 
[DEBUG] 15:34:11.018 org.nutz.ioc.aop.impl.DefaultMirrorFactory - Load class cn.wizzer.iot.mqtt.server.broker.internal.InternalSendServer without AOP
[DEBUG] 15:34:11.019 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:34:11.019 org.nutz.ioc.impl.NutIoc - Get 'subscribeStoreService'<class cn.wizzer.iot.mqtt.server.store.subscribe.SubscribeStoreService>
[DEBUG] 15:34:11.019 org.nutz.ioc.impl.NutIoc - Get 'sessionStoreService'<class cn.wizzer.iot.mqtt.server.store.session.SessionStoreService>
[DEBUG] 15:34:11.019 org.nutz.ioc.impl.NutIoc - Get 'messageIdService'<class cn.wizzer.iot.mqtt.server.store.message.MessageIdService>
[DEBUG] 15:34:11.019 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:34:11.019 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelGroup
[DEBUG] 15:34:11.019 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelGroup) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:11.019 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:34:11.020 org.nutz.ioc.impl.ScopeContext - Save object 'channelGroup' to [app] 
[DEBUG] 15:34:11.020 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 15:34:11.020 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:34:11.020 org.nutz.ioc.impl.NutIoc - 	 >> Load definition name=channelIdMap
[DEBUG] 15:34:11.020 org.nutz.ioc.loader.combo.ComboIocLoader - Found IocObject(channelIdMap) in AnnotationIocLoader(packages=[cn.wizzer.iot])
[DEBUG] 15:34:11.020 org.nutz.ioc.impl.NutIoc - 	 >> Make...'channelIdMap'<interface java.util.Map>
[DEBUG] 15:34:11.020 org.nutz.ioc.impl.ScopeContext - Save object 'channelIdMap' to [app] 
[DEBUG] 15:34:11.020 org.nutz.ioc.impl.NutIoc - Get 'brokerServer'<>
[DEBUG] 15:34:11.023 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:34:11.024 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:34:11.024 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:34:11.025 org.nutz.ioc.impl.NutIoc - Get 'brokerProperties'<class cn.wizzer.iot.mqtt.server.broker.config.BrokerProperties>
[DEBUG] 15:34:11.025 org.nutz.ioc.impl.NutIoc - Get 'channelGroup'<interface io.netty.channel.group.ChannelGroup>
[DEBUG] 15:34:11.025 org.nutz.ioc.impl.NutIoc - Get 'channelIdMap'<interface java.util.Map>
[DEBUG] 15:34:11.029 io.netty.util.Recycler - -Dio.netty.recycler.maxCapacityPerThread: 4096
[DEBUG] 15:34:11.029 io.netty.util.Recycler - -Dio.netty.recycler.ratio: 8
[DEBUG] 15:34:11.029 io.netty.util.Recycler - -Dio.netty.recycler.chunkSize: 32
[DEBUG] 15:34:11.029 io.netty.util.Recycler - -Dio.netty.recycler.blocking: false
[DEBUG] 15:34:11.035 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkAccessible: true
[DEBUG] 15:34:11.036 io.netty.buffer.AbstractByteBuf - -Dio.netty.buffer.checkBounds: true
[DEBUG] 15:34:11.037 io.netty.util.ResourceLeakDetectorFactory - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@5d66133e
[WARN ] 15:34:11.157 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:390)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:375)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:34:15.433 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x1ad7dfd8, L:/127.0.0.1:8885 - R:/127.0.0.1:54798]
[INFO ] 15:34:15.433 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:34:15.434 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 15:34:15.471 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:390)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:375)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:42:57.278 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xdf9efd50, L:/127.0.0.1:8885 - R:/127.0.0.1:56687]
[INFO ] 15:42:57.278 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:42:57.279 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 15:42:57.308 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:390)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:375)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:46:05.056 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x8b7009ac, L:/127.0.0.1:8885 - R:/127.0.0.1:57275]
[INFO ] 15:46:05.057 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:46:05.058 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 15:46:05.084 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:390)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:375)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:47:35.763 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x88e6dcae, L:/127.0.0.1:8885 - R:/127.0.0.1:57572]
[INFO ] 15:47:35.763 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:47:35.764 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 15:47:35.788 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Empty server certificate chain
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:390)
	at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:375)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:57:01.692 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x2b97c4a7, L:/127.0.0.1:8885 - R:/127.0.0.1:59540]
[INFO ] 15:57:01.693 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:57:01.695 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:57:01.773 io.netty.handler.ssl.SslHandler - [id: 0x2b97c4a7, L:/127.0.0.1:8885 - R:/127.0.0.1:59540] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 15:57:01.888 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:57:21.271 cn.wizzer.iot.mqtt.server.broker.protocol.Subscribe - SUBSCRIBE - clientId: MQTT_FX_Client, topFilter: /test/topic, QoS: 0
[DEBUG] 15:57:34.887 cn.wizzer.iot.mqtt.server.broker.protocol.Publish - PUBLISH - clientId: MQTT_FX_Client, topic: /test/topic, Qos: 0, payload: testpayload
[DEBUG] 15:57:46.093 cn.wizzer.iot.mqtt.server.broker.protocol.DisConnect - DISCONNECT - clientId: MQTT_FX_Client, cleanSession: true
[INFO ] 15:58:00.265 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0x9fae8267, L:/127.0.0.1:8885 - R:/127.0.0.1:59735]
[INFO ] 15:58:00.266 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:58:00.267 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[WARN ] 15:58:00.302 io.netty.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.
io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: Invalid CertificateVerify signature
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:480)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: javax.net.ssl.SSLHandshakeException: Invalid CertificateVerify signature
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)
	at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:356)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312)
	at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:303)
	at java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.<init>(CertificateVerify.java:672)
	at java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyConsumer.consume(CertificateVerify.java:802)
	at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)
	at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1081)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1068)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1015)
	at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1548)
	at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1394)
	at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)
	at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)
	at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)
	at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)
	... 21 common frames omitted
[INFO ] 15:58:37.029 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ: [id: 0xdd75ebbc, L:/127.0.0.1:8885 - R:/127.0.0.1:59853]
[INFO ] 15:58:37.030 io.netty.handler.logging.LoggingHandler - [id: 0xec4da463, L:/0:0:0:0:0:0:0:0:8885] READ COMPLETE
[DEBUG] 15:58:37.030 org.nutz.ioc.impl.NutIoc - Get 'brokerHandler'<class cn.wizzer.iot.mqtt.server.broker.handler.BrokerHandler>
[DEBUG] 15:58:37.063 io.netty.handler.ssl.SslHandler - [id: 0xdd75ebbc, L:/127.0.0.1:8885 - R:/127.0.0.1:59853] HANDSHAKEN: protocol:TLSv1.2 cipher suite:TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
[DEBUG] 15:58:37.068 cn.wizzer.iot.mqtt.server.broker.protocol.Connect - CONNECT - clientId: MQTT_FX_Client, cleanSession: true
[DEBUG] 15:59:36.980 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:00:36.873 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:01:36.775 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:02:36.680 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:03:36.582 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:04:36.486 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:05:36.388 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:06:36.291 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:07:36.193 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:08:36.097 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:09:36.001 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:10:35.902 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:11:35.806 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:12:35.707 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:13:35.609 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:14:35.511 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:15:35.415 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:16:35.317 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:17:35.251 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:18:35.191 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:19:35.091 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:20:34.995 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:21:34.879 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:22:34.791 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:23:34.699 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:24:34.602 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:25:34.504 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:26:34.406 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:27:34.310 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:28:34.213 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:29:34.118 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:30:34.016 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:31:33.918 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:32:33.821 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:33:33.724 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:34:33.626 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:35:33.528 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:36:33.430 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:37:33.331 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:38:33.234 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:39:33.136 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:40:33.039 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:41:32.941 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:42:32.845 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:43:32.748 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:44:32.650 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:45:32.554 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:46:32.456 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:47:32.359 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:48:32.295 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:49:32.200 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:50:32.099 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:51:31.993 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:52:31.881 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:53:31.784 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:54:31.685 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:55:31.590 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:56:31.489 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:57:31.392 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:58:31.295 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 16:59:31.198 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:00:31.100 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:01:31.002 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:02:30.906 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:03:30.807 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:04:30.710 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:05:30.647 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:06:30.547 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:07:30.437 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:08:30.338 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:09:30.243 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:10:30.144 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:11:30.047 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:12:29.950 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:13:29.853 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:14:29.758 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:15:29.657 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:16:29.560 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:17:29.461 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:18:29.363 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:19:29.268 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:20:29.167 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:21:29.104 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:22:29.008 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:23:28.910 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:24:28.813 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:25:28.715 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:26:28.622 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:27:28.531 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:28:28.436 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:29:28.341 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:30:28.243 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:31:28.142 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:32:28.046 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:33:27.949 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:34:27.853 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:35:27.756 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:36:27.661 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:37:27.561 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:38:27.457 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:39:27.362 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:40:27.262 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:41:27.165 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:42:27.068 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:43:26.970 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:44:26.873 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:45:26.780 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:46:26.685 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:47:26.586 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:48:26.489 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:49:26.391 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:50:26.291 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:51:26.196 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:52:26.098 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:53:25.992 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:54:25.895 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:55:25.797 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:56:25.700 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:57:25.611 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:58:25.521 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 17:59:25.429 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:00:25.326 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:01:25.229 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:02:25.133 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:03:25.034 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:04:24.938 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:05:24.840 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:06:24.751 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:07:24.648 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:08:24.566 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:09:24.479 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:10:24.373 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:11:24.277 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:12:24.181 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:13:24.082 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:14:23.987 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:15:23.888 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:16:23.790 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:17:23.695 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:18:23.597 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:19:23.503 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:20:23.405 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:21:23.309 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:22:23.211 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:23:23.114 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:24:23.017 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:25:22.920 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:26:22.823 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:27:22.729 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:28:22.631 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:29:22.536 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:30:22.436 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:31:22.341 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:32:22.244 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:33:22.147 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:34:22.049 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:35:21.952 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:36:21.856 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:37:21.760 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:38:21.663 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:39:21.568 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:40:21.470 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:41:21.374 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:42:21.276 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:43:21.180 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:44:21.083 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:45:20.985 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:46:20.890 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:47:20.795 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:48:20.696 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:49:20.596 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:50:20.501 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:51:20.405 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:52:20.307 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:53:20.198 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:54:20.101 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:55:20.059 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:56:19.954 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:57:19.858 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:58:19.760 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[DEBUG] 18:59:19.665 cn.wizzer.iot.mqtt.server.broker.protocol.PingReq - PINGREQ - clientId: MQTT_FX_Client
[INFO ] 19:00:19.023 org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@792bbc74{HTTP/1.1, (http/1.1)}{0.0.0.0:8922}
[INFO ] 19:00:19.025 org.eclipse.jetty.server.session - node0 Stopped scavenging
[INFO ] 19:00:19.043 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is deposing ...
[INFO ] 19:00:19.044 org.nutz.boot.starter.nutz.mvc.NbMvcLoading - Nutz.Mvc[nutz] is down in 1ms
